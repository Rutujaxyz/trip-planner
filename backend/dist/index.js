/*! For license information please see index.js.LICENSE.txt */
(()=>{var U={9276:(U,J,ee)=>{(()=>{var U={36:function(U,J,ee){"use strict";var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),we(ee(77),J)},373:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.callValueAssertion=J.assertRecord=J.assertArray=J.assertObject=J.getErrorMessage=J.getAssertionErrorFromProvider=J.fail=J.truthy=J.assertTruthy=void 0;const Se=ee(665),we=ee(333);function i(U,J){U||o(J)}function o(U){const J=a(U);if("object"==typeof J)throw J;throw new Error(J||"Assertion error")}function a(U){return void 0===U?"":"string"==typeof U?U:U()}function c(U){const J=a(U);return"string"==typeof J?J:J.message||"<no error message>"}function s(U,J,ee=void 0,Se={}){const u=()=>c(ee),o=U=>{const J=u();return 0===J.length?U:`${J} ${U}`};i("object"==typeof U,(()=>o("is not an object: "+typeof U))),i(void 0!==U,(()=>o("is not defined"))),i(null!==U,(()=>o("is null"))),i(!Array.isArray(U),(()=>o("is an array.")));const we=Object.entries(J);if(Se.failOnUnknownFields){const J=Se.allowedUnknownFieldNames||[];for(const ee in U)i(J.includes(ee)||we.some((([U])=>ee===U)),o(`property can't be checked: ${ee}`))}let Ee;for(const[J,ee]of we){i("function"==typeof ee||"object"==typeof ee&&null!==ee,(()=>`${u()}.${J} assertion is not an object or a function: ${typeof ee}`));const Se=U[J],o=()=>`${u()}.${J}`;if("object"==typeof ee)i(!Array.isArray(Se),(()=>`${u()}.${o()} use arrayAssertion() to create a ValueAssertion for an array`)),s(Se,ee,o);else if(i("function"==typeof ee,(()=>`${u()}.${o()} assertion is not a function`)),"$o"===J)Ee=ee;else{const U=ee(Se,o);i(void 0===U,`Assertion function must assert (void) but it returns a value: ${U}. Wrap with $u()?`)}}Ee&&Ee(U,ee)}function f(U,J,ee){J(U,ee)}function l(U){return(J="with-space-separator")=>{const ee=c(U);return ee?`${ee}${"with-space-separator"===J?" ":""}`:""}}function h(U,J,ee){"object"==typeof J?(i(!Array.isArray(U),(()=>`${ee}: use arrayAssertion() to create a ValueAssertion for an array`)),s(U,J,ee)):f(U,J,ee)}J.assertTruthy=i,J.truthy=function(U,J){return i(U,J),U},J.fail=o,J.getAssertionErrorFromProvider=a,J.getErrorMessage=c,J.assertObject=s,J.assertArray=function(U,J,ee={},we=void 0){var Ee,je;const Ae=l(we);i(Array.isArray(U),(()=>`${Ae()}value is not an array: ${U}`));const Fe=null!==(Ee=ee.minLength)&&void 0!==Ee?Ee:0,xe=null!==(je=ee.maxLength)&&void 0!==je?je:1/0;i(U.length>=Fe,(()=>`${Ae()}array length < minLength. Array length: ${U.length}, minLength: ${Fe}`)),i(U.length<=xe,(()=>`${Ae()}array length > maxLength. Array length: ${U.length}, maxLength: ${xe}`)),ee.uniqueByIdentity&&i((0,Se.checkArrayHasUniqueElements)(U,ee.uniqueByIdentity),(()=>`${Ae()}array contains non-unique elements`));let Te=0;const v=()=>`${Ae("no-space-separator")}[${Te}]`;for(;Te<U.length;Te++)h(U[Te],J,v)},J.assertRecord=function(U,J,ee={},Se=void 0){const Ee=l(Se);i("object"==typeof U,(()=>`${Ee()}value is not an object: ${(0,we.formatValue)(U)}`)),i(null!==U,(()=>`${Ee()}value is null`)),i(!Array.isArray(U),(()=>`${Ee()}the value is not a record, but is an array`));for(const[Se,je]of Object.entries(U)){const t=()=>`${Ee("no-space-separator")}['${Se}']`;ee.keyAssertion&&h(Se,ee.keyAssertion,(()=>`${t()}, key assertion failed:`)),h(je,J,t);const{keyField:U}=ee;if(U){i("object"==typeof je&&null!==je,(()=>`${t()} is not an object: ${(0,we.formatValue)(je)}`));const J=je[U];i(J===Se,(()=>`${t()} key value does not match object field '${U}' value: ${(0,we.formatValue)(J)}`))}}ee.$o&&ee.$o(U,Se)},J.callValueAssertion=f},596:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.stringAssertion=J.nullOr=J.undefinedOr=J.valueOr=J.$u=J.$a=J.recordAssertion=J.arrayAssertion=J.objectAssertion=void 0;const Se=ee(373),we=ee(333);function i(U,J){return(0,Se.assertTruthy)("function"==typeof U,`"check" is not a function: ${U}`),(ee,we=void 0)=>(0,Se.assertTruthy)(U(ee),(()=>{let U=(0,Se.getErrorMessage)(we)||"Check is failed";return U.endsWith(":")||(U+=":"),`${U} ${(0,Se.getErrorMessage)(J)||("object"==typeof ee?"[object]":`'${ee}'`)}`}))}function o(U,J){return(ee,we=void 0)=>{ee!==U&&("object"==typeof J?(0,Se.assertObject)(ee,J,we):(0,Se.callValueAssertion)(ee,J,we))}}J.objectAssertion=function(U,J=void 0){return ee=>(0,Se.assertObject)(ee,U,J)},J.arrayAssertion=function(U,J={}){const{minLength:ee,maxLength:we}=J;return(0,Se.assertTruthy)((null!=ee?ee:0)<=(null!=we?we:1/0),`minLength must be < maxLength! minLength ${ee}, maxLength: ${we}`),(0,Se.assertTruthy)((null!=ee?ee:0)>=0,`minLength must be a positive number: ${ee}`),(0,Se.assertTruthy)((null!=we?we:0)>=0,`maxLength must be a positive number: ${we}`),(ee,we=void 0)=>{(0,Se.assertArray)(ee,U,J,we)}},J.recordAssertion=function(U,J={}){return(ee,we=void 0)=>{(0,Se.assertRecord)(ee,U,J,we)}},J.$a=i,J.$u=function(U,J){return i(U,J)},J.valueOr=o,J.undefinedOr=function(U){return o(void 0,U)},J.nullOr=function(U){return o(null,U)},J.stringAssertion=U=>(J,ee=void 0)=>{var Ee,je;(0,we.assertString)(J,ee),(0,Se.assertTruthy)(J.length>=(null!==(Ee=U.minLength)&&void 0!==Ee?Ee:0),`${(0,Se.getErrorMessage)(ee)} length is too small: ${J.length} < ${U.minLength}`),(0,Se.assertTruthy)(J.length<=(null!==(je=U.maxLength)&&void 0!==je?je:1/0),`${(0,Se.getErrorMessage)(ee)} length is too large ${J.length} > ${U.maxLength}`)}},333:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.assertNonNullable=J.assertDate=J.assertEmail=J.assertHexString=J.assertUuid=J.assertBoolean=J.assertNumber=J.assertString=J.formatError=J.formatValue=void 0;const Se=ee(373),we=ee(665);function i(U){return void 0===U?"<undefined>":"symbol"==typeof U?U.toString():null===U?"<null>":`<${typeof U}:${U}>`}function o(U,J,ee){const we=(0,Se.getAssertionErrorFromProvider)(U);if("object"==typeof we)throw we;return`${we?`${we}: `:""}${J} ${i(ee)}`}J.formatValue=i,J.formatError=o,J.assertString=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isString)(U),(()=>o(J,"Not a string",U)))},J.assertNumber=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isNumber)(U),(()=>o(J,"Not a number",U)))},J.assertBoolean=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isBoolean)(U),(()=>o(J,"Not a boolean",U)))},J.assertUuid=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isUuid)(U),(()=>o(J,"Invalid uuid",U)))},J.assertHexString=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isHexString)(U),(()=>o(J,"Invalid hex string",U)))},J.assertEmail=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isEmail)(U),(()=>o(J,"Invalid email",U)))},J.assertDate=(U,J=void 0)=>{(0,Se.assertTruthy)(U instanceof Date,(()=>o(J,"Invalid Date",U)))},J.assertNonNullable=function(U,J){(0,Se.assertTruthy)((0,we.isNonNullable)(U),(()=>o(J,"Value is "+(void 0===U?"undefined":"null"),U)))}},665:(U,J)=>{"use strict";function e(U){return"string"==typeof U}function r(U,J,ee){if(U===J)return!0;if(!U||!J)return!1;if(U.length!==J.length)return!1;for(let Se=0;Se<U.length;Se++)if(!ee(U[Se],J[Se]))return!1;return!0}Object.defineProperty(J,"__esModule",{value:!0}),J.isNonNullable=J.isHexString=J.isUuid=J.isEmail=J.checkArraysHasEqualElementsByComparator=J.checkArraysHaveEqualElements=J.checkArrayHasUniqueElements=J.isDate=J.isNumber=J.isString=J.isBoolean=void 0,J.isBoolean=function(U){return"boolean"==typeof U},J.isString=e,J.isNumber=function(U){return"number"==typeof U},J.isDate=function(U){return U instanceof Date},J.checkArrayHasUniqueElements=function(U,J){if(U.length<=1)return!0;const ee=new Set;for(const Se of U){const U=J(Se);if(ee.has(U))return!1;ee.add(U)}return!0},J.checkArraysHaveEqualElements=function(U,J){return r(U,J,((U,J)=>U===J))},J.checkArraysHasEqualElementsByComparator=r;const ee=/^[-!#$%&'*+/\d=?A-Z^_a-z{|}~](\.?[-!#$%&'*+/\d=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z\d])*\.[a-zA-Z](-?[a-zA-Z\d])+$/,Se=/^(?!\.)((?!.*\.{2})[a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF.!#$%&'*+-/=?^_`{|}~\-\d]+)@(?!\.)([a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF\-.\d]+)((\.([a-zA-Z\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF]){2,63})+)$/i;J.isEmail=function(U,J={allowInternationalDomains:!1}){if(!e(U)||0===U.length||U.length>254)return!1;if(!(J.allowInternationalDomains?Se:ee).test(U))return!1;const we=U.split("@");return!(we[0].length>64||we[1].split(".").some((U=>U.length>63)))};const we=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;J.isUuid=function(U){return e(U)&&we.test(U)};const Ee=/^[0-9a-fA-F]*$/;J.isHexString=function(U){return e(U)&&Ee.test(U)},J.isNonNullable=function(U){return null!=U}},630:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateRecord=J.validateArray=J.validateObject=J.tryCatch=void 0;const Se=ee(373);function u(U){try{U()}catch(U){return U instanceof Error&&U.message||`${U}`}}J.tryCatch=u,J.validateObject=function(U,J,ee=void 0,we={}){return u((()=>(0,Se.assertObject)(U,J,ee,we)))},J.validateArray=function(U,J,ee={},we=void 0){return u((()=>(0,Se.assertArray)(U,J,ee,we)))},J.validateRecord=function(U,J,ee={},we=void 0){return u((()=>(0,Se.assertRecord)(U,J,ee,we)))}},77:function(U,J,ee){"use strict";var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),we(ee(373),J),we(ee(596),J),we(ee(333),J),we(ee(665),J),we(ee(630),J)},243:function(U,J,ee){var Se;U=ee.nmd(U),function(){var we,Ee="Expected a function",je="__lodash_hash_undefined__",Ae="__lodash_placeholder__",Fe=32,xe=128,Te=1/0,Ie=9007199254740991,ke=NaN,Ce=4294967295,De=[["ary",xe],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",Fe],["partialRight",64],["rearg",256]],Re="[object Arguments]",Le="[object Array]",qe="[object Boolean]",$e="[object Date]",ht="[object Error]",_t="[object Function]",gt="[object GeneratorFunction]",Dt="[object Map]",Vt="[object Number]",Ht="[object Object]",Yt="[object Promise]",Gt="[object RegExp]",gr="[object Set]",Yr="[object String]",Jr="[object Symbol]",en="[object WeakMap]",tn="[object ArrayBuffer]",rn="[object DataView]",nn="[object Float32Array]",on="[object Float64Array]",un="[object Int8Array]",sn="[object Int16Array]",an="[object Int32Array]",cn="[object Uint8Array]",ln="[object Uint8ClampedArray]",fn="[object Uint16Array]",dn="[object Uint32Array]",hn=/\b__p \+= '';/g,pn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bn=/&(?:amp|lt|gt|quot|#39);/g,yn=/[&<>"']/g,_n=RegExp(bn.source),mn=RegExp(yn.source),gn=/<%-([\s\S]+?)%>/g,wn=/<%([\s\S]+?)%>/g,An=/<%=([\s\S]+?)%>/g,Fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bn=/^\w*$/,ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,si=/[\\^$.*+?()[\]{}|]/g,li=RegExp(si.source),fi=/^\s+/,Si=/\s/,ji=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fi=/\{\n\/\* \[wrapped with (.+)\] \*/,xi=/,? & /,Ii=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ni=/[()=,{}\[\]\/\s]/,Di=/\\(\\)?/g,Ri=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vi=/\w*$/,$i=/^[-+]0x[0-9a-f]+$/i,zi=/^0b[01]+$/i,Qi=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,Yi=/^(?:0|[1-9]\d*)$/,Zi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xi=/($^)/,to=/['\n\r\u2028\u2029\\]/g,no="\\ud800-\\udfff",io="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",oo="\\u2700-\\u27bf",uo="a-z\\xdf-\\xf6\\xf8-\\xff",so="A-Z\\xc0-\\xd6\\xd8-\\xde",ao="\\ufe0e\\ufe0f",co="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ho="["+no+"]",po="["+co+"]",vo="["+io+"]",bo="\\d+",_o="["+oo+"]",mo="["+uo+"]",wo="[^"+no+co+bo+oo+uo+so+"]",Eo="\\ud83c[\\udffb-\\udfff]",Po="[^"+no+"]",Fo="(?:\\ud83c[\\udde6-\\uddff]){2}",To="[\\ud800-\\udbff][\\udc00-\\udfff]",Mo="["+so+"]",ko="\\u200d",No="(?:"+mo+"|"+wo+")",Co="(?:"+Mo+"|"+wo+")",Do="(?:['’](?:d|ll|m|re|s|t|ve))?",Lo="(?:['’](?:D|LL|M|RE|S|T|VE))?",qo="(?:"+vo+"|"+Eo+")?",Bo="["+ao+"]?",Uo=Bo+qo+"(?:"+ko+"(?:"+[Po,Fo,To].join("|")+")"+Bo+qo+")*",Wo="(?:"+[_o,Fo,To].join("|")+")"+Uo,Vo="(?:"+[Po+vo+"?",vo,Fo,To,ho].join("|")+")",$o=RegExp("['’]","g"),zo=RegExp(vo,"g"),Ko=RegExp(Eo+"(?="+Eo+")|"+Vo+Uo,"g"),gu=RegExp([Mo+"?"+mo+"+"+Do+"(?="+[po,Mo,"$"].join("|")+")",Co+"+"+Lo+"(?="+[po,Mo+No,"$"].join("|")+")",Mo+"?"+No+"+"+Do,Mo+"+"+Lo,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bo,Wo].join("|"),"g"),Fu=RegExp("["+ko+no+io+ao+"]"),Zu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,es=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ts=-1,rs={};rs[nn]=rs[on]=rs[un]=rs[sn]=rs[an]=rs[cn]=rs[ln]=rs[fn]=rs[dn]=!0,rs[Re]=rs[Le]=rs[tn]=rs[qe]=rs[rn]=rs[$e]=rs[ht]=rs[_t]=rs[Dt]=rs[Vt]=rs[Ht]=rs[Gt]=rs[gr]=rs[Yr]=rs[en]=!1;var ns={};ns[Re]=ns[Le]=ns[tn]=ns[rn]=ns[qe]=ns[$e]=ns[nn]=ns[on]=ns[un]=ns[sn]=ns[an]=ns[Dt]=ns[Vt]=ns[Ht]=ns[Gt]=ns[gr]=ns[Yr]=ns[Jr]=ns[cn]=ns[ln]=ns[fn]=ns[dn]=!0,ns[ht]=ns[_t]=ns[en]=!1;var is={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},os=parseFloat,us=parseInt,ss="object"==typeof global&&global&&global.Object===Object&&global,as="object"==typeof self&&self&&self.Object===Object&&self,cs=ss||as||Function("return this")(),ls=J&&!J.nodeType&&J,fs=ls&&U&&!U.nodeType&&U,ds=fs&&fs.exports===ls,hs=ds&&ss.process,ps=function(){try{return fs&&fs.require&&fs.require("util").types||hs&&hs.binding&&hs.binding("util")}catch(U){}}(),vs=ps&&ps.isArrayBuffer,bs=ps&&ps.isDate,ys=ps&&ps.isMap,_s=ps&&ps.isRegExp,ms=ps&&ps.isSet,gs=ps&&ps.isTypedArray;function Cn(U,J,ee){switch(ee.length){case 0:return U.call(J);case 1:return U.call(J,ee[0]);case 2:return U.call(J,ee[0],ee[1]);case 3:return U.call(J,ee[0],ee[1],ee[2])}return U.apply(J,ee)}function kn(U,J,ee,Se){for(var we=-1,Ee=null==U?0:U.length;++we<Ee;){var je=U[we];J(Se,je,ee(je),U)}return Se}function xn(U,J){for(var ee=-1,Se=null==U?0:U.length;++ee<Se&&!1!==J(U[ee],ee,U););return U}function jn(U,J){for(var ee=null==U?0:U.length;ee--&&!1!==J(U[ee],ee,U););return U}function Dn(U,J){for(var ee=-1,Se=null==U?0:U.length;++ee<Se;)if(!J(U[ee],ee,U))return!1;return!0}function En(U,J){for(var ee=-1,Se=null==U?0:U.length,we=0,Ee=[];++ee<Se;){var je=U[ee];J(je,ee,U)&&(Ee[we++]=je)}return Ee}function On(U,J){return!(null==U||!U.length)&&zn(U,J,0)>-1}function Ln(U,J,ee){for(var Se=-1,we=null==U?0:U.length;++Se<we;)if(ee(J,U[Se]))return!0;return!1}function $n(U,J){for(var ee=-1,Se=null==U?0:U.length,we=Array(Se);++ee<Se;)we[ee]=J(U[ee],ee,U);return we}function In(U,J){for(var ee=-1,Se=J.length,we=U.length;++ee<Se;)U[we+ee]=J[ee];return U}function Sn(U,J,ee,Se){var we=-1,Ee=null==U?0:U.length;for(Se&&Ee&&(ee=U[++we]);++we<Ee;)ee=J(ee,U[we],we,U);return ee}function qn(U,J,ee,Se){var we=null==U?0:U.length;for(Se&&we&&(ee=U[--we]);we--;)ee=J(ee,U[we],we,U);return ee}function Tn(U,J){for(var ee=-1,Se=null==U?0:U.length;++ee<Se;)if(J(U[ee],ee,U))return!0;return!1}var Os=Wn("length");function Nn(U,J,ee){var Se;return ee(U,(function(U,ee,we){if(J(U,ee,we))return Se=ee,!1})),Se}function Rn(U,J,ee,Se){for(var we=U.length,Ee=ee+(Se?1:-1);Se?Ee--:++Ee<we;)if(J(U[Ee],Ee,U))return Ee;return-1}function zn(U,J,ee){return J==J?function(U,J,ee){for(var Se=ee-1,we=U.length;++Se<we;)if(U[Se]===J)return Se;return-1}(U,J,ee):Rn(U,Pn,ee)}function Un(U,J,ee,Se){for(var we=ee-1,Ee=U.length;++we<Ee;)if(Se(U[we],J))return we;return-1}function Pn(U){return U!=U}function Mn(U,J){var ee=null==U?0:U.length;return ee?Vn(U,J)/ee:ke}function Wn(U){return function(J){return null==J?we:J[U]}}function Hn(U){return function(J){return null==U?we:U[J]}}function Zn(U,J,ee,Se,we){return we(U,(function(U,we,Ee){ee=Se?(Se=!1,U):J(ee,U,we,Ee)})),ee}function Vn(U,J){for(var ee,Se=-1,Ee=U.length;++Se<Ee;){var je=J(U[Se]);je!==we&&(ee=ee===we?je:ee+je)}return ee}function Kn(U,J){for(var ee=-1,Se=Array(U);++ee<U;)Se[ee]=J(ee);return Se}function Qn(U){return U?U.slice(0,he(U)+1).replace(fi,""):U}function Gn(U){return function(J){return U(J)}}function Yn(U,J){return $n(J,(function(J){return U[J]}))}function Jn(U,J){return U.has(J)}function Xn(U,J){for(var ee=-1,Se=U.length;++ee<Se&&zn(J,U[ee],0)>-1;);return ee}function te(U,J){for(var ee=U.length;ee--&&zn(J,U[ee],0)>-1;);return ee}var Ss=Hn({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ws=Hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function re(U){return"\\"+is[U]}function ue(U){return Fu.test(U)}function ie(U){var J=-1,ee=Array(U.size);return U.forEach((function(U,Se){ee[++J]=[Se,U]})),ee}function oe(U,J){return function(ee){return U(J(ee))}}function ae(U,J){for(var ee=-1,Se=U.length,we=0,Ee=[];++ee<Se;){var je=U[ee];je!==J&&je!==Ae||(U[ee]=Ae,Ee[we++]=ee)}return Ee}function ce(U){var J=-1,ee=Array(U.size);return U.forEach((function(U){ee[++J]=U})),ee}function fe(U){return ue(U)?function(U){for(var J=Ko.lastIndex=0;Ko.test(U);)++J;return J}(U):Os(U)}function le(U){return ue(U)?function(U){return U.match(Ko)||[]}(U):function(U){return U.split("")}(U)}function he(U){for(var J=U.length;J--&&Si.test(U.charAt(J)););return J}var Es=Hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),js=function t(U){var J,ee=(U=null==U?cs:js.defaults(cs.Object(),U,js.pick(cs,es))).Array,Se=U.Date,Si=U.Error,no=U.Function,io=U.Math,oo=U.Object,uo=U.RegExp,so=U.String,ao=U.TypeError,co=ee.prototype,ho=no.prototype,po=oo.prototype,vo=U["__core-js_shared__"],bo=ho.toString,_o=po.hasOwnProperty,mo=0,wo=(J=/[^.]+$/.exec(vo&&vo.keys&&vo.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",Eo=po.toString,Po=bo.call(oo),Fo=cs._,To=uo("^"+bo.call(_o).replace(si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mo=ds?U.Buffer:we,ko=U.Symbol,No=U.Uint8Array,Co=Mo?Mo.allocUnsafe:we,Do=oe(oo.getPrototypeOf,oo),Lo=oo.create,qo=po.propertyIsEnumerable,Bo=co.splice,Uo=ko?ko.isConcatSpreadable:we,Wo=ko?ko.iterator:we,Vo=ko?ko.toStringTag:we,Ko=function(){try{var U=ci(oo,"defineProperty");return U({},"",{}),U}catch(U){}}(),Fu=U.clearTimeout!==cs.clearTimeout&&U.clearTimeout,is=Se&&Se.now!==cs.Date.now&&Se.now,ss=U.setTimeout!==cs.setTimeout&&U.setTimeout,as=io.ceil,ls=io.floor,fs=oo.getOwnPropertySymbols,hs=Mo?Mo.isBuffer:we,ps=U.isFinite,Os=co.join,As=oe(oo.keys,oo),Ps=io.max,Fs=io.min,xs=Se.now,Ts=U.parseInt,Ms=io.random,Is=co.reverse,ks=ci(U,"DataView"),Ns=ci(U,"Map"),Cs=ci(U,"Promise"),Ds=ci(U,"Set"),Rs=ci(U,"WeakMap"),Ls=ci(oo,"create"),qs=Rs&&new Rs,Bs={},Us=Ti(ks),Ws=Ti(Ns),Vs=Ti(Cs),$s=Ti(Ds),zs=Ti(Rs),Qs=ko?ko.prototype:we,Hs=Qs?Qs.valueOf:we,Ys=Qs?Qs.toString:we;function Ne(U){if(ta(U)&&!xc(U)&&!(U instanceof Pe)){if(U instanceof Ue)return U;if(_o.call(U,"__wrapped__"))return Bi(U)}return new Ue(U)}var Gs=function(){function t(){}return function(U){if(!Xo(U))return{};if(Lo)return Lo(U);t.prototype=U;var J=new t;return t.prototype=we,J}}();function ze(){}function Ue(U,J){this.__wrapped__=U,this.__actions__=[],this.__chain__=!!J,this.__index__=0,this.__values__=we}function Pe(U){this.__wrapped__=U,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function Me(U){var J=-1,ee=null==U?0:U.length;for(this.clear();++J<ee;){var Se=U[J];this.set(Se[0],Se[1])}}function We(U){var J=-1,ee=null==U?0:U.length;for(this.clear();++J<ee;){var Se=U[J];this.set(Se[0],Se[1])}}function He(U){var J=-1,ee=null==U?0:U.length;for(this.clear();++J<ee;){var Se=U[J];this.set(Se[0],Se[1])}}function Ze(U){var J=-1,ee=null==U?0:U.length;for(this.__data__=new He;++J<ee;)this.add(U[J])}function Ve(U){var J=this.__data__=new We(U);this.size=J.size}function Ke(U,J){var ee=xc(U),Se=!ee&&Fc(U),we=!ee&&!Se&&Mc(U),Ee=!ee&&!Se&&!we&&Dc(U),je=ee||Se||we||Ee,Ae=je?Kn(U.length,so):[],Fe=Ae.length;for(var xe in U)!J&&!_o.call(U,xe)||je&&("length"==xe||we&&("offset"==xe||"parent"==xe)||Ee&&("buffer"==xe||"byteLength"==xe||"byteOffset"==xe)||di(xe,Fe))||Ae.push(xe);return Ae}function Qe(U){var J=U.length;return J?U[Hr(0,J-1)]:we}function Ge(U,J){return Li(xu(U),ir(J,0,U.length))}function Ye(U){return Li(xu(U))}function Je(U,J,ee){(ee!==we&&!Ro(U[J],ee)||ee===we&&!(J in U))&&rr(U,J,ee)}function Xe(U,J,ee){var Se=U[J];_o.call(U,J)&&Ro(Se,ee)&&(ee!==we||J in U)||rr(U,J,ee)}function tr(U,J){for(var ee=U.length;ee--;)if(Ro(U[ee][0],J))return ee;return-1}function nr(U,J,ee,Se){return Ks(U,(function(U,we,Ee){J(Se,U,ee(U),Ee)})),Se}function er(U,J){return U&&ju(J,Oa(J),U)}function rr(U,J,ee){"__proto__"==J&&Ko?Ko(U,J,{configurable:!0,enumerable:!0,value:ee,writable:!0}):U[J]=ee}function ur(U,J){for(var Se=-1,Ee=J.length,je=ee(Ee),Ae=null==U;++Se<Ee;)je[Se]=Ae?we:ka(U,J[Se]);return je}function ir(U,J,ee){return U==U&&(ee!==we&&(U=U<=ee?U:ee),J!==we&&(U=U>=J?U:J)),U}function or(U,J,ee,Se,Ee,je){var Ae,Fe=1&J,xe=2&J,Te=4&J;if(ee&&(Ae=Ee?ee(U,Se,Ee,je):ee(U)),Ae!==we)return Ae;if(!Xo(U))return U;var Ie=xc(U);if(Ie){if(Ae=function(U){var J=U.length,ee=new U.constructor(J);return J&&"string"==typeof U[0]&&_o.call(U,"index")&&(ee.index=U.index,ee.input=U.input),ee}(U),!Fe)return xu(U,Ae)}else{var ke=ma(U),Ce=ke==_t||ke==gt;if(Mc(U))return bu(U,Fe);if(ke==Ht||ke==Re||Ce&&!Ee){if(Ae=xe||Ce?{}:pi(U),!Fe)return xe?function(U,J){return ju(U,ya(U),J)}(U,function(U,J){return U&&ju(J,La(J),U)}(Ae,U)):function(U,J){return ju(U,ba(U),J)}(U,er(Ae,U))}else{if(!ns[ke])return Ee?U:{};Ae=function(U,J,ee){var Se,we=U.constructor;switch(J){case tn:return mu(U);case qe:case $e:return new we(+U);case rn:return function(U,J){var ee=J?mu(U.buffer):U.buffer;return new U.constructor(ee,U.byteOffset,U.byteLength)}(U,ee);case nn:case on:case un:case sn:case an:case cn:case ln:case fn:case dn:return Au(U,ee);case Dt:return new we;case Vt:case Yr:return new we(U);case Gt:return function(U){var J=new U.constructor(U.source,Vi.exec(U));return J.lastIndex=U.lastIndex,J}(U);case gr:return new we;case Jr:return Se=U,Hs?oo(Hs.call(Se)):{}}}(U,ke,Fe)}}je||(je=new Ve);var De=je.get(U);if(De)return De;je.set(U,Ae),Cc(U)?U.forEach((function(Se){Ae.add(or(Se,J,ee,Se,U,je))})):kc(U)&&U.forEach((function(Se,we){Ae.set(we,or(Se,J,ee,we,U,je))}));var Le=Ie?we:(Te?xe?ni:ti:xe?La:Oa)(U);return xn(Le||U,(function(Se,we){Le&&(Se=U[we=Se]),Xe(Ae,we,or(Se,J,ee,we,U,je))})),Ae}function ar(U,J,ee){var Se=ee.length;if(null==U)return!Se;for(U=oo(U);Se--;){var Ee=ee[Se],je=J[Ee],Ae=U[Ee];if(Ae===we&&!(Ee in U)||!je(Ae))return!1}return!0}function cr(U,J,ee){if("function"!=typeof U)throw new ao(Ee);return Ea((function(){U.apply(we,ee)}),J)}function sr(U,J,ee,Se){var we=-1,Ee=On,je=!0,Ae=U.length,Fe=[],xe=J.length;if(!Ae)return Fe;ee&&(J=$n(J,Gn(ee))),Se?(Ee=Ln,je=!1):J.length>=200&&(Ee=Jn,je=!1,J=new Ze(J));e:for(;++we<Ae;){var Te=U[we],Ie=null==ee?Te:ee(Te);if(Te=Se||0!==Te?Te:0,je&&Ie==Ie){for(var ke=xe;ke--;)if(J[ke]===Ie)continue e;Fe.push(Te)}else Ee(J,Ie,Se)||Fe.push(Te)}return Fe}Ne.templateSettings={escape:gn,evaluate:wn,interpolate:An,variable:"",imports:{_:Ne}},Ne.prototype=ze.prototype,Ne.prototype.constructor=Ne,Ue.prototype=Gs(ze.prototype),Ue.prototype.constructor=Ue,Pe.prototype=Gs(ze.prototype),Pe.prototype.constructor=Pe,Me.prototype.clear=function(){this.__data__=Ls?Ls(null):{},this.size=0},Me.prototype.delete=function(U){var J=this.has(U)&&delete this.__data__[U];return this.size-=J?1:0,J},Me.prototype.get=function(U){var J=this.__data__;if(Ls){var ee=J[U];return ee===je?we:ee}return _o.call(J,U)?J[U]:we},Me.prototype.has=function(U){var J=this.__data__;return Ls?J[U]!==we:_o.call(J,U)},Me.prototype.set=function(U,J){var ee=this.__data__;return this.size+=this.has(U)?0:1,ee[U]=Ls&&J===we?je:J,this},We.prototype.clear=function(){this.__data__=[],this.size=0},We.prototype.delete=function(U){var J=this.__data__,ee=tr(J,U);return!(ee<0||(ee==J.length-1?J.pop():Bo.call(J,ee,1),--this.size,0))},We.prototype.get=function(U){var J=this.__data__,ee=tr(J,U);return ee<0?we:J[ee][1]},We.prototype.has=function(U){return tr(this.__data__,U)>-1},We.prototype.set=function(U,J){var ee=this.__data__,Se=tr(ee,U);return Se<0?(++this.size,ee.push([U,J])):ee[Se][1]=J,this},He.prototype.clear=function(){this.size=0,this.__data__={hash:new Me,map:new(Ns||We),string:new Me}},He.prototype.delete=function(U){var J=oi(this,U).delete(U);return this.size-=J?1:0,J},He.prototype.get=function(U){return oi(this,U).get(U)},He.prototype.has=function(U){return oi(this,U).has(U)},He.prototype.set=function(U,J){var ee=oi(this,U),Se=ee.size;return ee.set(U,J),this.size+=ee.size==Se?0:1,this},Ze.prototype.add=Ze.prototype.push=function(U){return this.__data__.set(U,je),this},Ze.prototype.has=function(U){return this.__data__.has(U)},Ve.prototype.clear=function(){this.__data__=new We,this.size=0},Ve.prototype.delete=function(U){var J=this.__data__,ee=J.delete(U);return this.size=J.size,ee},Ve.prototype.get=function(U){return this.__data__.get(U)},Ve.prototype.has=function(U){return this.__data__.has(U)},Ve.prototype.set=function(U,J){var ee=this.__data__;if(ee instanceof We){var Se=ee.__data__;if(!Ns||Se.length<199)return Se.push([U,J]),this.size=++ee.size,this;ee=this.__data__=new He(Se)}return ee.set(U,J),this.size=ee.size,this};var Ks=Ou(yr),Zs=Ou(Fr,!0);function hr(U,J){var ee=!0;return Ks(U,(function(U,Se,we){return ee=!!J(U,Se,we)})),ee}function pr(U,J,ee){for(var Se=-1,Ee=U.length;++Se<Ee;){var je=U[Se],Ae=J(je);if(null!=Ae&&(Fe===we?Ae==Ae&&!aa(Ae):ee(Ae,Fe)))var Fe=Ae,xe=je}return xe}function vr(U,J){var ee=[];return Ks(U,(function(U,Se,we){J(U,Se,we)&&ee.push(U)})),ee}function dr(U,J,ee,Se,we){var Ee=-1,je=U.length;for(ee||(ee=vi),we||(we=[]);++Ee<je;){var Ae=U[Ee];J>0&&ee(Ae)?J>1?dr(Ae,J-1,ee,Se,we):In(we,Ae):Se||(we[we.length]=Ae)}return we}var Js=Lu(),Xs=Lu(!0);function yr(U,J){return U&&Js(U,J,Oa)}function Fr(U,J){return U&&Xs(U,J,Oa)}function br(U,J){return En(J,(function(J){return Go(U[J])}))}function mr(U,J){for(var ee=0,Se=(J=_u(J,U)).length;null!=U&&ee<Se;)U=U[qi(J[ee++])];return ee&&ee==Se?U:we}function Ar(U,J,ee){var Se=J(U);return xc(U)?Se:In(Se,ee(U))}function wr(U){return null==U?U===we?"[object Undefined]":"[object Null]":Vo&&Vo in oo(U)?function(U){var J=_o.call(U,Vo),ee=U[Vo];try{U[Vo]=we;var Se=!0}catch(U){}var Ee=Eo.call(U);return Se&&(J?U[Vo]=ee:delete U[Vo]),Ee}(U):function(U){return Eo.call(U)}(U)}function Cr(U,J){return U>J}function kr(U,J){return null!=U&&_o.call(U,J)}function xr(U,J){return null!=U&&J in oo(U)}function jr(U,J,Se){for(var Ee=Se?Ln:On,je=U[0].length,Ae=U.length,Fe=Ae,xe=ee(Ae),Te=1/0,Ie=[];Fe--;){var ke=U[Fe];Fe&&J&&(ke=$n(ke,Gn(J))),Te=Fs(ke.length,Te),xe[Fe]=!Se&&(J||je>=120&&ke.length>=120)?new Ze(Fe&&ke):we}ke=U[0];var Ce=-1,De=xe[0];e:for(;++Ce<je&&Ie.length<Te;){var Re=ke[Ce],Le=J?J(Re):Re;if(Re=Se||0!==Re?Re:0,!(De?Jn(De,Le):Ee(Ie,Le,Se))){for(Fe=Ae;--Fe;){var qe=xe[Fe];if(!(qe?Jn(qe,Le):Ee(U[Fe],Le,Se)))continue e}De&&De.push(Le),Ie.push(Re)}}return Ie}function Dr(U,J,ee){var Se=null==(U=Ci(U,J=_u(J,U)))?U:U[qi(Ki(J))];return null==Se?we:Cn(Se,U,ee)}function Er(U){return ta(U)&&wr(U)==Re}function Or(U,J,ee,Se,Ee){return U===J||(null==U||null==J||!ta(U)&&!ta(J)?U!=U&&J!=J:function(U,J,ee,Se,Ee,je){var Ae=xc(U),Fe=xc(J),xe=Ae?Le:ma(U),Te=Fe?Le:ma(J),Ie=(xe=xe==Re?Ht:xe)==Ht,ke=(Te=Te==Re?Ht:Te)==Ht,Ce=xe==Te;if(Ce&&Mc(U)){if(!Mc(J))return!1;Ae=!0,Ie=!1}if(Ce&&!Ie)return je||(je=new Ve),Ae||Dc(U)?Ju(U,J,ee,Se,Ee,je):function(U,J,ee,Se,we,Ee,je){switch(ee){case rn:if(U.byteLength!=J.byteLength||U.byteOffset!=J.byteOffset)return!1;U=U.buffer,J=J.buffer;case tn:return!(U.byteLength!=J.byteLength||!Ee(new No(U),new No(J)));case qe:case $e:case Vt:return Ro(+U,+J);case ht:return U.name==J.name&&U.message==J.message;case Gt:case Yr:return U==J+"";case Dt:var Ae=ie;case gr:var Fe=1&Se;if(Ae||(Ae=ce),U.size!=J.size&&!Fe)return!1;var xe=je.get(U);if(xe)return xe==J;Se|=2,je.set(U,J);var Te=Ju(Ae(U),Ae(J),Se,we,Ee,je);return je.delete(U),Te;case Jr:if(Hs)return Hs.call(U)==Hs.call(J)}return!1}(U,J,xe,ee,Se,Ee,je);if(!(1&ee)){var De=Ie&&_o.call(U,"__wrapped__"),_t=ke&&_o.call(J,"__wrapped__");if(De||_t){var gt=De?U.value():U,Yt=_t?J.value():J;return je||(je=new Ve),Ee(gt,Yt,ee,Se,je)}}return!!Ce&&(je||(je=new Ve),function(U,J,ee,Se,Ee,je){var Ae=1&ee,Fe=ti(U),xe=Fe.length;if(xe!=ti(J).length&&!Ae)return!1;for(var Te=xe;Te--;){var Ie=Fe[Te];if(!(Ae?Ie in J:_o.call(J,Ie)))return!1}var ke=je.get(U),Ce=je.get(J);if(ke&&Ce)return ke==J&&Ce==U;var De=!0;je.set(U,J),je.set(J,U);for(var Re=Ae;++Te<xe;){var Le=U[Ie=Fe[Te]],qe=J[Ie];if(Se)var $e=Ae?Se(qe,Le,Ie,J,U,je):Se(Le,qe,Ie,U,J,je);if(!($e===we?Le===qe||Ee(Le,qe,ee,Se,je):$e)){De=!1;break}Re||(Re="constructor"==Ie)}if(De&&!Re){var ht=U.constructor,_t=J.constructor;ht==_t||!("constructor"in U)||!("constructor"in J)||"function"==typeof ht&&ht instanceof ht&&"function"==typeof _t&&_t instanceof _t||(De=!1)}return je.delete(U),je.delete(J),De}(U,J,ee,Se,Ee,je))}(U,J,ee,Se,Or,Ee))}function Lr(U,J,ee,Se){var Ee=ee.length,je=Ee,Ae=!Se;if(null==U)return!je;for(U=oo(U);Ee--;){var Fe=ee[Ee];if(Ae&&Fe[2]?Fe[1]!==U[Fe[0]]:!(Fe[0]in U))return!1}for(;++Ee<je;){var xe=(Fe=ee[Ee])[0],Te=U[xe],Ie=Fe[1];if(Ae&&Fe[2]){if(Te===we&&!(xe in U))return!1}else{var ke=new Ve;if(Se)var Ce=Se(Te,Ie,xe,U,J,ke);if(!(Ce===we?Or(Ie,Te,3,Se,ke):Ce))return!1}}return!0}function $r(U){return!(!Xo(U)||(J=U,wo&&wo in J))&&(Go(U)?To:Qi).test(Ti(U));var J}function Ir(U){return"function"==typeof U?U:null==U?ec:"object"==typeof U?xc(U)?Nr(U[0],U[1]):Br(U):lc(U)}function Sr(U){if(!bi(U))return As(U);var J=[];for(var ee in oo(U))_o.call(U,ee)&&"constructor"!=ee&&J.push(ee);return J}function qr(U,J){return U<J}function Tr(U,J){var Se=-1,we=Ho(U)?ee(U.length):[];return Ks(U,(function(U,ee,Ee){we[++Se]=J(U,ee,Ee)})),we}function Br(U){var J=ai(U);return 1==J.length&&J[0][2]?Ai(J[0][0],J[0][1]):function(ee){return ee===U||Lr(ee,U,J)}}function Nr(U,J){return gi(U)&&mi(J)?Ai(qi(U),J):function(ee){var Se=ka(ee,U);return Se===we&&Se===J?xa(ee,U):Or(J,Se,3)}}function Rr(U,J,ee,Se,Ee){U!==J&&Js(J,(function(je,Ae){if(Ee||(Ee=new Ve),Xo(je))!function(U,J,ee,Se,Ee,je,Ae){var Fe=ki(U,ee),xe=ki(J,ee),Te=Ae.get(xe);if(Te)Je(U,ee,Te);else{var Ie=je?je(Fe,xe,ee+"",U,J,Ae):we,ke=Ie===we;if(ke){var Ce=xc(xe),De=!Ce&&Mc(xe),Re=!Ce&&!De&&Dc(xe);Ie=xe,Ce||De||Re?xc(Fe)?Ie=Fe:Zo(Fe)?Ie=xu(Fe):De?(ke=!1,Ie=bu(xe,!0)):Re?(ke=!1,Ie=Au(xe,!0)):Ie=[]:ra(xe)||Fc(xe)?(Ie=Fe,Fc(Fe)?Ie=_a(Fe):Xo(Fe)&&!Go(Fe)||(Ie=pi(xe))):ke=!1}ke&&(Ae.set(xe,Ie),Ee(Ie,xe,Se,je,Ae),Ae.delete(xe)),Je(U,ee,Ie)}}(U,J,Ae,ee,Rr,Se,Ee);else{var Fe=Se?Se(ki(U,Ae),je,Ae+"",U,J,Ee):we;Fe===we&&(Fe=je),Je(U,Ae,Fe)}}),La)}function zr(U,J){var ee=U.length;if(ee)return di(J+=J<0?ee:0,ee)?U[J]:we}function Ur(U,J,ee){J=J.length?$n(J,(function(U){return xc(U)?function(J){return mr(J,1===U.length?U[0]:U)}:U})):[ec];var Se=-1;J=$n(J,Gn(ii()));var we=Tr(U,(function(U,ee,we){var Ee=$n(J,(function(J){return J(U)}));return{criteria:Ee,index:++Se,value:U}}));return function(U,J){var Se=U.length;for(U.sort((function(U,J){return function(U,J,ee){for(var Se=-1,we=U.criteria,Ee=J.criteria,je=we.length,Ae=ee.length;++Se<je;){var Fe=wu(we[Se],Ee[Se]);if(Fe)return Se>=Ae?Fe:Fe*("desc"==ee[Se]?-1:1)}return U.index-J.index}(U,J,ee)}));Se--;)U[Se]=U[Se].value;return U}(we)}function Pr(U,J,ee){for(var Se=-1,we=J.length,Ee={};++Se<we;){var je=J[Se],Ae=mr(U,je);ee(Ae,je)&&Gr(Ee,_u(je,U),Ae)}return Ee}function Mr(U,J,ee,Se){var we=Se?Un:zn,Ee=-1,je=J.length,Ae=U;for(U===J&&(J=xu(J)),ee&&(Ae=$n(U,Gn(ee)));++Ee<je;)for(var Fe=0,xe=J[Ee],Te=ee?ee(xe):xe;(Fe=we(Ae,Te,Fe,Se))>-1;)Ae!==U&&Bo.call(Ae,Fe,1),Bo.call(U,Fe,1);return U}function Wr(U,J){for(var ee=U?J.length:0,Se=ee-1;ee--;){var we=J[ee];if(ee==Se||we!==Ee){var Ee=we;di(we)?Bo.call(U,we,1):cu(U,we)}}return U}function Hr(U,J){return U+ls(Ms()*(J-U+1))}function Zr(U,J){var ee="";if(!U||J<1||J>Ie)return ee;do{J%2&&(ee+=U),(J=ls(J/2))&&(U+=U)}while(J);return ee}function Vr(U,J){return ja(wi(U,J,ec),U+"")}function Kr(U){return Qe(Ra(U))}function Qr(U,J){var ee=Ra(U);return Li(ee,ir(J,0,ee.length))}function Gr(U,J,ee,Se){if(!Xo(U))return U;for(var Ee=-1,je=(J=_u(J,U)).length,Ae=je-1,Fe=U;null!=Fe&&++Ee<je;){var xe=qi(J[Ee]),Te=ee;if("__proto__"===xe||"constructor"===xe||"prototype"===xe)return U;if(Ee!=Ae){var Ie=Fe[xe];(Te=Se?Se(Ie,xe,Fe):we)===we&&(Te=Xo(Ie)?Ie:di(J[Ee+1])?[]:{})}Xe(Fe,xe,Te),Fe=Fe[xe]}return U}var na=qs?function(U,J){return qs.set(U,J),U}:ec,ia=Ko?function(U,J){return Ko(U,"toString",{configurable:!0,enumerable:!1,value:Xa(J),writable:!0})}:ec;function Xr(U){return Li(Ra(U))}function tu(U,J,Se){var we=-1,Ee=U.length;J<0&&(J=-J>Ee?0:Ee+J),(Se=Se>Ee?Ee:Se)<0&&(Se+=Ee),Ee=J>Se?0:Se-J>>>0,J>>>=0;for(var je=ee(Ee);++we<Ee;)je[we]=U[we+J];return je}function nu(U,J){var ee;return Ks(U,(function(U,Se,we){return!(ee=J(U,Se,we))})),!!ee}function eu(U,J,ee){var Se=0,we=null==U?Se:U.length;if("number"==typeof J&&J==J&&we<=2147483647){for(;Se<we;){var Ee=Se+we>>>1,je=U[Ee];null!==je&&!aa(je)&&(ee?je<=J:je<J)?Se=Ee+1:we=Ee}return we}return ru(U,J,ec,ee)}function ru(U,J,ee,Se){var Ee=0,je=null==U?0:U.length;if(0===je)return 0;for(var Ae=(J=ee(J))!=J,Fe=null===J,xe=aa(J),Te=J===we;Ee<je;){var Ie=ls((Ee+je)/2),ke=ee(U[Ie]),Ce=ke!==we,De=null===ke,Re=ke==ke,Le=aa(ke);if(Ae)var qe=Se||Re;else qe=Te?Re&&(Se||Ce):Fe?Re&&Ce&&(Se||!De):xe?Re&&Ce&&!De&&(Se||!Le):!De&&!Le&&(Se?ke<=J:ke<J);qe?Ee=Ie+1:je=Ie}return Fs(je,4294967294)}function uu(U,J){for(var ee=-1,Se=U.length,we=0,Ee=[];++ee<Se;){var je=U[ee],Ae=J?J(je):je;if(!ee||!Ro(Ae,Fe)){var Fe=Ae;Ee[we++]=0===je?0:je}}return Ee}function iu(U){return"number"==typeof U?U:aa(U)?ke:+U}function ou(U){if("string"==typeof U)return U;if(xc(U))return $n(U,ou)+"";if(aa(U))return Ys?Ys.call(U):"";var J=U+"";return"0"==J&&1/U==-1/0?"-0":J}function au(U,J,ee){var Se=-1,we=On,Ee=U.length,je=!0,Ae=[],Fe=Ae;if(ee)je=!1,we=Ln;else if(Ee>=200){var xe=J?null:ca(U);if(xe)return ce(xe);je=!1,we=Jn,Fe=new Ze}else Fe=J?[]:Ae;e:for(;++Se<Ee;){var Te=U[Se],Ie=J?J(Te):Te;if(Te=ee||0!==Te?Te:0,je&&Ie==Ie){for(var ke=Fe.length;ke--;)if(Fe[ke]===Ie)continue e;J&&Fe.push(Ie),Ae.push(Te)}else we(Fe,Ie,ee)||(Fe!==Ae&&Fe.push(Ie),Ae.push(Te))}return Ae}function cu(U,J){return null==(U=Ci(U,J=_u(J,U)))||delete U[qi(Ki(J))]}function su(U,J,ee,Se){return Gr(U,J,ee(mr(U,J)),Se)}function fu(U,J,ee,Se){for(var we=U.length,Ee=Se?we:-1;(Se?Ee--:++Ee<we)&&J(U[Ee],Ee,U););return ee?tu(U,Se?0:Ee,Se?Ee+1:we):tu(U,Se?Ee+1:0,Se?we:Ee)}function lu(U,J){var ee=U;return ee instanceof Pe&&(ee=ee.value()),Sn(J,(function(U,J){return J.func.apply(J.thisArg,In([U],J.args))}),ee)}function hu(U,J,Se){var we=U.length;if(we<2)return we?au(U[0]):[];for(var Ee=-1,je=ee(we);++Ee<we;)for(var Ae=U[Ee],Fe=-1;++Fe<we;)Fe!=Ee&&(je[Ee]=sr(je[Ee]||Ae,U[Fe],J,Se));return au(dr(je,1),J,Se)}function pu(U,J,ee){for(var Se=-1,Ee=U.length,je=J.length,Ae={};++Se<Ee;){var Fe=Se<je?J[Se]:we;ee(Ae,U[Se],Fe)}return Ae}function vu(U){return Zo(U)?U:[]}function du(U){return"function"==typeof U?U:ec}function _u(U,J){return xc(U)?U:gi(U,J)?[U]:Ma(ga(U))}var ua=Vr;function yu(U,J,ee){var Se=U.length;return ee=ee===we?Se:ee,!J&&ee>=Se?U:tu(U,J,ee)}var sa=Fu||function(U){return cs.clearTimeout(U)};function bu(U,J){if(J)return U.slice();var ee=U.length,Se=Co?Co(ee):new U.constructor(ee);return U.copy(Se),Se}function mu(U){var J=new U.constructor(U.byteLength);return new No(J).set(new No(U)),J}function Au(U,J){var ee=J?mu(U.buffer):U.buffer;return new U.constructor(ee,U.byteOffset,U.length)}function wu(U,J){if(U!==J){var ee=U!==we,Se=null===U,Ee=U==U,je=aa(U),Ae=J!==we,Fe=null===J,xe=J==J,Te=aa(J);if(!Fe&&!Te&&!je&&U>J||je&&Ae&&xe&&!Fe&&!Te||Se&&Ae&&xe||!ee&&xe||!Ee)return 1;if(!Se&&!je&&!Te&&U<J||Te&&ee&&Ee&&!Se&&!je||Fe&&ee&&Ee||!Ae&&Ee||!xe)return-1}return 0}function Cu(U,J,Se,we){for(var Ee=-1,je=U.length,Ae=Se.length,Fe=-1,xe=J.length,Te=Ps(je-Ae,0),Ie=ee(xe+Te),ke=!we;++Fe<xe;)Ie[Fe]=J[Fe];for(;++Ee<Ae;)(ke||Ee<je)&&(Ie[Se[Ee]]=U[Ee]);for(;Te--;)Ie[Fe++]=U[Ee++];return Ie}function ku(U,J,Se,we){for(var Ee=-1,je=U.length,Ae=-1,Fe=Se.length,xe=-1,Te=J.length,Ie=Ps(je-Fe,0),ke=ee(Ie+Te),Ce=!we;++Ee<Ie;)ke[Ee]=U[Ee];for(var De=Ee;++xe<Te;)ke[De+xe]=J[xe];for(;++Ae<Fe;)(Ce||Ee<je)&&(ke[De+Se[Ae]]=U[Ee++]);return ke}function xu(U,J){var Se=-1,we=U.length;for(J||(J=ee(we));++Se<we;)J[Se]=U[Se];return J}function ju(U,J,ee,Se){var Ee=!ee;ee||(ee={});for(var je=-1,Ae=J.length;++je<Ae;){var Fe=J[je],xe=Se?Se(ee[Fe],U[Fe],Fe,ee,U):we;xe===we&&(xe=U[Fe]),Ee?rr(ee,Fe,xe):Xe(ee,Fe,xe)}return ee}function Du(U,J){return function(ee,Se){var we=xc(ee)?kn:nr,Ee=J?J():{};return we(ee,U,ii(Se,2),Ee)}}function Eu(U){return Vr((function(J,ee){var Se=-1,Ee=ee.length,je=Ee>1?ee[Ee-1]:we,Ae=Ee>2?ee[2]:we;for(je=U.length>3&&"function"==typeof je?(Ee--,je):we,Ae&&_i(ee[0],ee[1],Ae)&&(je=Ee<3?we:je,Ee=1),J=oo(J);++Se<Ee;){var Fe=ee[Se];Fe&&U(J,Fe,Se,je)}return J}))}function Ou(U,J){return function(ee,Se){if(null==ee)return ee;if(!Ho(ee))return U(ee,Se);for(var we=ee.length,Ee=J?we:-1,je=oo(ee);(J?Ee--:++Ee<we)&&!1!==Se(je[Ee],Ee,je););return ee}}function Lu(U){return function(J,ee,Se){for(var we=-1,Ee=oo(J),je=Se(J),Ae=je.length;Ae--;){var Fe=je[U?Ae:++we];if(!1===ee(Ee[Fe],Fe,Ee))break}return J}}function $u(U){return function(J){var ee=ue(J=ga(J))?le(J):we,Se=ee?ee[0]:J.charAt(0),Ee=ee?yu(ee,1).join(""):J.slice(1);return Se[U]()+Ee}}function Iu(U){return function(J){return Sn(Ga(Pa(J).replace($o,"")),U,"")}}function Su(U){return function(){var J=arguments;switch(J.length){case 0:return new U;case 1:return new U(J[0]);case 2:return new U(J[0],J[1]);case 3:return new U(J[0],J[1],J[2]);case 4:return new U(J[0],J[1],J[2],J[3]);case 5:return new U(J[0],J[1],J[2],J[3],J[4]);case 6:return new U(J[0],J[1],J[2],J[3],J[4],J[5]);case 7:return new U(J[0],J[1],J[2],J[3],J[4],J[5],J[6])}var ee=Gs(U.prototype),Se=U.apply(ee,J);return Xo(Se)?Se:ee}}function qu(U){return function(J,ee,Se){var Ee=oo(J);if(!Ho(J)){var je=ii(ee,3);J=Oa(J),ee=function(U){return je(Ee[U],U,Ee)}}var Ae=U(J,ee,Se);return Ae>-1?Ee[je?J[Ae]:Ae]:we}}function Tu(U){return Xu((function(J){var ee=J.length,Se=ee,je=Ue.prototype.thru;for(U&&J.reverse();Se--;){var Ae=J[Se];if("function"!=typeof Ae)throw new ao(Ee);if(je&&!Fe&&"wrapper"==ri(Ae))var Fe=new Ue([],!0)}for(Se=Fe?Se:ee;++Se<ee;){var xe=ri(Ae=J[Se]),Te="wrapper"==xe?fa(Ae):we;Fe=Te&&yi(Te[0])&&424==Te[1]&&!Te[4].length&&1==Te[9]?Fe[ri(Te[0])].apply(Fe,Te[3]):1==Ae.length&&yi(Ae)?Fe[xe]():Fe.thru(Ae)}return function(){var U=arguments,Se=U[0];if(Fe&&1==U.length&&xc(Se))return Fe.plant(Se).value();for(var we=0,Ee=ee?J[we].apply(this,U):Se;++we<ee;)Ee=J[we].call(this,Ee);return Ee}}))}function Bu(U,J,Se,Ee,je,Ae,Fe,Te,Ie,ke){var Ce=J&xe,De=1&J,Re=2&J,Le=24&J,qe=512&J,$e=Re?we:Su(U);return function s(){for(var xe=arguments.length,ht=ee(xe),_t=xe;_t--;)ht[_t]=arguments[_t];if(Le)var gt=ui(s),Dt=function(U,J){for(var ee=U.length,Se=0;ee--;)U[ee]===J&&++Se;return Se}(ht,gt);if(Ee&&(ht=Cu(ht,Ee,je,Le)),Ae&&(ht=ku(ht,Ae,Fe,Le)),xe-=Dt,Le&&xe<ke){var Vt=ae(ht,gt);return Wu(U,J,Bu,s.placeholder,Se,ht,Vt,Te,Ie,ke-xe)}var Ht=De?Se:this,Yt=Re?Ht[U]:U;return xe=ht.length,Te?ht=function(U,J){for(var ee=U.length,Se=Fs(J.length,ee),Ee=xu(U);Se--;){var je=J[Se];U[Se]=di(je,ee)?Ee[je]:we}return U}(ht,Te):qe&&xe>1&&ht.reverse(),Ce&&Ie<xe&&(ht.length=Ie),this&&this!==cs&&this instanceof s&&(Yt=$e||Su(Yt)),Yt.apply(Ht,ht)}}function Nu(U,J){return function(ee,Se){return function(U,J,ee,Se){return yr(U,(function(U,we,Ee){J(Se,ee(U),we,Ee)})),Se}(ee,U,J(Se),{})}}function Ru(U,J){return function(ee,Se){var Ee;if(ee===we&&Se===we)return J;if(ee!==we&&(Ee=ee),Se!==we){if(Ee===we)return Se;"string"==typeof ee||"string"==typeof Se?(ee=ou(ee),Se=ou(Se)):(ee=iu(ee),Se=iu(Se)),Ee=U(ee,Se)}return Ee}}function zu(U){return Xu((function(J){return J=$n(J,Gn(ii())),Vr((function(ee){var Se=this;return U(J,(function(U){return Cn(U,Se,ee)}))}))}))}function Uu(U,J){var ee=(J=J===we?" ":ou(J)).length;if(ee<2)return ee?Zr(J,U):J;var Se=Zr(J,as(U/fe(J)));return ue(J)?yu(le(Se),0,U).join(""):Se.slice(0,U)}function Pu(U){return function(J,Se,Ee){return Ee&&"number"!=typeof Ee&&_i(J,Se,Ee)&&(Se=Ee=we),J=ha(J),Se===we?(Se=J,J=0):Se=ha(Se),function(U,J,Se,we){for(var Ee=-1,je=Ps(as((J-U)/(Se||1)),0),Ae=ee(je);je--;)Ae[we?je:++Ee]=U,U+=Se;return Ae}(J,Se,Ee=Ee===we?J<Se?1:-1:ha(Ee),U)}}function Mu(U){return function(J,ee){return"string"==typeof J&&"string"==typeof ee||(J=da(J),ee=da(ee)),U(J,ee)}}function Wu(U,J,ee,Se,Ee,je,Ae,xe,Te,Ie){var ke=8&J;J|=ke?Fe:64,4&(J&=~(ke?64:Fe))||(J&=-4);var Ce=[U,J,Ee,ke?je:we,ke?Ae:we,ke?we:je,ke?we:Ae,xe,Te,Ie],De=ee.apply(we,Ce);return yi(U)&&wa(De,Ce),De.placeholder=Se,Ei(De,U,J)}function Hu(U){var J=io[U];return function(U,ee){if(U=da(U),(ee=null==ee?0:Fs(pa(ee),292))&&ps(U)){var Se=(ga(U)+"e").split("e");return+((Se=(ga(J(Se[0]+"e"+(+Se[1]+ee)))+"e").split("e"))[0]+"e"+(+Se[1]-ee))}return J(U)}}var ca=Ds&&1/ce(new Ds([,-0]))[1]==Te?function(U){return new Ds(U)}:ac;function Vu(U){return function(J){var ee=ma(J);return ee==Dt?ie(J):ee==gr?function se(U){var J=-1,ee=Array(U.size);return U.forEach((function(U){ee[++J]=[U,U]})),ee}(J):function(U,J){return $n(J,(function(J){return[J,U[J]]}))}(J,U(J))}}function Ku(U,J,Se,je,Te,Ie,ke,Ce){var De=2&J;if(!De&&"function"!=typeof U)throw new ao(Ee);var Re=je?je.length:0;if(Re||(J&=-97,je=Te=we),ke=ke===we?ke:Ps(pa(ke),0),Ce=Ce===we?Ce:pa(Ce),Re-=Te?Te.length:0,64&J){var Le=je,qe=Te;je=Te=we}var $e=De?we:fa(U),ht=[U,J,Se,je,Te,Le,qe,Ie,ke,Ce];if($e&&function(U,J){var ee=U[1],Se=J[1],we=ee|Se,Ee=we<131,je=Se==xe&&8==ee||Se==xe&&256==ee&&U[7].length<=J[8]||384==Se&&J[7].length<=J[8]&&8==ee;if(!Ee&&!je)return U;1&Se&&(U[2]=J[2],we|=1&ee?0:4);var Fe=J[3];if(Fe){var Te=U[3];U[3]=Te?Cu(Te,Fe,J[4]):Fe,U[4]=Te?ae(U[3],Ae):J[4]}(Fe=J[5])&&(Te=U[5],U[5]=Te?ku(Te,Fe,J[6]):Fe,U[6]=Te?ae(U[5],Ae):J[6]),(Fe=J[7])&&(U[7]=Fe),Se&xe&&(U[8]=null==U[8]?J[8]:Fs(U[8],J[8])),null==U[9]&&(U[9]=J[9]),U[0]=J[0],U[1]=we}(ht,$e),U=ht[0],J=ht[1],Se=ht[2],je=ht[3],Te=ht[4],!(Ce=ht[9]=ht[9]===we?De?0:U.length:Ps(ht[9]-Re,0))&&24&J&&(J&=-25),J&&1!=J)_t=8==J||16==J?function(U,J,Se){var Ee=Su(U);return function o(){for(var je=arguments.length,Ae=ee(je),Fe=je,xe=ui(o);Fe--;)Ae[Fe]=arguments[Fe];var Te=je<3&&Ae[0]!==xe&&Ae[je-1]!==xe?[]:ae(Ae,xe);return(je-=Te.length)<Se?Wu(U,J,Bu,o.placeholder,we,Ae,Te,we,we,Se-je):Cn(this&&this!==cs&&this instanceof o?Ee:U,this,Ae)}}(U,J,Ce):J!=Fe&&33!=J||Te.length?Bu.apply(we,ht):function(U,J,Se,we){var Ee=1&J,je=Su(U);return function n(){for(var J=-1,Ae=arguments.length,Fe=-1,xe=we.length,Te=ee(xe+Ae),Ie=this&&this!==cs&&this instanceof n?je:U;++Fe<xe;)Te[Fe]=we[Fe];for(;Ae--;)Te[Fe++]=arguments[++J];return Cn(Ie,Ee?Se:this,Te)}}(U,J,Se,je);else var _t=function(U,J,ee){var Se=1&J,we=Su(U);return function n(){return(this&&this!==cs&&this instanceof n?we:U).apply(Se?ee:this,arguments)}}(U,J,Se);return Ei(($e?na:wa)(_t,ht),U,J)}function Qu(U,J,ee,Se){return U===we||Ro(U,po[ee])&&!_o.call(Se,ee)?J:U}function Gu(U,J,ee,Se,Ee,je){return Xo(U)&&Xo(J)&&(je.set(J,U),Rr(U,J,we,Gu,je),je.delete(J)),U}function Yu(U){return ra(U)?we:U}function Ju(U,J,ee,Se,Ee,je){var Ae=1&ee,Fe=U.length,xe=J.length;if(Fe!=xe&&!(Ae&&xe>Fe))return!1;var Te=je.get(U),Ie=je.get(J);if(Te&&Ie)return Te==J&&Ie==U;var ke=-1,Ce=!0,De=2&ee?new Ze:we;for(je.set(U,J),je.set(J,U);++ke<Fe;){var Re=U[ke],Le=J[ke];if(Se)var qe=Ae?Se(Le,Re,ke,J,U,je):Se(Re,Le,ke,U,J,je);if(qe!==we){if(qe)continue;Ce=!1;break}if(De){if(!Tn(J,(function(U,J){if(!Jn(De,J)&&(Re===U||Ee(Re,U,ee,Se,je)))return De.push(J)}))){Ce=!1;break}}else if(Re!==Le&&!Ee(Re,Le,ee,Se,je)){Ce=!1;break}}return je.delete(U),je.delete(J),Ce}function Xu(U){return ja(wi(U,we,Mi),U+"")}function ti(U){return Ar(U,Oa,ba)}function ni(U){return Ar(U,La,ya)}var fa=qs?function(U){return qs.get(U)}:ac;function ri(U){for(var J=U.name+"",ee=Bs[J],Se=_o.call(Bs,J)?ee.length:0;Se--;){var we=ee[Se],Ee=we.func;if(null==Ee||Ee==U)return we.name}return J}function ui(U){return(_o.call(Ne,"placeholder")?Ne:U).placeholder}function ii(){var U=Ne.iteratee||rc;return U=U===rc?Ir:U,arguments.length?U(arguments[0],arguments[1]):U}function oi(U,J){var ee,Se,we=U.__data__;return("string"==(Se=typeof(ee=J))||"number"==Se||"symbol"==Se||"boolean"==Se?"__proto__"!==ee:null===ee)?we["string"==typeof J?"string":"hash"]:we.map}function ai(U){for(var J=Oa(U),ee=J.length;ee--;){var Se=J[ee],we=U[Se];J[ee]=[Se,we,mi(we)]}return J}function ci(U,J){var ee=function(U,J){return null==U?we:U[J]}(U,J);return $r(ee)?ee:we}var ba=fs?function(U){return null==U?[]:(U=oo(U),En(fs(U),(function(J){return qo.call(U,J)})))}:vc,ya=fs?function(U){for(var J=[];U;)In(J,ba(U)),U=Do(U);return J}:vc,ma=wr;function hi(U,J,ee){for(var Se=-1,we=(J=_u(J,U)).length,Ee=!1;++Se<we;){var je=qi(J[Se]);if(!(Ee=null!=U&&ee(U,je)))break;U=U[je]}return Ee||++Se!=we?Ee:!!(we=null==U?0:U.length)&&Jo(we)&&di(je,we)&&(xc(U)||Fc(U))}function pi(U){return"function"!=typeof U.constructor||bi(U)?{}:Gs(Do(U))}function vi(U){return xc(U)||Fc(U)||!!(Uo&&U&&U[Uo])}function di(U,J){var ee=typeof U;return!!(J=null==J?Ie:J)&&("number"==ee||"symbol"!=ee&&Yi.test(U))&&U>-1&&U%1==0&&U<J}function _i(U,J,ee){if(!Xo(ee))return!1;var Se=typeof J;return!!("number"==Se?Ho(ee)&&di(J,ee.length):"string"==Se&&J in ee)&&Ro(ee[J],U)}function gi(U,J){if(xc(U))return!1;var ee=typeof U;return!("number"!=ee&&"symbol"!=ee&&"boolean"!=ee&&null!=U&&!aa(U))||Bn.test(U)||!Fn.test(U)||null!=J&&U in oo(J)}function yi(U){var J=ri(U),ee=Ne[J];if("function"!=typeof ee||!(J in Pe.prototype))return!1;if(U===ee)return!0;var Se=fa(ee);return!!Se&&U===Se[0]}(ks&&ma(new ks(new ArrayBuffer(1)))!=rn||Ns&&ma(new Ns)!=Dt||Cs&&ma(Cs.resolve())!=Yt||Ds&&ma(new Ds)!=gr||Rs&&ma(new Rs)!=en)&&(ma=function(U){var J=wr(U),ee=J==Ht?U.constructor:we,Se=ee?Ti(ee):"";if(Se)switch(Se){case Us:return rn;case Ws:return Dt;case Vs:return Yt;case $s:return gr;case zs:return en}return J});var Sa=vo?Go:dc;function bi(U){var J=U&&U.constructor;return U===("function"==typeof J&&J.prototype||po)}function mi(U){return U==U&&!Xo(U)}function Ai(U,J){return function(ee){return null!=ee&&ee[U]===J&&(J!==we||U in oo(ee))}}function wi(U,J,Se){return J=Ps(J===we?U.length-1:J,0),function(){for(var we=arguments,Ee=-1,je=Ps(we.length-J,0),Ae=ee(je);++Ee<je;)Ae[Ee]=we[J+Ee];Ee=-1;for(var Fe=ee(J+1);++Ee<J;)Fe[Ee]=we[Ee];return Fe[J]=Se(Ae),Cn(U,this,Fe)}}function Ci(U,J){return J.length<2?U:mr(U,tu(J,0,-1))}function ki(U,J){if(("constructor"!==J||"function"!=typeof U[J])&&"__proto__"!=J)return U[J]}var wa=Oi(na),Ea=ss||function(U,J){return cs.setTimeout(U,J)},ja=Oi(ia);function Ei(U,J,ee){var Se=J+"";return ja(U,function(U,J){var ee=J.length;if(!ee)return U;var Se=ee-1;return J[Se]=(ee>1?"& ":"")+J[Se],J=J.join(ee>2?", ":" "),U.replace(ji,"{\n/* [wrapped with "+J+"] */\n")}(Se,function(U,J){return xn(De,(function(ee){var Se="_."+ee[0];J&ee[1]&&!On(U,Se)&&U.push(Se)})),U.sort()}(function(U){var J=U.match(Fi);return J?J[1].split(xi):[]}(Se),ee)))}function Oi(U){var J=0,ee=0;return function(){var Se=xs(),Ee=16-(Se-ee);if(ee=Se,Ee>0){if(++J>=800)return arguments[0]}else J=0;return U.apply(we,arguments)}}function Li(U,J){var ee=-1,Se=U.length,Ee=Se-1;for(J=J===we?Se:J;++ee<J;){var je=Hr(ee,Ee),Ae=U[je];U[je]=U[ee],U[ee]=Ae}return U.length=J,U}var Aa,Fa,Ma=(Aa=Io((function(U){var J=[];return 46===U.charCodeAt(0)&&J.push(""),U.replace(ei,(function(U,ee,Se,we){J.push(Se?we.replace(Di,"$1"):ee||U)})),J}),(function(U){return 500===Fa.size&&Fa.clear(),U})),Fa=Aa.cache,Aa);function qi(U){if("string"==typeof U||aa(U))return U;var J=U+"";return"0"==J&&1/U==-1/0?"-0":J}function Ti(U){if(null!=U){try{return bo.call(U)}catch(U){}try{return U+""}catch(U){}}return""}function Bi(U){if(U instanceof Pe)return U.clone();var J=new Ue(U.__wrapped__,U.__chain__);return J.__actions__=xu(U.__actions__),J.__index__=U.__index__,J.__values__=U.__values__,J}var Ia=Vr((function(U,J){return Zo(U)?sr(U,dr(J,1,Zo,!0)):[]})),Na=Vr((function(U,J){var ee=Ki(J);return Zo(ee)&&(ee=we),Zo(U)?sr(U,dr(J,1,Zo,!0),ii(ee,2)):[]})),Ca=Vr((function(U,J){var ee=Ki(J);return Zo(ee)&&(ee=we),Zo(U)?sr(U,dr(J,1,Zo,!0),we,ee):[]}));function Ui(U,J,ee){var Se=null==U?0:U.length;if(!Se)return-1;var we=null==ee?0:pa(ee);return we<0&&(we=Ps(Se+we,0)),Rn(U,ii(J,3),we)}function Pi(U,J,ee){var Se=null==U?0:U.length;if(!Se)return-1;var Ee=Se-1;return ee!==we&&(Ee=pa(ee),Ee=ee<0?Ps(Se+Ee,0):Fs(Ee,Se-1)),Rn(U,ii(J,3),Ee,!0)}function Mi(U){return null!=U&&U.length?dr(U,1):[]}function Wi(U){return U&&U.length?U[0]:we}var Da=Vr((function(U){var J=$n(U,vu);return J.length&&J[0]===U[0]?jr(J):[]})),qa=Vr((function(U){var J=Ki(U),ee=$n(U,vu);return J===Ki(ee)?J=we:ee.pop(),ee.length&&ee[0]===U[0]?jr(ee,ii(J,2)):[]})),Ba=Vr((function(U){var J=Ki(U),ee=$n(U,vu);return(J="function"==typeof J?J:we)&&ee.pop(),ee.length&&ee[0]===U[0]?jr(ee,we,J):[]}));function Ki(U){var J=null==U?0:U.length;return J?U[J-1]:we}var Wa=Vr(Gi);function Gi(U,J){return U&&U.length&&J&&J.length?Mr(U,J):U}var Va=Xu((function(U,J){var ee=null==U?0:U.length,Se=ur(U,J);return Wr(U,$n(J,(function(U){return di(U,ee)?+U:U})).sort(wu)),Se}));function Ji(U){return null==U?U:Is.call(U)}var $a=Vr((function(U){return au(dr(U,1,Zo,!0))})),za=Vr((function(U){var J=Ki(U);return Zo(J)&&(J=we),au(dr(U,1,Zo,!0),ii(J,2))})),Qa=Vr((function(U){var J=Ki(U);return J="function"==typeof J?J:we,au(dr(U,1,Zo,!0),we,J)}));function eo(U){if(!U||!U.length)return[];var J=0;return U=En(U,(function(U){if(Zo(U))return J=Ps(U.length,J),!0})),Kn(J,(function(J){return $n(U,Wn(J))}))}function ro(U,J){if(!U||!U.length)return[];var ee=eo(U);return null==J?ee:$n(ee,(function(U){return Cn(J,we,U)}))}var Ha=Vr((function(U,J){return Zo(U)?sr(U,J):[]})),Ya=Vr((function(U){return hu(En(U,Zo))})),Ka=Vr((function(U){var J=Ki(U);return Zo(J)&&(J=we),hu(En(U,Zo),ii(J,2))})),Za=Vr((function(U){var J=Ki(U);return J="function"==typeof J?J:we,hu(En(U,Zo),we,J)})),Ja=Vr(eo),tc=Vr((function(U){var J=U.length,ee=J>1?U[J-1]:we;return ee="function"==typeof ee?(U.pop(),ee):we,ro(U,ee)}));function fo(U){var J=Ne(U);return J.__chain__=!0,J}function lo(U,J){return J(U)}var nc=Xu((function(U){var J=U.length,ee=J?U[0]:0,Se=this.__wrapped__,i=function(J){return ur(J,U)};return!(J>1||this.__actions__.length)&&Se instanceof Pe&&di(ee)?((Se=Se.slice(ee,+ee+(J?1:0))).__actions__.push({func:lo,args:[i],thisArg:we}),new Ue(Se,this.__chain__).thru((function(U){return J&&!U.length&&U.push(we),U}))):this.thru(i)})),ic=Du((function(U,J,ee){_o.call(U,ee)?++U[ee]:rr(U,ee,1)})),uc=qu(Ui),sc=qu(Pi);function go(U,J){return(xc(U)?xn:Ks)(U,ii(J,3))}function yo(U,J){return(xc(U)?jn:Zs)(U,ii(J,3))}var cc=Du((function(U,J,ee){_o.call(U,ee)?U[ee].push(J):rr(U,ee,[J])})),fc=Vr((function(U,J,Se){var we=-1,Ee="function"==typeof J,je=Ho(U)?ee(U.length):[];return Ks(U,(function(U){je[++we]=Ee?Cn(J,U,Se):Dr(U,J,Se)})),je})),hc=Du((function(U,J,ee){rr(U,ee,J)}));function Ao(U,J){return(xc(U)?$n:Tr)(U,ii(J,3))}var pc=Du((function(U,J,ee){U[ee?0:1].push(J)}),(function(){return[[],[]]})),bc=Vr((function(U,J){if(null==U)return[];var ee=J.length;return ee>1&&_i(U,J[0],J[1])?J=[]:ee>2&&_i(J[0],J[1],J[2])&&(J=[J[0]]),Ur(U,dr(J,1),[])})),yc=is||function(){return cs.Date.now()};function xo(U,J,ee){return J=ee?we:J,J=U&&null==J?U.length:J,Ku(U,xe,we,we,we,we,J)}function jo(U,J){var ee;if("function"!=typeof J)throw new ao(Ee);return U=pa(U),function(){return--U>0&&(ee=J.apply(this,arguments)),U<=1&&(J=we),ee}}var _c=Vr((function(U,J,ee){var Se=1;if(ee.length){var we=ae(ee,ui(_c));Se|=Fe}return Ku(U,Se,J,ee,we)})),mc=Vr((function(U,J,ee){var Se=3;if(ee.length){var we=ae(ee,ui(mc));Se|=Fe}return Ku(J,Se,U,ee,we)}));function Oo(U,J,ee){var Se,je,Ae,Fe,xe,Te,Ie=0,ke=!1,Ce=!1,De=!0;if("function"!=typeof U)throw new ao(Ee);function d(J){var ee=Se,Ee=je;return Se=je=we,Ie=J,Fe=U.apply(Ee,ee)}function _(U){var ee=U-Te;return Te===we||ee>=J||ee<0||Ce&&U-Ie>=Ae}function g(){var U=yc();if(_(U))return y(U);xe=Ea(g,function(U){var ee=J-(U-Te);return Ce?Fs(ee,Ae-(U-Ie)):ee}(U))}function y(U){return xe=we,De&&Se?d(U):(Se=je=we,Fe)}function F(){var U=yc(),ee=_(U);if(Se=arguments,je=this,Te=U,ee){if(xe===we)return function(U){return Ie=U,xe=Ea(g,J),ke?d(U):Fe}(Te);if(Ce)return sa(xe),xe=Ea(g,J),d(Te)}return xe===we&&(xe=Ea(g,J)),Fe}return J=da(J)||0,Xo(ee)&&(ke=!!ee.leading,Ae=(Ce="maxWait"in ee)?Ps(da(ee.maxWait)||0,J):Ae,De="trailing"in ee?!!ee.trailing:De),F.cancel=function(){xe!==we&&sa(xe),Ie=0,Se=Te=je=xe=we},F.flush=function(){return xe===we?Fe:y(yc())},F}var gc=Vr((function(U,J){return cr(U,1,J)})),Oc=Vr((function(U,J,ee){return cr(U,da(J)||0,ee)}));function Io(U,J){if("function"!=typeof U||null!=J&&"function"!=typeof J)throw new ao(Ee);var e=function(){var ee=arguments,Se=J?J.apply(this,ee):ee[0],we=e.cache;if(we.has(Se))return we.get(Se);var Ee=U.apply(this,ee);return e.cache=we.set(Se,Ee)||we,Ee};return e.cache=new(Io.Cache||He),e}function So(U){if("function"!=typeof U)throw new ao(Ee);return function(){var J=arguments;switch(J.length){case 0:return!U.call(this);case 1:return!U.call(this,J[0]);case 2:return!U.call(this,J[0],J[1]);case 3:return!U.call(this,J[0],J[1],J[2])}return!U.apply(this,J)}}Io.Cache=He;var Sc=ua((function(U,J){var ee=(J=1==J.length&&xc(J[0])?$n(J[0],Gn(ii())):$n(dr(J,1),Gn(ii()))).length;return Vr((function(Se){for(var we=-1,Ee=Fs(Se.length,ee);++we<Ee;)Se[we]=J[we].call(this,Se[we]);return Cn(U,this,Se)}))})),wc=Vr((function(U,J){var ee=ae(J,ui(wc));return Ku(U,Fe,we,J,ee)})),Ec=Vr((function(U,J){var ee=ae(J,ui(Ec));return Ku(U,64,we,J,ee)})),jc=Xu((function(U,J){return Ku(U,256,we,we,we,J)}));function Ro(U,J){return U===J||U!=U&&J!=J}var Ac=Mu(Cr),Pc=Mu((function(U,J){return U>=J})),Fc=Er(function(){return arguments}())?Er:function(U){return ta(U)&&_o.call(U,"callee")&&!qo.call(U,"callee")},xc=ee.isArray,Tc=vs?Gn(vs):function(U){return ta(U)&&wr(U)==tn};function Ho(U){return null!=U&&Jo(U.length)&&!Go(U)}function Zo(U){return ta(U)&&Ho(U)}var Mc=hs||dc,Ic=bs?Gn(bs):function(U){return ta(U)&&wr(U)==$e};function Qo(U){if(!ta(U))return!1;var J=wr(U);return J==ht||"[object DOMException]"==J||"string"==typeof U.message&&"string"==typeof U.name&&!ra(U)}function Go(U){if(!Xo(U))return!1;var J=wr(U);return J==_t||J==gt||"[object AsyncFunction]"==J||"[object Proxy]"==J}function Yo(U){return"number"==typeof U&&U==pa(U)}function Jo(U){return"number"==typeof U&&U>-1&&U%1==0&&U<=Ie}function Xo(U){var J=typeof U;return null!=U&&("object"==J||"function"==J)}function ta(U){return null!=U&&"object"==typeof U}var kc=ys?Gn(ys):function(U){return ta(U)&&ma(U)==Dt};function ea(U){return"number"==typeof U||ta(U)&&wr(U)==Vt}function ra(U){if(!ta(U)||wr(U)!=Ht)return!1;var J=Do(U);if(null===J)return!0;var ee=_o.call(J,"constructor")&&J.constructor;return"function"==typeof ee&&ee instanceof ee&&bo.call(ee)==Po}var Nc=_s?Gn(_s):function(U){return ta(U)&&wr(U)==Gt},Cc=ms?Gn(ms):function(U){return ta(U)&&ma(U)==gr};function oa(U){return"string"==typeof U||!xc(U)&&ta(U)&&wr(U)==Yr}function aa(U){return"symbol"==typeof U||ta(U)&&wr(U)==Jr}var Dc=gs?Gn(gs):function(U){return ta(U)&&Jo(U.length)&&!!rs[wr(U)]},Rc=Mu(qr),Lc=Mu((function(U,J){return U<=J}));function la(U){if(!U)return[];if(Ho(U))return oa(U)?le(U):xu(U);if(Wo&&U[Wo])return function(U){for(var J,ee=[];!(J=U.next()).done;)ee.push(J.value);return ee}(U[Wo]());var J=ma(U);return(J==Dt?ie:J==gr?ce:Ra)(U)}function ha(U){return U?(U=da(U))===Te||U===-1/0?17976931348623157e292*(U<0?-1:1):U==U?U:0:0===U?U:0}function pa(U){var J=ha(U),ee=J%1;return J==J?ee?J-ee:J:0}function va(U){return U?ir(pa(U),0,Ce):0}function da(U){if("number"==typeof U)return U;if(aa(U))return ke;if(Xo(U)){var J="function"==typeof U.valueOf?U.valueOf():U;U=Xo(J)?J+"":J}if("string"!=typeof U)return 0===U?U:+U;U=Qn(U);var ee=zi.test(U);return ee||Hi.test(U)?us(U.slice(2),ee?2:8):$i.test(U)?ke:+U}function _a(U){return ju(U,La(U))}function ga(U){return null==U?"":ou(U)}var qc=Eu((function(U,J){if(bi(J)||Ho(J))ju(J,Oa(J),U);else for(var ee in J)_o.call(J,ee)&&Xe(U,ee,J[ee])})),Bc=Eu((function(U,J){ju(J,La(J),U)})),Uc=Eu((function(U,J,ee,Se){ju(J,La(J),U,Se)})),Wc=Eu((function(U,J,ee,Se){ju(J,Oa(J),U,Se)})),Vc=Xu(ur),$c=Vr((function(U,J){U=oo(U);var ee=-1,Se=J.length,Ee=Se>2?J[2]:we;for(Ee&&_i(J[0],J[1],Ee)&&(Se=1);++ee<Se;)for(var je=J[ee],Ae=La(je),Fe=-1,xe=Ae.length;++Fe<xe;){var Te=Ae[Fe],Ie=U[Te];(Ie===we||Ro(Ie,po[Te])&&!_o.call(U,Te))&&(U[Te]=je[Te])}return U})),zc=Vr((function(U){return U.push(we,Gu),Cn(Kc,we,U)}));function ka(U,J,ee){var Se=null==U?we:mr(U,J);return Se===we?ee:Se}function xa(U,J){return null!=U&&hi(U,J,xr)}var Qc=Nu((function(U,J,ee){null!=J&&"function"!=typeof J.toString&&(J=Eo.call(J)),U[J]=ee}),Xa(ec)),Hc=Nu((function(U,J,ee){null!=J&&"function"!=typeof J.toString&&(J=Eo.call(J)),_o.call(U,J)?U[J].push(ee):U[J]=[ee]}),ii),Yc=Vr(Dr);function Oa(U){return Ho(U)?Ke(U):Sr(U)}function La(U){return Ho(U)?Ke(U,!0):function(U){if(!Xo(U))return function(U){var J=[];if(null!=U)for(var ee in oo(U))J.push(ee);return J}(U);var J=bi(U),ee=[];for(var Se in U)("constructor"!=Se||!J&&_o.call(U,Se))&&ee.push(Se);return ee}(U)}var Gc=Eu((function(U,J,ee){Rr(U,J,ee)})),Kc=Eu((function(U,J,ee,Se){Rr(U,J,ee,Se)})),Zc=Xu((function(U,J){var ee={};if(null==U)return ee;var Se=!1;J=$n(J,(function(J){return J=_u(J,U),Se||(Se=J.length>1),J})),ju(U,ni(U),ee),Se&&(ee=or(ee,7,Yu));for(var we=J.length;we--;)cu(ee,J[we]);return ee})),Jc=Xu((function(U,J){return null==U?{}:function(U,J){return Pr(U,J,(function(J,ee){return xa(U,ee)}))}(U,J)}));function Ta(U,J){if(null==U)return{};var ee=$n(ni(U),(function(U){return[U]}));return J=ii(J),Pr(U,ee,(function(U,ee){return J(U,ee[0])}))}var Xc=Vu(Oa),el=Vu(La);function Ra(U){return null==U?[]:Yn(U,Oa(U))}var tl=Iu((function(U,J,ee){return J=J.toLowerCase(),U+(ee?Ua(J):J)}));function Ua(U){return al(ga(U).toLowerCase())}function Pa(U){return(U=ga(U))&&U.replace(Zi,Ss).replace(zo,"")}var rl=Iu((function(U,J,ee){return U+(ee?"-":"")+J.toLowerCase()})),nl=Iu((function(U,J,ee){return U+(ee?" ":"")+J.toLowerCase()})),il=$u("toLowerCase"),ol=Iu((function(U,J,ee){return U+(ee?"_":"")+J.toLowerCase()})),ul=Iu((function(U,J,ee){return U+(ee?" ":"")+al(J)})),sl=Iu((function(U,J,ee){return U+(ee?" ":"")+J.toUpperCase()})),al=$u("toUpperCase");function Ga(U,J,ee){return U=ga(U),(J=ee?we:J)===we?function(U){return Zu.test(U)}(U)?function(U){return U.match(gu)||[]}(U):function(U){return U.match(Ii)||[]}(U):U.match(J)||[]}var cl=Vr((function(U,J){try{return Cn(U,we,J)}catch(U){return Qo(U)?U:new Si(U)}})),ll=Xu((function(U,J){return xn(J,(function(J){J=qi(J),rr(U,J,_c(U[J],U))})),U}));function Xa(U){return function(){return U}}var fl=Tu(),dl=Tu(!0);function ec(U){return U}function rc(U){return Ir("function"==typeof U?U:or(U,1))}var hl=Vr((function(U,J){return function(ee){return Dr(ee,U,J)}})),pl=Vr((function(U,J){return function(ee){return Dr(U,ee,J)}}));function oc(U,J,ee){var Se=Oa(J),we=br(J,Se);null!=ee||Xo(J)&&(we.length||!Se.length)||(ee=J,J=U,U=this,we=br(J,Oa(J)));var Ee=!(Xo(ee)&&"chain"in ee&&!ee.chain),je=Go(U);return xn(we,(function(ee){var Se=J[ee];U[ee]=Se,je&&(U.prototype[ee]=function(){var J=this.__chain__;if(Ee||J){var ee=U(this.__wrapped__);return(ee.__actions__=xu(this.__actions__)).push({func:Se,args:arguments,thisArg:U}),ee.__chain__=J,ee}return Se.apply(U,In([this.value()],arguments))})})),U}function ac(){}var vl=zu($n),bl=zu(Dn),yl=zu(Tn);function lc(U){return gi(U)?Wn(qi(U)):function(U){return function(J){return mr(J,U)}}(U)}var _l=Pu(),ml=Pu(!0);function vc(){return[]}function dc(){return!1}var gl,Ol=Ru((function(U,J){return U+J}),0),Sl=Hu("ceil"),wl=Ru((function(U,J){return U/J}),1),El=Hu("floor"),jl=Ru((function(U,J){return U*J}),1),Al=Hu("round"),Pl=Ru((function(U,J){return U-J}),0);return Ne.after=function(U,J){if("function"!=typeof J)throw new ao(Ee);return U=pa(U),function(){if(--U<1)return J.apply(this,arguments)}},Ne.ary=xo,Ne.assign=qc,Ne.assignIn=Bc,Ne.assignInWith=Uc,Ne.assignWith=Wc,Ne.at=Vc,Ne.before=jo,Ne.bind=_c,Ne.bindAll=ll,Ne.bindKey=mc,Ne.castArray=function(){if(!arguments.length)return[];var U=arguments[0];return xc(U)?U:[U]},Ne.chain=fo,Ne.chunk=function(U,J,Se){J=(Se?_i(U,J,Se):J===we)?1:Ps(pa(J),0);var Ee=null==U?0:U.length;if(!Ee||J<1)return[];for(var je=0,Ae=0,Fe=ee(as(Ee/J));je<Ee;)Fe[Ae++]=tu(U,je,je+=J);return Fe},Ne.compact=function(U){for(var J=-1,ee=null==U?0:U.length,Se=0,we=[];++J<ee;){var Ee=U[J];Ee&&(we[Se++]=Ee)}return we},Ne.concat=function(){var U=arguments.length;if(!U)return[];for(var J=ee(U-1),Se=arguments[0],we=U;we--;)J[we-1]=arguments[we];return In(xc(Se)?xu(Se):[Se],dr(J,1))},Ne.cond=function(U){var J=null==U?0:U.length,ee=ii();return U=J?$n(U,(function(U){if("function"!=typeof U[1])throw new ao(Ee);return[ee(U[0]),U[1]]})):[],Vr((function(ee){for(var Se=-1;++Se<J;){var we=U[Se];if(Cn(we[0],this,ee))return Cn(we[1],this,ee)}}))},Ne.conforms=function(U){return function(U){var J=Oa(U);return function(ee){return ar(ee,U,J)}}(or(U,1))},Ne.constant=Xa,Ne.countBy=ic,Ne.create=function(U,J){var ee=Gs(U);return null==J?ee:er(ee,J)},Ne.curry=function t(U,J,ee){var Se=Ku(U,8,we,we,we,we,we,J=ee?we:J);return Se.placeholder=t.placeholder,Se},Ne.curryRight=function t(U,J,ee){var Se=Ku(U,16,we,we,we,we,we,J=ee?we:J);return Se.placeholder=t.placeholder,Se},Ne.debounce=Oo,Ne.defaults=$c,Ne.defaultsDeep=zc,Ne.defer=gc,Ne.delay=Oc,Ne.difference=Ia,Ne.differenceBy=Na,Ne.differenceWith=Ca,Ne.drop=function(U,J,ee){var Se=null==U?0:U.length;return Se?tu(U,(J=ee||J===we?1:pa(J))<0?0:J,Se):[]},Ne.dropRight=function(U,J,ee){var Se=null==U?0:U.length;return Se?tu(U,0,(J=Se-(J=ee||J===we?1:pa(J)))<0?0:J):[]},Ne.dropRightWhile=function(U,J){return U&&U.length?fu(U,ii(J,3),!0,!0):[]},Ne.dropWhile=function(U,J){return U&&U.length?fu(U,ii(J,3),!0):[]},Ne.fill=function(U,J,ee,Se){var Ee=null==U?0:U.length;return Ee?(ee&&"number"!=typeof ee&&_i(U,J,ee)&&(ee=0,Se=Ee),function(U,J,ee,Se){var Ee=U.length;for((ee=pa(ee))<0&&(ee=-ee>Ee?0:Ee+ee),(Se=Se===we||Se>Ee?Ee:pa(Se))<0&&(Se+=Ee),Se=ee>Se?0:va(Se);ee<Se;)U[ee++]=J;return U}(U,J,ee,Se)):[]},Ne.filter=function(U,J){return(xc(U)?En:vr)(U,ii(J,3))},Ne.flatMap=function(U,J){return dr(Ao(U,J),1)},Ne.flatMapDeep=function(U,J){return dr(Ao(U,J),Te)},Ne.flatMapDepth=function(U,J,ee){return ee=ee===we?1:pa(ee),dr(Ao(U,J),ee)},Ne.flatten=Mi,Ne.flattenDeep=function(U){return null!=U&&U.length?dr(U,Te):[]},Ne.flattenDepth=function(U,J){return null!=U&&U.length?dr(U,J=J===we?1:pa(J)):[]},Ne.flip=function(U){return Ku(U,512)},Ne.flow=fl,Ne.flowRight=dl,Ne.fromPairs=function(U){for(var J=-1,ee=null==U?0:U.length,Se={};++J<ee;){var we=U[J];Se[we[0]]=we[1]}return Se},Ne.functions=function(U){return null==U?[]:br(U,Oa(U))},Ne.functionsIn=function(U){return null==U?[]:br(U,La(U))},Ne.groupBy=cc,Ne.initial=function(U){return null!=U&&U.length?tu(U,0,-1):[]},Ne.intersection=Da,Ne.intersectionBy=qa,Ne.intersectionWith=Ba,Ne.invert=Qc,Ne.invertBy=Hc,Ne.invokeMap=fc,Ne.iteratee=rc,Ne.keyBy=hc,Ne.keys=Oa,Ne.keysIn=La,Ne.map=Ao,Ne.mapKeys=function(U,J){var ee={};return J=ii(J,3),yr(U,(function(U,Se,we){rr(ee,J(U,Se,we),U)})),ee},Ne.mapValues=function(U,J){var ee={};return J=ii(J,3),yr(U,(function(U,Se,we){rr(ee,Se,J(U,Se,we))})),ee},Ne.matches=function(U){return Br(or(U,1))},Ne.matchesProperty=function(U,J){return Nr(U,or(J,1))},Ne.memoize=Io,Ne.merge=Gc,Ne.mergeWith=Kc,Ne.method=hl,Ne.methodOf=pl,Ne.mixin=oc,Ne.negate=So,Ne.nthArg=function(U){return U=pa(U),Vr((function(J){return zr(J,U)}))},Ne.omit=Zc,Ne.omitBy=function(U,J){return Ta(U,So(ii(J)))},Ne.once=function(U){return jo(2,U)},Ne.orderBy=function(U,J,ee,Se){return null==U?[]:(xc(J)||(J=null==J?[]:[J]),xc(ee=Se?we:ee)||(ee=null==ee?[]:[ee]),Ur(U,J,ee))},Ne.over=vl,Ne.overArgs=Sc,Ne.overEvery=bl,Ne.overSome=yl,Ne.partial=wc,Ne.partialRight=Ec,Ne.partition=pc,Ne.pick=Jc,Ne.pickBy=Ta,Ne.property=lc,Ne.propertyOf=function(U){return function(J){return null==U?we:mr(U,J)}},Ne.pull=Wa,Ne.pullAll=Gi,Ne.pullAllBy=function(U,J,ee){return U&&U.length&&J&&J.length?Mr(U,J,ii(ee,2)):U},Ne.pullAllWith=function(U,J,ee){return U&&U.length&&J&&J.length?Mr(U,J,we,ee):U},Ne.pullAt=Va,Ne.range=_l,Ne.rangeRight=ml,Ne.rearg=jc,Ne.reject=function(U,J){return(xc(U)?En:vr)(U,So(ii(J,3)))},Ne.remove=function(U,J){var ee=[];if(!U||!U.length)return ee;var Se=-1,we=[],Ee=U.length;for(J=ii(J,3);++Se<Ee;){var je=U[Se];J(je,Se,U)&&(ee.push(je),we.push(Se))}return Wr(U,we),ee},Ne.rest=function(U,J){if("function"!=typeof U)throw new ao(Ee);return Vr(U,J=J===we?J:pa(J))},Ne.reverse=Ji,Ne.sampleSize=function(U,J,ee){return J=(ee?_i(U,J,ee):J===we)?1:pa(J),(xc(U)?Ge:Qr)(U,J)},Ne.set=function(U,J,ee){return null==U?U:Gr(U,J,ee)},Ne.setWith=function(U,J,ee,Se){return Se="function"==typeof Se?Se:we,null==U?U:Gr(U,J,ee,Se)},Ne.shuffle=function(U){return(xc(U)?Ye:Xr)(U)},Ne.slice=function(U,J,ee){var Se=null==U?0:U.length;return Se?(ee&&"number"!=typeof ee&&_i(U,J,ee)?(J=0,ee=Se):(J=null==J?0:pa(J),ee=ee===we?Se:pa(ee)),tu(U,J,ee)):[]},Ne.sortBy=bc,Ne.sortedUniq=function(U){return U&&U.length?uu(U):[]},Ne.sortedUniqBy=function(U,J){return U&&U.length?uu(U,ii(J,2)):[]},Ne.split=function(U,J,ee){return ee&&"number"!=typeof ee&&_i(U,J,ee)&&(J=ee=we),(ee=ee===we?Ce:ee>>>0)?(U=ga(U))&&("string"==typeof J||null!=J&&!Nc(J))&&!(J=ou(J))&&ue(U)?yu(le(U),0,ee):U.split(J,ee):[]},Ne.spread=function(U,J){if("function"!=typeof U)throw new ao(Ee);return J=null==J?0:Ps(pa(J),0),Vr((function(ee){var Se=ee[J],we=yu(ee,0,J);return Se&&In(we,Se),Cn(U,this,we)}))},Ne.tail=function(U){var J=null==U?0:U.length;return J?tu(U,1,J):[]},Ne.take=function(U,J,ee){return U&&U.length?tu(U,0,(J=ee||J===we?1:pa(J))<0?0:J):[]},Ne.takeRight=function(U,J,ee){var Se=null==U?0:U.length;return Se?tu(U,(J=Se-(J=ee||J===we?1:pa(J)))<0?0:J,Se):[]},Ne.takeRightWhile=function(U,J){return U&&U.length?fu(U,ii(J,3),!1,!0):[]},Ne.takeWhile=function(U,J){return U&&U.length?fu(U,ii(J,3)):[]},Ne.tap=function(U,J){return J(U),U},Ne.throttle=function(U,J,ee){var Se=!0,we=!0;if("function"!=typeof U)throw new ao(Ee);return Xo(ee)&&(Se="leading"in ee?!!ee.leading:Se,we="trailing"in ee?!!ee.trailing:we),Oo(U,J,{leading:Se,maxWait:J,trailing:we})},Ne.thru=lo,Ne.toArray=la,Ne.toPairs=Xc,Ne.toPairsIn=el,Ne.toPath=function(U){return xc(U)?$n(U,qi):aa(U)?[U]:xu(Ma(ga(U)))},Ne.toPlainObject=_a,Ne.transform=function(U,J,ee){var Se=xc(U),we=Se||Mc(U)||Dc(U);if(J=ii(J,4),null==ee){var Ee=U&&U.constructor;ee=we?Se?new Ee:[]:Xo(U)&&Go(Ee)?Gs(Do(U)):{}}return(we?xn:yr)(U,(function(U,Se,we){return J(ee,U,Se,we)})),ee},Ne.unary=function(U){return xo(U,1)},Ne.union=$a,Ne.unionBy=za,Ne.unionWith=Qa,Ne.uniq=function(U){return U&&U.length?au(U):[]},Ne.uniqBy=function(U,J){return U&&U.length?au(U,ii(J,2)):[]},Ne.uniqWith=function(U,J){return J="function"==typeof J?J:we,U&&U.length?au(U,we,J):[]},Ne.unset=function(U,J){return null==U||cu(U,J)},Ne.unzip=eo,Ne.unzipWith=ro,Ne.update=function(U,J,ee){return null==U?U:su(U,J,du(ee))},Ne.updateWith=function(U,J,ee,Se){return Se="function"==typeof Se?Se:we,null==U?U:su(U,J,du(ee),Se)},Ne.values=Ra,Ne.valuesIn=function(U){return null==U?[]:Yn(U,La(U))},Ne.without=Ha,Ne.words=Ga,Ne.wrap=function(U,J){return wc(du(J),U)},Ne.xor=Ya,Ne.xorBy=Ka,Ne.xorWith=Za,Ne.zip=Ja,Ne.zipObject=function(U,J){return pu(U||[],J||[],Xe)},Ne.zipObjectDeep=function(U,J){return pu(U||[],J||[],Gr)},Ne.zipWith=tc,Ne.entries=Xc,Ne.entriesIn=el,Ne.extend=Bc,Ne.extendWith=Uc,oc(Ne,Ne),Ne.add=Ol,Ne.attempt=cl,Ne.camelCase=tl,Ne.capitalize=Ua,Ne.ceil=Sl,Ne.clamp=function(U,J,ee){return ee===we&&(ee=J,J=we),ee!==we&&(ee=(ee=da(ee))==ee?ee:0),J!==we&&(J=(J=da(J))==J?J:0),ir(da(U),J,ee)},Ne.clone=function(U){return or(U,4)},Ne.cloneDeep=function(U){return or(U,5)},Ne.cloneDeepWith=function(U,J){return or(U,5,J="function"==typeof J?J:we)},Ne.cloneWith=function(U,J){return or(U,4,J="function"==typeof J?J:we)},Ne.conformsTo=function(U,J){return null==J||ar(U,J,Oa(J))},Ne.deburr=Pa,Ne.defaultTo=function(U,J){return null==U||U!=U?J:U},Ne.divide=wl,Ne.endsWith=function(U,J,ee){U=ga(U),J=ou(J);var Se=U.length,Ee=ee=ee===we?Se:ir(pa(ee),0,Se);return(ee-=J.length)>=0&&U.slice(ee,Ee)==J},Ne.eq=Ro,Ne.escape=function(U){return(U=ga(U))&&mn.test(U)?U.replace(yn,ws):U},Ne.escapeRegExp=function(U){return(U=ga(U))&&li.test(U)?U.replace(si,"\\$&"):U},Ne.every=function(U,J,ee){var Se=xc(U)?Dn:hr;return ee&&_i(U,J,ee)&&(J=we),Se(U,ii(J,3))},Ne.find=uc,Ne.findIndex=Ui,Ne.findKey=function(U,J){return Nn(U,ii(J,3),yr)},Ne.findLast=sc,Ne.findLastIndex=Pi,Ne.findLastKey=function(U,J){return Nn(U,ii(J,3),Fr)},Ne.floor=El,Ne.forEach=go,Ne.forEachRight=yo,Ne.forIn=function(U,J){return null==U?U:Js(U,ii(J,3),La)},Ne.forInRight=function(U,J){return null==U?U:Xs(U,ii(J,3),La)},Ne.forOwn=function(U,J){return U&&yr(U,ii(J,3))},Ne.forOwnRight=function(U,J){return U&&Fr(U,ii(J,3))},Ne.get=ka,Ne.gt=Ac,Ne.gte=Pc,Ne.has=function(U,J){return null!=U&&hi(U,J,kr)},Ne.hasIn=xa,Ne.head=Wi,Ne.identity=ec,Ne.includes=function(U,J,ee,Se){U=Ho(U)?U:Ra(U),ee=ee&&!Se?pa(ee):0;var we=U.length;return ee<0&&(ee=Ps(we+ee,0)),oa(U)?ee<=we&&U.indexOf(J,ee)>-1:!!we&&zn(U,J,ee)>-1},Ne.indexOf=function(U,J,ee){var Se=null==U?0:U.length;if(!Se)return-1;var we=null==ee?0:pa(ee);return we<0&&(we=Ps(Se+we,0)),zn(U,J,we)},Ne.inRange=function(U,J,ee){return J=ha(J),ee===we?(ee=J,J=0):ee=ha(ee),function(U,J,ee){return U>=Fs(J,ee)&&U<Ps(J,ee)}(U=da(U),J,ee)},Ne.invoke=Yc,Ne.isArguments=Fc,Ne.isArray=xc,Ne.isArrayBuffer=Tc,Ne.isArrayLike=Ho,Ne.isArrayLikeObject=Zo,Ne.isBoolean=function(U){return!0===U||!1===U||ta(U)&&wr(U)==qe},Ne.isBuffer=Mc,Ne.isDate=Ic,Ne.isElement=function(U){return ta(U)&&1===U.nodeType&&!ra(U)},Ne.isEmpty=function(U){if(null==U)return!0;if(Ho(U)&&(xc(U)||"string"==typeof U||"function"==typeof U.splice||Mc(U)||Dc(U)||Fc(U)))return!U.length;var J=ma(U);if(J==Dt||J==gr)return!U.size;if(bi(U))return!Sr(U).length;for(var ee in U)if(_o.call(U,ee))return!1;return!0},Ne.isEqual=function(U,J){return Or(U,J)},Ne.isEqualWith=function(U,J,ee){var Se=(ee="function"==typeof ee?ee:we)?ee(U,J):we;return Se===we?Or(U,J,we,ee):!!Se},Ne.isError=Qo,Ne.isFinite=function(U){return"number"==typeof U&&ps(U)},Ne.isFunction=Go,Ne.isInteger=Yo,Ne.isLength=Jo,Ne.isMap=kc,Ne.isMatch=function(U,J){return U===J||Lr(U,J,ai(J))},Ne.isMatchWith=function(U,J,ee){return ee="function"==typeof ee?ee:we,Lr(U,J,ai(J),ee)},Ne.isNaN=function(U){return ea(U)&&U!=+U},Ne.isNative=function(U){if(Sa(U))throw new Si("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $r(U)},Ne.isNil=function(U){return null==U},Ne.isNull=function(U){return null===U},Ne.isNumber=ea,Ne.isObject=Xo,Ne.isObjectLike=ta,Ne.isPlainObject=ra,Ne.isRegExp=Nc,Ne.isSafeInteger=function(U){return Yo(U)&&U>=-9007199254740991&&U<=Ie},Ne.isSet=Cc,Ne.isString=oa,Ne.isSymbol=aa,Ne.isTypedArray=Dc,Ne.isUndefined=function(U){return U===we},Ne.isWeakMap=function(U){return ta(U)&&ma(U)==en},Ne.isWeakSet=function(U){return ta(U)&&"[object WeakSet]"==wr(U)},Ne.join=function(U,J){return null==U?"":Os.call(U,J)},Ne.kebabCase=rl,Ne.last=Ki,Ne.lastIndexOf=function(U,J,ee){var Se=null==U?0:U.length;if(!Se)return-1;var Ee=Se;return ee!==we&&(Ee=(Ee=pa(ee))<0?Ps(Se+Ee,0):Fs(Ee,Se-1)),J==J?function(U,J,ee){for(var Se=ee+1;Se--;)if(U[Se]===J)return Se;return Se}(U,J,Ee):Rn(U,Pn,Ee,!0)},Ne.lowerCase=nl,Ne.lowerFirst=il,Ne.lt=Rc,Ne.lte=Lc,Ne.max=function(U){return U&&U.length?pr(U,ec,Cr):we},Ne.maxBy=function(U,J){return U&&U.length?pr(U,ii(J,2),Cr):we},Ne.mean=function(U){return Mn(U,ec)},Ne.meanBy=function(U,J){return Mn(U,ii(J,2))},Ne.min=function(U){return U&&U.length?pr(U,ec,qr):we},Ne.minBy=function(U,J){return U&&U.length?pr(U,ii(J,2),qr):we},Ne.stubArray=vc,Ne.stubFalse=dc,Ne.stubObject=function(){return{}},Ne.stubString=function(){return""},Ne.stubTrue=function(){return!0},Ne.multiply=jl,Ne.nth=function(U,J){return U&&U.length?zr(U,pa(J)):we},Ne.noConflict=function(){return cs._===this&&(cs._=Fo),this},Ne.noop=ac,Ne.now=yc,Ne.pad=function(U,J,ee){U=ga(U);var Se=(J=pa(J))?fe(U):0;if(!J||Se>=J)return U;var we=(J-Se)/2;return Uu(ls(we),ee)+U+Uu(as(we),ee)},Ne.padEnd=function(U,J,ee){U=ga(U);var Se=(J=pa(J))?fe(U):0;return J&&Se<J?U+Uu(J-Se,ee):U},Ne.padStart=function(U,J,ee){U=ga(U);var Se=(J=pa(J))?fe(U):0;return J&&Se<J?Uu(J-Se,ee)+U:U},Ne.parseInt=function(U,J,ee){return ee||null==J?J=0:J&&(J=+J),Ts(ga(U).replace(fi,""),J||0)},Ne.random=function(U,J,ee){if(ee&&"boolean"!=typeof ee&&_i(U,J,ee)&&(J=ee=we),ee===we&&("boolean"==typeof J?(ee=J,J=we):"boolean"==typeof U&&(ee=U,U=we)),U===we&&J===we?(U=0,J=1):(U=ha(U),J===we?(J=U,U=0):J=ha(J)),U>J){var Se=U;U=J,J=Se}if(ee||U%1||J%1){var Ee=Ms();return Fs(U+Ee*(J-U+os("1e-"+((Ee+"").length-1))),J)}return Hr(U,J)},Ne.reduce=function(U,J,ee){var Se=xc(U)?Sn:Zn,we=arguments.length<3;return Se(U,ii(J,4),ee,we,Ks)},Ne.reduceRight=function(U,J,ee){var Se=xc(U)?qn:Zn,we=arguments.length<3;return Se(U,ii(J,4),ee,we,Zs)},Ne.repeat=function(U,J,ee){return J=(ee?_i(U,J,ee):J===we)?1:pa(J),Zr(ga(U),J)},Ne.replace=function(){var U=arguments,J=ga(U[0]);return U.length<3?J:J.replace(U[1],U[2])},Ne.result=function(U,J,ee){var Se=-1,Ee=(J=_u(J,U)).length;for(Ee||(Ee=1,U=we);++Se<Ee;){var je=null==U?we:U[qi(J[Se])];je===we&&(Se=Ee,je=ee),U=Go(je)?je.call(U):je}return U},Ne.round=Al,Ne.runInContext=t,Ne.sample=function(U){return(xc(U)?Qe:Kr)(U)},Ne.size=function(U){if(null==U)return 0;if(Ho(U))return oa(U)?fe(U):U.length;var J=ma(U);return J==Dt||J==gr?U.size:Sr(U).length},Ne.snakeCase=ol,Ne.some=function(U,J,ee){var Se=xc(U)?Tn:nu;return ee&&_i(U,J,ee)&&(J=we),Se(U,ii(J,3))},Ne.sortedIndex=function(U,J){return eu(U,J)},Ne.sortedIndexBy=function(U,J,ee){return ru(U,J,ii(ee,2))},Ne.sortedIndexOf=function(U,J){var ee=null==U?0:U.length;if(ee){var Se=eu(U,J);if(Se<ee&&Ro(U[Se],J))return Se}return-1},Ne.sortedLastIndex=function(U,J){return eu(U,J,!0)},Ne.sortedLastIndexBy=function(U,J,ee){return ru(U,J,ii(ee,2),!0)},Ne.sortedLastIndexOf=function(U,J){if(null!=U&&U.length){var ee=eu(U,J,!0)-1;if(Ro(U[ee],J))return ee}return-1},Ne.startCase=ul,Ne.startsWith=function(U,J,ee){return U=ga(U),ee=null==ee?0:ir(pa(ee),0,U.length),J=ou(J),U.slice(ee,ee+J.length)==J},Ne.subtract=Pl,Ne.sum=function(U){return U&&U.length?Vn(U,ec):0},Ne.sumBy=function(U,J){return U&&U.length?Vn(U,ii(J,2)):0},Ne.template=function(U,J,ee){var Se=Ne.templateSettings;ee&&_i(U,J,ee)&&(J=we),U=ga(U),J=Uc({},J,Se,Qu);var Ee,je,Ae=Uc({},J.imports,Se.imports,Qu),Fe=Oa(Ae),xe=Yn(Ae,Fe),Te=0,Ie=J.interpolate||Xi,ke="__p += '",Ce=uo((J.escape||Xi).source+"|"+Ie.source+"|"+(Ie===An?Ri:Xi).source+"|"+(J.evaluate||Xi).source+"|$","g"),De="//# sourceURL="+(_o.call(J,"sourceURL")?(J.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ts+"]")+"\n";U.replace(Ce,(function(J,ee,Se,we,Ae,Fe){return Se||(Se=we),ke+=U.slice(Te,Fe).replace(to,re),ee&&(Ee=!0,ke+="' +\n__e("+ee+") +\n'"),Ae&&(je=!0,ke+="';\n"+Ae+";\n__p += '"),Se&&(ke+="' +\n((__t = ("+Se+")) == null ? '' : __t) +\n'"),Te=Fe+J.length,J})),ke+="';\n";var Re=_o.call(J,"variable")&&J.variable;if(Re){if(Ni.test(Re))throw new Si("Invalid `variable` option passed into `_.template`")}else ke="with (obj) {\n"+ke+"\n}\n";ke=(je?ke.replace(hn,""):ke).replace(pn,"$1").replace(vn,"$1;"),ke="function("+(Re||"obj")+") {\n"+(Re?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Ee?", __e = _.escape":"")+(je?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ke+"return __p\n}";var Le=cl((function(){return no(Fe,De+"return "+ke).apply(we,xe)}));if(Le.source=ke,Qo(Le))throw Le;return Le},Ne.times=function(U,J){if((U=pa(U))<1||U>Ie)return[];var ee=Ce,Se=Fs(U,Ce);J=ii(J),U-=Ce;for(var we=Kn(Se,J);++ee<U;)J(ee);return we},Ne.toFinite=ha,Ne.toInteger=pa,Ne.toLength=va,Ne.toLower=function(U){return ga(U).toLowerCase()},Ne.toNumber=da,Ne.toSafeInteger=function(U){return U?ir(pa(U),-9007199254740991,Ie):0===U?U:0},Ne.toString=ga,Ne.toUpper=function(U){return ga(U).toUpperCase()},Ne.trim=function(U,J,ee){if((U=ga(U))&&(ee||J===we))return Qn(U);if(!U||!(J=ou(J)))return U;var Se=le(U),Ee=le(J);return yu(Se,Xn(Se,Ee),te(Se,Ee)+1).join("")},Ne.trimEnd=function(U,J,ee){if((U=ga(U))&&(ee||J===we))return U.slice(0,he(U)+1);if(!U||!(J=ou(J)))return U;var Se=le(U);return yu(Se,0,te(Se,le(J))+1).join("")},Ne.trimStart=function(U,J,ee){if((U=ga(U))&&(ee||J===we))return U.replace(fi,"");if(!U||!(J=ou(J)))return U;var Se=le(U);return yu(Se,Xn(Se,le(J))).join("")},Ne.truncate=function(U,J){var ee=30,Se="...";if(Xo(J)){var Ee="separator"in J?J.separator:Ee;ee="length"in J?pa(J.length):ee,Se="omission"in J?ou(J.omission):Se}var je=(U=ga(U)).length;if(ue(U)){var Ae=le(U);je=Ae.length}if(ee>=je)return U;var Fe=ee-fe(Se);if(Fe<1)return Se;var xe=Ae?yu(Ae,0,Fe).join(""):U.slice(0,Fe);if(Ee===we)return xe+Se;if(Ae&&(Fe+=xe.length-Fe),Nc(Ee)){if(U.slice(Fe).search(Ee)){var Te,Ie=xe;for(Ee.global||(Ee=uo(Ee.source,ga(Vi.exec(Ee))+"g")),Ee.lastIndex=0;Te=Ee.exec(Ie);)var ke=Te.index;xe=xe.slice(0,ke===we?Fe:ke)}}else if(U.indexOf(ou(Ee),Fe)!=Fe){var Ce=xe.lastIndexOf(Ee);Ce>-1&&(xe=xe.slice(0,Ce))}return xe+Se},Ne.unescape=function(U){return(U=ga(U))&&_n.test(U)?U.replace(bn,Es):U},Ne.uniqueId=function(U){var J=++mo;return ga(U)+J},Ne.upperCase=sl,Ne.upperFirst=al,Ne.each=go,Ne.eachRight=yo,Ne.first=Wi,oc(Ne,(gl={},yr(Ne,(function(U,J){_o.call(Ne.prototype,J)||(gl[J]=U)})),gl),{chain:!1}),Ne.VERSION="4.17.21",xn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(U){Ne[U].placeholder=Ne})),xn(["drop","take"],(function(U,J){Pe.prototype[U]=function(ee){ee=ee===we?1:Ps(pa(ee),0);var Se=this.__filtered__&&!J?new Pe(this):this.clone();return Se.__filtered__?Se.__takeCount__=Fs(ee,Se.__takeCount__):Se.__views__.push({size:Fs(ee,Ce),type:U+(Se.__dir__<0?"Right":"")}),Se},Pe.prototype[U+"Right"]=function(J){return this.reverse()[U](J).reverse()}})),xn(["filter","map","takeWhile"],(function(U,J){var ee=J+1,Se=1==ee||3==ee;Pe.prototype[U]=function(U){var J=this.clone();return J.__iteratees__.push({iteratee:ii(U,3),type:ee}),J.__filtered__=J.__filtered__||Se,J}})),xn(["head","last"],(function(U,J){var ee="take"+(J?"Right":"");Pe.prototype[U]=function(){return this[ee](1).value()[0]}})),xn(["initial","tail"],(function(U,J){var ee="drop"+(J?"":"Right");Pe.prototype[U]=function(){return this.__filtered__?new Pe(this):this[ee](1)}})),Pe.prototype.compact=function(){return this.filter(ec)},Pe.prototype.find=function(U){return this.filter(U).head()},Pe.prototype.findLast=function(U){return this.reverse().find(U)},Pe.prototype.invokeMap=Vr((function(U,J){return"function"==typeof U?new Pe(this):this.map((function(ee){return Dr(ee,U,J)}))})),Pe.prototype.reject=function(U){return this.filter(So(ii(U)))},Pe.prototype.slice=function(U,J){U=pa(U);var ee=this;return ee.__filtered__&&(U>0||J<0)?new Pe(ee):(U<0?ee=ee.takeRight(-U):U&&(ee=ee.drop(U)),J!==we&&(ee=(J=pa(J))<0?ee.dropRight(-J):ee.take(J-U)),ee)},Pe.prototype.takeRightWhile=function(U){return this.reverse().takeWhile(U).reverse()},Pe.prototype.toArray=function(){return this.take(Ce)},yr(Pe.prototype,(function(U,J){var ee=/^(?:filter|find|map|reject)|While$/.test(J),Se=/^(?:head|last)$/.test(J),Ee=Ne[Se?"take"+("last"==J?"Right":""):J],je=Se||/^find/.test(J);Ee&&(Ne.prototype[J]=function(){var J=this.__wrapped__,Ae=Se?[1]:arguments,Fe=J instanceof Pe,xe=Ae[0],Te=Fe||xc(J),l=function(U){var J=Ee.apply(Ne,In([U],Ae));return Se&&Ie?J[0]:J};Te&&ee&&"function"==typeof xe&&1!=xe.length&&(Fe=Te=!1);var Ie=this.__chain__,ke=!!this.__actions__.length,Ce=je&&!Ie,De=Fe&&!ke;if(!je&&Te){J=De?J:new Pe(this);var Re=U.apply(J,Ae);return Re.__actions__.push({func:lo,args:[l],thisArg:we}),new Ue(Re,Ie)}return Ce&&De?U.apply(this,Ae):(Re=this.thru(l),Ce?Se?Re.value()[0]:Re.value():Re)})})),xn(["pop","push","shift","sort","splice","unshift"],(function(U){var J=co[U],ee=/^(?:push|sort|unshift)$/.test(U)?"tap":"thru",Se=/^(?:pop|shift)$/.test(U);Ne.prototype[U]=function(){var U=arguments;if(Se&&!this.__chain__){var we=this.value();return J.apply(xc(we)?we:[],U)}return this[ee]((function(ee){return J.apply(xc(ee)?ee:[],U)}))}})),yr(Pe.prototype,(function(U,J){var ee=Ne[J];if(ee){var Se=ee.name+"";_o.call(Bs,Se)||(Bs[Se]=[]),Bs[Se].push({name:J,func:ee})}})),Bs[Bu(we,2).name]=[{name:"wrapper",func:we}],Pe.prototype.clone=function(){var U=new Pe(this.__wrapped__);return U.__actions__=xu(this.__actions__),U.__dir__=this.__dir__,U.__filtered__=this.__filtered__,U.__iteratees__=xu(this.__iteratees__),U.__takeCount__=this.__takeCount__,U.__views__=xu(this.__views__),U},Pe.prototype.reverse=function(){if(this.__filtered__){var U=new Pe(this);U.__dir__=-1,U.__filtered__=!0}else(U=this.clone()).__dir__*=-1;return U},Pe.prototype.value=function(){var U=this.__wrapped__.value(),J=this.__dir__,ee=xc(U),Se=J<0,we=ee?U.length:0,Ee=function(U,J,ee){for(var Se=-1,we=ee.length;++Se<we;){var Ee=ee[Se],je=Ee.size;switch(Ee.type){case"drop":U+=je;break;case"dropRight":J-=je;break;case"take":J=Fs(J,U+je);break;case"takeRight":U=Ps(U,J-je)}}return{start:U,end:J}}(0,we,this.__views__),je=Ee.start,Ae=Ee.end,Fe=Ae-je,xe=Se?Ae:je-1,Te=this.__iteratees__,Ie=Te.length,ke=0,Ce=Fs(Fe,this.__takeCount__);if(!ee||!Se&&we==Fe&&Ce==Fe)return lu(U,this.__actions__);var De=[];e:for(;Fe--&&ke<Ce;){for(var Re=-1,Le=U[xe+=J];++Re<Ie;){var qe=Te[Re],$e=qe.iteratee,ht=qe.type,_t=$e(Le);if(2==ht)Le=_t;else if(!_t){if(1==ht)continue e;break e}}De[ke++]=Le}return De},Ne.prototype.at=nc,Ne.prototype.chain=function(){return fo(this)},Ne.prototype.commit=function(){return new Ue(this.value(),this.__chain__)},Ne.prototype.next=function(){this.__values__===we&&(this.__values__=la(this.value()));var U=this.__index__>=this.__values__.length;return{done:U,value:U?we:this.__values__[this.__index__++]}},Ne.prototype.plant=function(U){for(var J,ee=this;ee instanceof ze;){var Se=Bi(ee);Se.__index__=0,Se.__values__=we,J?Ee.__wrapped__=Se:J=Se;var Ee=Se;ee=ee.__wrapped__}return Ee.__wrapped__=U,J},Ne.prototype.reverse=function(){var U=this.__wrapped__;if(U instanceof Pe){var J=U;return this.__actions__.length&&(J=new Pe(this)),(J=J.reverse()).__actions__.push({func:lo,args:[Ji],thisArg:we}),new Ue(J,this.__chain__)}return this.thru(Ji)},Ne.prototype.toJSON=Ne.prototype.valueOf=Ne.prototype.value=function(){return lu(this.__wrapped__,this.__actions__)},Ne.prototype.first=Ne.prototype.head,Wo&&(Ne.prototype[Wo]=function(){return this}),Ne}();cs._=js,(Se=function(){return js}.call(J,ee,J,U))===we||(U.exports=Se)}.call(this)}},Se={};function e(J){var ee=Se[J];if(void 0!==ee)return ee.exports;var we=Se[J]={id:J,loaded:!1,exports:{}};return U[J].call(we.exports,we,we.exports,e),we.loaded=!0,we.exports}e.d=(U,J)=>{for(var ee in J)e.o(J,ee)&&!e.o(U,ee)&&Object.defineProperty(U,ee,{enumerable:!0,get:J[ee]})},e.o=(U,J)=>Object.prototype.hasOwnProperty.call(U,J),e.r=U=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},e.nmd=U=>(U.paths=[],U.children||(U.children=[]),U);var we={};(()=>{"use strict";e.r(we),e.d(we,{AiChatbotMutationContext:()=>E,ApiCallContext:()=>O,DistributedLockContext:()=>L,GraphqlContext:()=>$,MutationContext:()=>B,QueryContext:()=>K,SquidProject:()=>D,SquidService:()=>ot,aiFunction:()=>g,clientConnectionStateHandler:()=>k,executable:()=>_,getSquidService:()=>at,limiterConfigToOptions:()=>j,limits:()=>C,metadata:()=>Ae,scheduler:()=>F,secureAiChatbot:()=>w,secureApi:()=>v,secureCollection:()=>l,secureDatabase:()=>f,secureDistributedLock:()=>A,secureGraphQL:()=>d,secureNativeQuery:()=>m,secureStorage:()=>h,secureTopic:()=>p,trigger:()=>y,webhook:()=>b});const U=ee(6058);var J=e(36),Se=e(243);const i=(U,J)=>Array.isArray(U)?U.concat(J):void 0,Ee=U.IntegrationType.built_in_db,je=U.IntegrationType.built_in_queue;function c(U,J){(0,Se.mergeWith)(U,J,i)}const Ae=new class{constructor(){this.data={databases:{},storage:{},executables:{},apis:{},graphql:{},triggers:{},schedulers:{},webhooks:{},nativeQueries:{},distributedLocks:{},aiChatbots:{},clientConnectionStateChangeHandlers:[],aiFunctions:{},queues:{},limits:{}}}secureDatabase(U,J,ee=Ee){c(this.data,{databases:{[ee]:{security:{[U]:[J]}}}})}secureCollection(U,J,ee,Se=Ee){c(this.data,{databases:{[Se]:{collections:{[U]:{security:{[J]:[ee]}}}}}})}secureStorage(U,J,ee="built_in_storage"){c(this.data,{storage:{[ee]:{security:{[U]:[J]}}}})}secureTopic(U,J,ee,Se=je){c(this.data,{queues:{[Se]:{topics:{[U]:{security:{[J]:[ee]}}}}}})}secureApi(U,J,ee){c(this.data,J?{apis:{[U]:{endpoints:{[J]:{security:[ee]}}}}}:{apis:{[U]:{security:[ee]}}})}secureGraphQL(U,J){c(this.data,{graphql:{[U]:{security:[J]}}})}transformDatabase(U,J,ee=Ee){c(this.data,{databases:{[ee]:{transform:{[U]:{type:U,serviceFunction:J}}}}})}transformCollection(J,ee,Se,we=U.IntegrationType.built_in_db){c(this.data,{databases:{[we]:{collections:{[J]:{transform:{[ee]:{type:ee,serviceFunction:Se}}}}}}})}executable(U){const J=U.split(":")[1];c(this.data,{executables:{[J]:{serviceFunction:U}}})}aiFunction(U,J,ee){const Se=U.split(":")[1],we={aiFunctions:{[Se]:{description:J,params:ee,serviceFunction:U}}};c(this.data,we)}trigger(U,ee,Se,we=Ee,je){(0,J.assertTruthy)(!this.data.triggers[U],`Duplicate Trigger IDs: ${U}`),this.data.triggers[U]={integrationId:we,collectionName:ee,functionName:Se,mutationTypes:je}}scheduler(U,ee,Se,we){(0,J.assertTruthy)(!this.data.schedulers[U],`Duplicate Scheduler IDs: ${U}`),this.data.schedulers[U]={cronExpression:ee,functionName:Se,exclusive:we}}webhook(U,ee){(0,J.assertTruthy)(!this.data.webhooks[U],`Duplicate Webhook IDs: ${U}`),this.data.webhooks[U]={functionName:ee}}secureNativeQuery(U,J){c(this.data,{nativeQueries:{[U]:[J]}})}secureDistributedLock(U,J){c(this.data,U?{distributedLocks:{mutexes:{[U]:{security:[J]}}}}:{distributedLocks:{security:[J]}})}secureAiChatbot(U,J,ee,Se){c(this.data,ee?{aiChatbots:{[J]:{profiles:{[ee]:{security:{[U]:[Se]}}}}}}:{aiChatbots:{[J]:{security:{[U]:[Se]}}}})}limits(U,J){c(this.data,{limits:{[U]:J}})}clientConnectionChangeHandler(U){c(this.data,{clientConnectionStateChangeHandlers:[U]})}};function f(U,J){return function(ee,Se,we){return Ae.secureDatabase(U,x(ee,Se),J),we}}function l(U,J,ee){return function(Se,we,Ee){return Ae.secureCollection(U,J,x(Se,we),ee),Ee}}function h(U,J){return function(ee,Se,we){return Ae.secureStorage(U,x(ee,Se),J),we}}function p(U,J,ee){return function(Se,we,Ee){return Ae.secureTopic(U,J,x(Se,we),ee),Ee}}function v(U,J){return function(ee,Se,we){return Ae.secureApi(U,J,x(ee,Se)),we}}function d(U){return function(J,ee,Se){return Ae.secureGraphQL(U,x(J,ee)),Se}}function _(){return function(U,J,ee){return Ae.executable(x(U,J)),ee}}function g(U,J){return function(ee,Se,we){return Ae.aiFunction(x(ee,Se),U,J),we}}function y(U,ee="",Se){const we="object"==typeof U?Object.assign({},U):{id:U,collection:ee,integrationId:Se};return(0,J.assertTruthy)(we.collection,"Collection name can't be empty"),function(U,J,ee){return we.id||(we.id=x(U,J)),Ae.trigger(we.id,we.collection,x(U,J),we.integrationId,we.mutationTypes),ee}}function F(U,ee,Se=!0){return function(we,Ee,je){var Fe;const xe=x(we,Ee);let Te;return Te="object"==typeof U?{cron:U.cron,id:U.id||xe,exclusive:null===(Fe=U.exclusive)||void 0===Fe||Fe}:{id:U,cron:(0,J.truthy)(ee,"cronExpression must be defined"),exclusive:Se},Ae.scheduler(Te.id,Te.cron,xe,Te.exclusive),je}}function b(U){return function(J,ee,Se){return Ae.webhook(U,x(J,ee)),Se}}function m(U){return function(J,ee,Se){return Ae.secureNativeQuery(U,x(J,ee)),Se}}function A(U){return function(J,ee,Se){return Ae.secureDistributedLock(U,x(J,ee)),Se}}function w(U,J,ee){return function(Se,we,Ee){return Ae.secureAiChatbot(J,U,ee,x(Se,we)),Ee}}function C(U){return function(J,ee,Se){return Ae.limits(x(J,ee),j(U)),Se}}function k(){return function(U,J,ee){return Ae.clientConnectionChangeHandler(x(U,J)),ee}}function x(U,J){return`${U.constructor.name}:${J}`}function j(U){return void 0!==U.rateLimit&&("number"==typeof U.rateLimit?U.rateLimit=[{value:U.rateLimit,scope:"global"}]:"object"!=typeof U.rateLimit||Array.isArray(U.rateLimit)||(U.rateLimit=[U.rateLimit]),U.rateLimit.forEach((U=>{void 0===U.scope&&(U.scope="global")}))),void 0!==U.quotaLimit&&("number"==typeof U.quotaLimit?U.quotaLimit=[{value:U.quotaLimit,scope:"global",renewPeriod:"monthly"}]:"object"!=typeof U.quotaLimit||Array.isArray(U.quotaLimit)||(U.quotaLimit=[U.quotaLimit]),U.quotaLimit.forEach((U=>{void 0===U.scope&&(U.scope="global"),void 0===U.renewPeriod&&(U.renewPeriod="monthly")}))),U}class D{metadata(){return Ae.data}cleanup(){return J=this,Se=function*(){for(const J of U.Squid.getInstances())yield J.destruct()},new((ee=void 0)||(ee=Promise))((function(U,we){function o(U){try{c(Se.next(U))}catch(U){we(U)}}function a(U){try{c(Se.throw(U))}catch(U){we(U)}}function c(J){var Se;J.done?U(J.value):(Se=J.value,Se instanceof ee?Se:new ee((function(U){U(Se)}))).then(o,a)}c((Se=Se.apply(J,[])).next())}));var J,ee,Se}}class E{constructor(U){this.profileId=U.profileId,this.type=U.type,this.resource=U.resource,this.payload=U.payload}}class O{constructor(U){this.integrationId=U.integrationId,this.endpointId=U.endpointId,this.url=U.url,this.method=U.method,this.body=U.body,this.options=U.options}}class L{constructor(U){this.mutex=U}}class ${constructor(U){this.isGraphiQL=U.isGraphiQL,this.query=U.query,this.operationName=U.operationName,this.variables=U.variables}}const Fe=/[.\[\]]/;function S(U,J){if(!U)return;const ee=J.split(Fe);let Se,we=U;for(;we&&ee.length;){const U=ee.shift();if(U){if("object"!=typeof we||!(U in we))return;Se=we[U],we=Se}}return Se}function q(U){return null==U}function T(U,J){if(U===J)return!0;if(null===U||null===J)return!1;const ee=typeof U;if(ee!==typeof J)return!1;if("object"!==ee)return U===J;if(U instanceof Date&&J instanceof Date)return U.getTime()===J.getTime();const Se=Object.keys(U),we=Object.keys(J);if(Se.length!==we.length)return!1;for(const ee of Se)if(!we.includes(ee)||!T(U[ee],J[ee]))return!1;return!0}class B{constructor(U,J,ee){this.mutation=U,this.beforeAndAfterDocs=J,this.serverTimeStamp=ee}getMutationType(){return this.mutation.type}get before(){return this.beforeAndAfterDocs.before}get after(){return this.beforeAndAfterDocs.after}affectsPath(U){return!T(S(this.before,U),S(this.after,U))}affectedPaths(U=""){(0,J.assertTruthy)("update"===this.mutation.type,"affectedPaths can only be used with update mutations");const ee=[];return this.checkPath(U,ee),ee}checkPath(U,J){const ee=S(this.before,U),Se=S(this.after,U);if(!T(ee,Se)&&(""!==U&&J.push(U),"object"==typeof ee&&null!==ee&&"object"==typeof Se&&null!==Se)){const we=Object.keys(ee),Ee=Object.keys(Se);new Set([...we,...Ee]).forEach((ee=>{const Se=U?`${U}.${ee}`:ee;this.checkPath(Se,J)}))}}}function N(U){return"fieldName"in U}function R(U,ee,Se){if(U=U instanceof Date?U.getTime():null!=U?U:null,ee=ee instanceof Date?ee.getTime():null!=ee?ee:null,"=="===Se)return T(U,ee);if("!="===Se)return!T(U,ee);switch(Se){case"<":return!q(U)&&(!!q(ee)||ee<U);case"<=":return!!q(ee)||!q(U)&&ee<=U;case">":return!q(ee)&&(!!q(U)||ee>U);case">=":return!!q(U)||!q(ee)&&ee>=U;case"like":return"string"==typeof ee&&"string"==typeof U&&z(ee,U,!1);case"not like":return!("string"==typeof ee&&"string"==typeof U&&z(ee,U,!1));case"like_cs":return"string"==typeof ee&&"string"==typeof U&&z(ee,U,!0);case"not like_cs":return!("string"==typeof ee&&"string"==typeof U&&z(ee,U,!0));case"array_includes_some":{const Se=ee;return Array.isArray(ee)&&Array.isArray(U)&&U.some((U=>(0,J.truthy)(Se,"VALUE_CANNOT_BE_NULL").some((J=>T(J,U)))))}case"array_includes_all":{const Se=ee;return Array.isArray(U)&&Array.isArray(ee)&&U.every((U=>(0,J.truthy)(Se,"VALUE_CANNOT_BE_NULL").some((J=>T(J,U)))))}case"array_not_includes":{const Se=ee;return Array.isArray(ee)&&Array.isArray(U)&&U.every((U=>!(0,J.truthy)(Se,"VALUE_CANNOT_BE_NULL").some((J=>T(J,U)))))}default:throw new Error(`Unsupported operator comparison: ${Se}`)}}function z(U,J,ee){ee||(U=U.toLowerCase(),J=J.toLowerCase());const Se=function(U){let J="";for(let ee=0;ee<U.length;++ee)"\\"===U[ee]?ee+1<U.length&&["%","_"].includes(U[ee+1])?(J+=U[ee+1],ee++):ee+1<U.length&&"\\"===U[ee+1]?(J+="\\\\",ee++):J+="\\":"%"===U[ee]?J+="[\\s\\S]*":"_"===U[ee]?J+="[\\s\\S]":("/-\\^$*+?.()[]{}|".includes(U[ee])&&(J+="\\"),J+=U[ee]);return J}(J);return new RegExp(`^${Se}$`).test(U)}const xe={"in:in":(U,J)=>U.every((U=>J.includes(U))),"in:not in":(U,J)=>U.every((U=>!J.includes(U))),"not in:not in":(U,J)=>J.every((J=>U.includes(J))),">:not in":(U,J)=>J.every((J=>U>=J)),">=:not in":(U,J)=>J.every((J=>U>J)),"<:not in":(U,J)=>J.every((J=>U<=J)),"<=:not in":(U,J)=>J.every((J=>U<J)),">:>":(U,J)=>U>=J,">=:>":(U,J)=>U>J,"in:>":(U,J)=>U.every((U=>U>J)),">:>=":(U,J)=>U>=J,">=:>=":(U,J)=>U>=J,"in:>=":(U,J)=>U.every((U=>U>=J)),"<:<":(U,J)=>U<=J,"<=:<":(U,J)=>U<J,"in:<":(U,J)=>U.every((U=>U<J)),"<:<=":(U,J)=>U<=J,"<=:<=":(U,J)=>U<=J,"in:<=":(U,J)=>U.every((U=>U<=J)),"like:like":(U,J)=>P(U.toLowerCase(),J.toLowerCase()),"like_cs:like":(U,J)=>P(U.toLowerCase(),J.toLowerCase()),"like:like_cs":(U,J)=>P(U,J)&&W(J),"like_cs:like_cs":(U,J)=>P(U,J),"like:not like":(U,J)=>!M(U.toLowerCase(),J.toLowerCase()),"like_cs:not like":(U,J)=>!M(U.toLowerCase(),J.toLowerCase()),"like:not like_cs":(U,J)=>!M(U.toLowerCase(),J.toLowerCase()),"like_cs:not like_cs":(U,J)=>!M(U,J),"not like:like":(U,J)=>Z(U,J),"not like_cs:like":(U,J)=>Z(U,J),"not like:like_cs":(U,J)=>Z(U,J),"not like_cs:like_cs":(U,J)=>Z(U,J),"not like:not like":(U,J)=>P(J.toLowerCase(),U.toLowerCase()),"not like_cs:not like":(U,J)=>P(J,U)&&W(U),"not like:not like_cs":(U,J)=>P(J.toLowerCase(),U.toLowerCase()),"not like_cs:not like_cs":(U,J)=>P(J,U),"in:like":(U,J)=>U.every((U=>R(J,U,"like"))),"in:like_cs":(U,J)=>U.every((U=>R(J,U,"like_cs"))),"in:not like":(U,J)=>U.every((U=>R(J,U,"not like"))),"in:not like_cs":(U,J)=>U.every((U=>R(J,U,"not like_cs"))),"like:in":(U,J)=>!U.includes("%")&&!U.includes("_")&&!!J.find((J=>J.toLowerCase()===U.toLowerCase())),"like_cs:in":(U,J)=>!U.includes("%")&&!U.includes("_")&&J.includes(U),"not like:in":(U,J)=>U.length>0&&H(U)||V(U)&&J.includes(""),"not like_cs:in":(U,J)=>U.length>0&&H(U)||V(U)&&J.includes(""),"not in:like":(U,J)=>J.length>0&&H(J)||V(J)&&U.includes(""),"not in:like_cs":(U,J)=>J.length>0&&H(J)||V(J)&&U.includes(""),"not in:not like":(U,J)=>!J.includes("%")&&!J.includes("_")&&!!U.find((U=>U.toLowerCase()===J.toLowerCase())),"not in:not like_cs":(U,J)=>!J.includes("%")&&!J.includes("_")&&U.includes(J),"like:not in":(U,J)=>J.every((J=>R(U,J,"not like"))),"like_cs:not in":(U,J)=>J.every((J=>R(U,J,"not like_cs"))),"not like:not in":(U,J)=>J.every((J=>R(U,J,"like"))),"not like_cs:not in":(U,J)=>J.every((J=>R(U,J,"like_cs"))),"array_includes_some:array_includes_some":(U,J)=>U.every((U=>J.includes(U))),"array_includes_all:array_includes_all":(U,J)=>U.every((U=>J.includes(U))),"array_not_includes:array_not_includes":(U,J)=>J.every((J=>U.includes(J))),"array_includes_some:array_not_includes":(U,J)=>U.every((U=>!J.includes(U))),"array_not_includes:array_includes_some":(U,J)=>J.every((J=>!U.includes(J))),"array_includes_all:array_includes_some":(U,J)=>U.every((U=>J.includes(U))),"array_includes_some:array_includes_all":(U,J)=>U.every((U=>J.includes(U))),"array_not_includes:array_includes_all":(U,J)=>J.every((J=>!U.includes(J))),"array_includes_all:array_not_includes":(U,J)=>U.every((U=>!J.includes(U)))};function P(U,J,ee=0,Se=0){if(Se>=J.length)return ee>=U.length;if(ee>=U.length)return H(J.substring(Se));const we=U[ee],Ee=J[Se];return"%"===we&&"%"===Ee?P(U,J,ee+1,Se+1)||P(U,J,ee+1,Se):"%"!==we&&("%"===Ee?P(U,J,ee,Se+1)||P(U,J,ee+1,Se):(we===Ee||"_"===Ee)&&P(U,J,ee+1,Se+1))}function M(U,J,ee=0,Se=0){if(ee>=U.length&&Se>=J.length)return!0;if(ee>=U.length)return H(J.substring(Se));if(Se>=J.length)return H(U.substring(ee));const we=ee<U.length?U[ee]:"",Ee=Se<J.length?J[Se]:"";return"%"===we&&"%"===Ee?M(U,J,ee+1,Se+1)||M(U,J,ee,Se+1)||M(U,J,ee+1,Se):"%"===we||"%"===Ee?M(U,J,ee,Se+1)||M(U,J,ee+1,Se):(we===Ee||"_"===we||"_"===Ee)&&M(U,J,ee+1,Se+1)}function W(U){return!/[a-zA-Z]/.test(U)}function H(U){return U.split("").every((U=>"%"===U))}function Z(U,J){return U.length>0&&H(U)||J.length>0&&H(J)||V(U)&&0===J.length}function V(U){let J=!1,ee=!1;for(const Se of U)switch(Se){case"%":J=!0;break;case"_":if(ee)return!1;ee=!0;break;default:return!1}return J&&ee}class K{constructor(U){this.query=U,this.query=U,this.parsedConditions=this.parseConditions(this.query.conditions.filter(N))}get integrationId(){return this.query.integrationId}get collectionName(){return this.query.collectionName}get limit(){return this.query.limit}sortedBy(U){return!U.find(((U,J)=>{var ee;return!T(this.query.sortOrder[J],Object.assign(Object.assign({},U),{asc:null===(ee=U.asc)||void 0===ee||ee}))}))}sortedByExact(U){return U.length===this.query.sortOrder.length&&this.sortedBy(U)}isSubqueryOf(U,J,ee){return this.isSubqueryOfCondition({fieldName:U,operator:J,value:ee})}isSubqueryOfCondition(U){return!!this.parsedConditions.filter((J=>J.fieldName===U.fieldName)).find((J=>this.evaluateSubset(J,U)))}isSubqueryOfConditions(U){return this.parseConditions(U).every((U=>this.isSubqueryOfCondition(U)))}isSubqueryOfQuery(U){if(U.collectionName!==this.collectionName||U.integrationId!==this.integrationId)return!1;const J=U.conditions.filter(N),ee=this.isSubqueryOfConditions(J),Se=this.sortedBy(U.sortOrder),we=-1===U.limit||this.limit>-1&&this.limit<U.limit;return ee&&Se&&we}getConditionsFor(...U){return this.parsedConditions.filter((J=>U.includes(J.fieldName)))}getConditionsForField(U){return this.parsedConditions.filter((J=>J.fieldName===U))}documentMatchesQuery(U){for(const J of this.parsedConditions){const ee=J.fieldName,Se=J.operator,we=S(U,ee);if("in"===Se){if(J.value.includes(we))continue;return!1}if("not in"!==Se){if(!R(J.value,we,Se))return!1}else if(J.value.includes(we))return!1}return!0}evaluateSubset(U,J){const{operator:ee,value:Se}=U,{operator:we,value:Ee}=this.parseConditions([J])[0],je=xe[`${ee}:${we}`];return!!je&&je(Se,Ee)}evaluateIncludes(U,J){const{operator:ee,value:Se}=U,{operator:we,value:Ee}=this.parseConditions([J])[0],je=Array.isArray(Se)?Se.sort():Se,Ae=Array.isArray(Ee)?Ee.sort():Ee;return we===ee&&T(Ae,je)}parseConditions(U){const J=[],ee=new Map,Se=new Map;return U.forEach((U=>{switch(U.operator){case"==":case"in":ee.set(U.fieldName,(ee.get(U.fieldName)||[]).concat(U.value));break;case"!=":case"not in":Se.set(U.fieldName,(Se.get(U.fieldName)||[]).concat(U.value));break;default:J.push(U)}})),ee.forEach(((U,ee)=>{J.push({fieldName:ee,operator:"in",value:U})})),Se.forEach(((U,ee)=>{J.push({fieldName:ee,operator:"not in",value:U})})),J}}const Te=ee(9896),Ie=ee(6928);function Y(){if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;throw new Error("Unable to locate global object")}const ke=new Map,Ce="__squidMetadata",De="CIRCULAR_DEPENDENCY",Re=[];function et(U){return U[Ce]||{version:0}}function rt(U,ee){(0,J.assertTruthy)(U.backendApiKey===ee.backendApiKey,"backendApiKey does not match."),(0,J.assertTruthy)(U.codeDir===ee.codeDir,"codeDir does not match"),(0,J.assertTruthy)(U.environmentId===ee.environmentId,"environmentId does not match"),(0,J.assertTruthy)(U.squidDeveloperId===ee.squidDeveloperId,"squidDeveloperId does not match"),(0,J.assertTruthy)(U.appId===ee.appId,"appId does not match")}const Le="SQUID_GLOBAL_CONFIG";function it(){return(0,J.truthy)(Y()[Le],"Squid global config is not defined!")}class ot{constructor(){this.region=process.env.SQUID_REGION||"local",this.config=it(),this[Ce]={version:2}}get secrets(){return this.config.secrets}get context(){return this.getRequestConfig().context}getApiKey(){return this.config.backendApiKey}get squid(){const ee=function(U){(0,J.assertString)(U,"Invalid application ID");const[ee,Se,we,Ee]=U.split("-");return(0,J.assertTruthy)(!Ee,`Invalid application ID: ${U}`),{appId:ee,environmentId:null!=Se?Se:"prod",squidDeveloperId:we}}(this.config.appId);return U.Squid.getInstance({appId:ee.appId,apiKey:this.config.backendApiKey,squidDeveloperId:ee.squidDeveloperId,environmentId:ee.environmentId,region:this.region})}get assetsDirectory(){const U=Ie.resolve(this.config.codeDir||"","public");if(Te.existsSync(U))return U;const J=Ie.resolve(process.cwd(),"src/public");return Te.existsSync(J)?J:U}getUserAuth(){const{auth:U}=this.getRequestConfig();return"Bearer"===(null==U?void 0:U.type)?U:void 0}getApiKeyAuth(){const{auth:U}=this.getRequestConfig();return"ApiKey"===(null==U?void 0:U.type)?U:void 0}isAuthenticated(){const{auth:U}=this.getRequestConfig();return!!U}getRequestConfig(){return U=this.config.requestLocalStorage,(0,J.truthy)(U.getStore(),"Failed to access request data outside of the request's scope");var U}assertIsAuthenticated(){(0,J.assertTruthy)(this.isAuthenticated(),"UNAUTHORIZED")}createWebhookResponse(U,J,ee){return{body:U||"",statusCode:J||(U?200:204),headers:ee||{},__isWebhookResponse__:!0}}throwWebhookResponse(U){throw{body:U.body||"",statusCode:U.statusCode||500,headers:U.headers||{},__isWebhookResponse__:!0}}createOpenApiResponse(U,J,ee){return{body:U||"",statusCode:J||(U?200:204),headers:ee||{},__isOpenApiResponse__:!0}}throwOpenApiResponse(U){throw{body:U.body||"",statusCode:U.statusCode||500,headers:U.headers||{},__isOpenApiResponse__:!0}}}function at(U){return function(U,ee,Se){!function(U){const J=Y(),ee=J[Le];ee?rt(ee,U):J[Le]=U}(ee);let we=ke.get(U);if(!we||et(we).version<=1){const Ee=Object.assign(Object.assign({},ee),Se);(0,J.assertTruthy)(!Re.includes(U),(()=>{var J;return`${De}: ${null===(J=Re[Re.length-1])||void 0===J?void 0:J.name} => ${U.name}`})),Re.push(U);try{we=ee.requestLocalStorage.run(Se,(()=>new U(Ee)))}finally{Re.pop()}et(we).version>1&&ke.set(U,we)}else rt(we.config,ee),we.config.secrets=ee.secrets;return we}(U,it(),{})}})();var Ee=J;for(var je in we)Ee[je]=we[je];we.__esModule&&Object.defineProperty(Ee,"__esModule",{value:!0})})()},6058:(U,J,ee)=>{(()=>{"use strict";var U={9273:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0})},5150:function(U,J,ee){var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0});const Ee=ee(5642);J.default=Ee.PromisePool,we(ee(9273),J),we(ee(5642),J),we(ee(7837),J),we(ee(2426),J),we(ee(6858),J),we(ee(1172),J)},7837:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.PromisePoolError=void 0;class r extends Error{constructor(U,J){super(),this.raw=U,this.item=J,this.name=this.constructor.name,this.message=this.messageFrom(U),Error.captureStackTrace(this,this.constructor)}static createFrom(U,J){return new this(U,J)}messageFrom(U){return U instanceof Error||"object"==typeof U?U.message:"string"==typeof U||"number"==typeof U?U.toString():""}}J.PromisePoolError=r},234:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.PromisePoolExecutor=void 0;const Se=ee(5642),we=ee(7837),Ee=ee(6858),je=ee(1172);J.PromisePoolExecutor=class{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(U){if(!this.isValidConcurrency(U))throw je.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${U}" (${typeof U})`);return this.meta.concurrency=U,this}isValidConcurrency(U){return"number"==typeof U&&U>=1}withTaskTimeout(U){return this.meta.taskTimeout=U,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(U){return this.meta.shouldResultsCorrespond=U,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(U){return this.meta.items=U,this}items(){return this.meta.items}itemsCount(){return this.items().length}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(U){return this.handler=U,this}hasErrorHandler(){return!!this.errorHandler}handleError(U){return this.errorHandler=U,this}onTaskStarted(U){return this.onTaskStartedHandlers=U,this}onTaskFinished(U){return this.onTaskFinishedHandlers=U,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new Ee.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if("function"!=typeof this.handler)throw je.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const U=this.taskTimeout();if(!(null==U||"number"==typeof U&&U>=0))throw je.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(U)}" (${typeof U})`);if(!Array.isArray(this.items()))throw je.ValidationError.createFrom(`"items" must be an array. Received "${typeof this.items()}"`);if(this.errorHandler&&"function"!=typeof this.errorHandler)throw je.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach((U=>{if(U&&"function"!=typeof U)throw je.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof U}"`)})),this.onTaskFinishedHandlers.forEach((U=>{if(U&&"function"!=typeof U)throw je.ValidationError.createFrom(`The error handler must be a function. Received "${typeof U}"`)})),this}prepareResultsArray(){return this.shouldUseCorrespondingResults()&&(this.meta.results=Array(this.items().length).fill(Se.PromisePool.notRun)),this}async process(){for(const[U,J]of this.items().entries()){if(this.isStopped())break;await this.waitForProcessingSlot(),this.startProcessing(J,U)}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(U,J){const ee=this.createTaskFor(U,J).then((U=>{this.save(U,J).removeActive(ee)})).catch((async Se=>{await this.handleErrorFor(Se,U,J),this.removeActive(ee)})).finally((()=>{this.processedItems().push(U),this.runOnTaskFinishedHandlers(U)}));this.tasks().push(ee),this.runOnTaskStartedHandlers(U)}async createTaskFor(U,J){return void 0===this.taskTimeout()?this.handler(U,J,this):Promise.race([this.handler(U,J,this),this.createTaskTimeout(U)])}async createTaskTimeout(U){return new Promise(((J,ee)=>{setTimeout((()=>{ee(new we.PromisePoolError(`Promise in pool timed out after ${this.taskTimeout()}ms`,U))}),this.taskTimeout())}))}save(U,J){return this.shouldUseCorrespondingResults()?this.results()[J]=U:this.results().push(U),this}removeActive(U){return this.tasks().splice(this.tasks().indexOf(U),1),this}async handleErrorFor(U,J,ee){if(this.shouldUseCorrespondingResults()&&(this.results()[ee]=Se.PromisePool.failed),!this.isStoppingThePoolError(U)){if(this.isValidationError(U))throw this.markAsStopped(),U;this.hasErrorHandler()?await this.runErrorHandlerFor(U,J):this.saveErrorFor(U,J)}}isStoppingThePoolError(U){return U instanceof Ee.StopThePromisePoolError}isValidationError(U){return U instanceof je.ValidationError}async runErrorHandlerFor(U,J){var ee;try{await(null===(ee=this.errorHandler)||void 0===ee?void 0:ee.call(this,U,J,this))}catch(U){this.rethrowIfNotStoppingThePool(U)}}runOnTaskStartedHandlers(U){this.onTaskStartedHandlers.forEach((J=>{J(U,this)}))}runOnTaskFinishedHandlers(U){this.onTaskFinishedHandlers.forEach((J=>{J(U,this)}))}rethrowIfNotStoppingThePool(U){if(!this.isStoppingThePoolError(U))throw U}saveErrorFor(U,J){this.errors().push(we.PromisePoolError.createFrom(U,J))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}},5642:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.PromisePool=void 0;const Se=ee(234);class i{constructor(U){this.timeout=void 0,this.concurrency=10,this.shouldResultsCorrespond=!1,this.items=null!=U?U:[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}withConcurrency(U){return this.concurrency=U,this}static withConcurrency(U){return(new this).withConcurrency(U)}withTaskTimeout(U){return this.timeout=U,this}static withTaskTimeout(U){return(new this).withTaskTimeout(U)}for(U){return"number"==typeof this.timeout?new i(U).withConcurrency(this.concurrency).withTaskTimeout(this.timeout):new i(U).withConcurrency(this.concurrency)}static for(U){return(new this).for(U)}handleError(U){return this.errorHandler=U,this}onTaskStarted(U){return this.onTaskStartedHandlers.push(U),this}onTaskFinished(U){return this.onTaskFinishedHandlers.push(U),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(U){return(new Se.PromisePoolExecutor).useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(U).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}J.PromisePool=i,i.notRun=Symbol("notRun"),i.failed=Symbol("failed")},2426:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0})},6858:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.StopThePromisePoolError=void 0;class r extends Error{}J.StopThePromisePoolError=r},1172:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.ValidationError=void 0;class r extends Error{constructor(U){super(U),Error.captureStackTrace(this,this.constructor)}static createFrom(U){return new this(U)}}J.ValidationError=r},5036:function(U,J,ee){var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),we(ee(4077),J)},6373:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.callValueAssertion=J.assertRecord=J.assertArray=J.assertObject=J.getErrorMessage=J.getAssertionErrorFromProvider=J.fail=J.truthy=J.assertTruthy=void 0;const Se=ee(4665),we=ee(1333);function o(U,J){U||s(J)}function s(U){const J=a(U);if("object"==typeof J)throw J;throw new Error(J||"Assertion error")}function a(U){return void 0===U?"":"string"==typeof U?U:U()}function u(U){const J=a(U);return"string"==typeof J?J:J.message||"<no error message>"}function c(U,J,ee=void 0,Se={}){const i=()=>u(ee),s=U=>{const J=i();return 0===J.length?U:`${J} ${U}`};o("object"==typeof U,(()=>s("is not an object: "+typeof U))),o(void 0!==U,(()=>s("is not defined"))),o(null!==U,(()=>s("is null"))),o(!Array.isArray(U),(()=>s("is an array.")));const we=Object.entries(J);if(Se.failOnUnknownFields){const J=Se.allowedUnknownFieldNames||[];for(const ee in U)o(J.includes(ee)||we.some((([U])=>ee===U)),s(`property can't be checked: ${ee}`))}let Ee;for(const[J,ee]of we){o("function"==typeof ee||"object"==typeof ee&&null!==ee,(()=>`${i()}.${J} assertion is not an object or a function: ${typeof ee}`));const Se=U[J],s=()=>`${i()}.${J}`;if("object"==typeof ee)o(!Array.isArray(Se),(()=>`${i()}.${s()} use arrayAssertion() to create a ValueAssertion for an array`)),c(Se,ee,s);else if(o("function"==typeof ee,(()=>`${i()}.${s()} assertion is not a function`)),"$o"===J)Ee=ee;else{const U=ee(Se,s);o(void 0===U,`Assertion function must assert (void) but it returns a value: ${U}. Wrap with $u()?`)}}Ee&&Ee(U,ee)}function l(U,J,ee){J(U,ee)}function d(U){return(J="with-space-separator")=>{const ee=u(U);return ee?`${ee}${"with-space-separator"===J?" ":""}`:""}}function h(U,J,ee){"object"==typeof J?(o(!Array.isArray(U),(()=>`${ee}: use arrayAssertion() to create a ValueAssertion for an array`)),c(U,J,ee)):l(U,J,ee)}J.assertTruthy=o,J.truthy=function(U,J){return o(U,J),U},J.fail=s,J.getAssertionErrorFromProvider=a,J.getErrorMessage=u,J.assertObject=c,J.assertArray=function(U,J,ee={},we=void 0){var Ee,je;const Ae=d(we);o(Array.isArray(U),(()=>`${Ae()}value is not an array: ${U}`));const Fe=null!==(Ee=ee.minLength)&&void 0!==Ee?Ee:0,xe=null!==(je=ee.maxLength)&&void 0!==je?je:1/0;o(U.length>=Fe,(()=>`${Ae()}array length < minLength. Array length: ${U.length}, minLength: ${Fe}`)),o(U.length<=xe,(()=>`${Ae()}array length > maxLength. Array length: ${U.length}, maxLength: ${xe}`)),ee.uniqueByIdentity&&o((0,Se.checkArrayHasUniqueElements)(U,ee.uniqueByIdentity),(()=>`${Ae()}array contains non-unique elements`));let Te=0;const p=()=>`${Ae("no-space-separator")}[${Te}]`;for(;Te<U.length;Te++)h(U[Te],J,p)},J.assertRecord=function(U,J,ee={},Se=void 0){const Ee=d(Se);o("object"==typeof U,(()=>`${Ee()}value is not an object: ${(0,we.formatValue)(U)}`)),o(null!==U,(()=>`${Ee()}value is null`)),o(!Array.isArray(U),(()=>`${Ee()}the value is not a record, but is an array`));for(const[Se,je]of Object.entries(U)){const e=()=>`${Ee("no-space-separator")}['${Se}']`;ee.keyAssertion&&h(Se,ee.keyAssertion,(()=>`${e()}, key assertion failed:`)),h(je,J,e);const{keyField:U}=ee;if(U){o("object"==typeof je&&null!==je,(()=>`${e()} is not an object: ${(0,we.formatValue)(je)}`));const J=je[U];o(J===Se,(()=>`${e()} key value does not match object field '${U}' value: ${(0,we.formatValue)(J)}`))}}ee.$o&&ee.$o(U,Se)},J.callValueAssertion=l},8596:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.stringAssertion=J.nullOr=J.undefinedOr=J.valueOr=J.$u=J.$a=J.recordAssertion=J.arrayAssertion=J.objectAssertion=void 0;const Se=ee(6373),we=ee(1333);function o(U,J){return(0,Se.assertTruthy)("function"==typeof U,`"check" is not a function: ${U}`),(ee,we=void 0)=>(0,Se.assertTruthy)(U(ee),(()=>{let U=(0,Se.getErrorMessage)(we)||"Check is failed";return U.endsWith(":")||(U+=":"),`${U} ${(0,Se.getErrorMessage)(J)||("object"==typeof ee?"[object]":`'${ee}'`)}`}))}function s(U,J){return(ee,we=void 0)=>{ee!==U&&("object"==typeof J?(0,Se.assertObject)(ee,J,we):(0,Se.callValueAssertion)(ee,J,we))}}J.objectAssertion=function(U,J=void 0){return ee=>(0,Se.assertObject)(ee,U,J)},J.arrayAssertion=function(U,J={}){const{minLength:ee,maxLength:we}=J;return(0,Se.assertTruthy)((null!=ee?ee:0)<=(null!=we?we:1/0),`minLength must be < maxLength! minLength ${ee}, maxLength: ${we}`),(0,Se.assertTruthy)((null!=ee?ee:0)>=0,`minLength must be a positive number: ${ee}`),(0,Se.assertTruthy)((null!=we?we:0)>=0,`maxLength must be a positive number: ${we}`),(ee,we=void 0)=>{(0,Se.assertArray)(ee,U,J,we)}},J.recordAssertion=function(U,J={}){return(ee,we=void 0)=>{(0,Se.assertRecord)(ee,U,J,we)}},J.$a=o,J.$u=function(U,J){return o(U,J)},J.valueOr=s,J.undefinedOr=function(U){return s(void 0,U)},J.nullOr=function(U){return s(null,U)},J.stringAssertion=U=>(J,ee=void 0)=>{var Ee,je;(0,we.assertString)(J,ee),(0,Se.assertTruthy)(J.length>=(null!==(Ee=U.minLength)&&void 0!==Ee?Ee:0),`${(0,Se.getErrorMessage)(ee)} length is too small: ${J.length} < ${U.minLength}`),(0,Se.assertTruthy)(J.length<=(null!==(je=U.maxLength)&&void 0!==je?je:1/0),`${(0,Se.getErrorMessage)(ee)} length is too large ${J.length} > ${U.maxLength}`)}},1333:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.assertNonNullable=J.assertDate=J.assertEmail=J.assertHexString=J.assertUuid=J.assertBoolean=J.assertNumber=J.assertString=J.formatError=J.formatValue=void 0;const Se=ee(6373),we=ee(4665);function o(U){return void 0===U?"<undefined>":"symbol"==typeof U?U.toString():null===U?"<null>":`<${typeof U}:${U}>`}function s(U,J,ee){const we=(0,Se.getAssertionErrorFromProvider)(U);if("object"==typeof we)throw we;return`${we?`${we}: `:""}${J} ${o(ee)}`}J.formatValue=o,J.formatError=s,J.assertString=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isString)(U),(()=>s(J,"Not a string",U)))},J.assertNumber=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isNumber)(U),(()=>s(J,"Not a number",U)))},J.assertBoolean=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isBoolean)(U),(()=>s(J,"Not a boolean",U)))},J.assertUuid=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isUuid)(U),(()=>s(J,"Invalid uuid",U)))},J.assertHexString=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isHexString)(U),(()=>s(J,"Invalid hex string",U)))},J.assertEmail=(U,J=void 0)=>{(0,Se.assertTruthy)((0,we.isEmail)(U),(()=>s(J,"Invalid email",U)))},J.assertDate=(U,J=void 0)=>{(0,Se.assertTruthy)(U instanceof Date,(()=>s(J,"Invalid Date",U)))},J.assertNonNullable=function(U,J){(0,Se.assertTruthy)((0,we.isNonNullable)(U),(()=>s(J,"Value is "+(void 0===U?"undefined":"null"),U)))}},4665:(U,J)=>{function r(U){return"string"==typeof U}function n(U,J,ee){if(U===J)return!0;if(!U||!J)return!1;if(U.length!==J.length)return!1;for(let Se=0;Se<U.length;Se++)if(!ee(U[Se],J[Se]))return!1;return!0}Object.defineProperty(J,"__esModule",{value:!0}),J.isNonNullable=J.isHexString=J.isUuid=J.isEmail=J.checkArraysHasEqualElementsByComparator=J.checkArraysHaveEqualElements=J.checkArrayHasUniqueElements=J.isDate=J.isNumber=J.isString=J.isBoolean=void 0,J.isBoolean=function(U){return"boolean"==typeof U},J.isString=r,J.isNumber=function(U){return"number"==typeof U},J.isDate=function(U){return U instanceof Date},J.checkArrayHasUniqueElements=function(U,J){if(U.length<=1)return!0;const ee=new Set;for(const Se of U){const U=J(Se);if(ee.has(U))return!1;ee.add(U)}return!0},J.checkArraysHaveEqualElements=function(U,J){return n(U,J,((U,J)=>U===J))},J.checkArraysHasEqualElementsByComparator=n;const ee=/^[-!#$%&'*+/\d=?A-Z^_a-z{|}~](\.?[-!#$%&'*+/\d=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z\d])*\.[a-zA-Z](-?[a-zA-Z\d])+$/,Se=/^(?!\.)((?!.*\.{2})[a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF.!#$%&'*+-/=?^_`{|}~\-\d]+)@(?!\.)([a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF\-.\d]+)((\.([a-zA-Z\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF]){2,63})+)$/i;J.isEmail=function(U,J={allowInternationalDomains:!1}){if(!r(U)||0===U.length||U.length>254)return!1;if(!(J.allowInternationalDomains?Se:ee).test(U))return!1;const we=U.split("@");return!(we[0].length>64||we[1].split(".").some((U=>U.length>63)))};const we=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;J.isUuid=function(U){return r(U)&&we.test(U)};const Ee=/^[0-9a-fA-F]*$/;J.isHexString=function(U){return r(U)&&Ee.test(U)},J.isNonNullable=function(U){return null!=U}},8630:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.validateRecord=J.validateArray=J.validateObject=J.tryCatch=void 0;const Se=ee(6373);function i(U){try{U()}catch(U){return U instanceof Error&&U.message||`${U}`}}J.tryCatch=i,J.validateObject=function(U,J,ee=void 0,we={}){return i((()=>(0,Se.assertObject)(U,J,ee,we)))},J.validateArray=function(U,J,ee={},we=void 0){return i((()=>(0,Se.assertArray)(U,J,ee,we)))},J.validateRecord=function(U,J,ee={},we=void 0){return i((()=>(0,Se.assertRecord)(U,J,ee,we)))}},4077:function(U,J,ee){var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),we(ee(6373),J),we(ee(8596),J),we(ee(1333),J),we(ee(4665),J),we(ee(8630),J)},4123:function(U,J,ee){var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),we(ee(7243),J)},7243:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.TrieStore=void 0;const Se=ee(11),we=ee(573),Ee=ee(6022),je=ee(4908);class a extends we.Subject{constructor(){super(...arguments),this.isAllDetailsMode=!1}}J.TrieStore=class{constructor(U){this.observersTrie=new je.Trie,this.batchDepth=0,this.appliedBatchActions=[],this.stubForUnusedPaths=[],this.rootState=U,this.rootStateBeforeBatchStart=this.rootState}get state(){return this.rootState}get state$(){return this.observe([])}get(U){return this._get(this.rootState,U)}observe(U,J=[]){return this._observeChanges(U,J,"new-value-only").pipe((0,Ee.map)((U=>U.value)))}observeChanges(U,J=[]){return this._observeChanges(U,J,"all-details")}set(U,J,ee){(null==ee?void 0:ee(this.get(U),J,U))||this._apply({type:"set",path:U,value:J})}delete(U){this._apply({type:"delete",path:U})}reset(U){this.observersTrie.visitDfs("pre-order",(U=>null==U?void 0:U.complete())),this.observersTrie.delete([]),this.rootState=U}runInBatch(U){this.batchDepth++;try{U()}finally{if(this.batchDepth--,0===this.batchDepth&&this.appliedBatchActions.length>0){const U={type:"batch",actions:this.appliedBatchActions};this.appliedBatchActions=[],this._notify(U)}}}_apply(U){0===this.batchDepth&&(this.rootStateBeforeBatchStart=this.rootState),this.rootState=(0,Se.apply)(this.rootState,U),this.rootState===this.rootStateBeforeBatchStart||this.observersTrie.isEmpty||(this.batchDepth>0?this.appliedBatchActions.push(U):this._notify(U))}_notify(U){const J=(0,Se.extractPaths)(U,"unique-and-sorted"),ee=this.selectChildPathsWithObservers(J),we=(0,Se.selectUniquePaths)([...J,...ee]),Ee=new je.Trie;for(const U of we)Ee.fillPath(U,(()=>!0));Ee.visitDfs("pre-order",((J,ee)=>{const Se=this.observersTrie.get(ee);if(Se){const J=this.get(ee),we=Se.isAllDetailsMode?this._get(this.rootStateBeforeBatchStart,ee):void 0;Se.next({action:U,value:J,oldValue:we})}}))}_observeChanges(U,J=[],ee){const Ae=0===J.length?void 0:new je.Trie;for(const U of J)null==Ae||Ae.set(U,!0);return new we.Observable((J=>{const we=this.observersTrie.getOrSet(U,(()=>new a));we.isAllDetailsMode=we.isAllDetailsMode||"all-details"===ee;const je={oldValue:void 0,value:this.get(U),paths:[[]]};J.next(je);const Fe=we.pipe((0,Ee.filter)((({action:U})=>void 0===Ae||(0,Se.extractPaths)(U,"as-is").some((U=>!Ae.get(U))))),(0,Ee.map)((({action:J,value:ee,oldValue:Ee})=>{let je=this.stubForUnusedPaths;if(we.isAllDetailsMode){const ee=(0,Se.extractPaths)(J,"as-is"),we=U.length>0?ee.filter((J=>(0,Se.isPathPrefix)(J,U))).map((J=>J.slice(U.length))):ee;je=(0,Se.selectUniquePathPrefixes)(we)}return{value:ee,oldValue:Ee,paths:je}}))).subscribe(J);return()=>{Fe.unsubscribe(),we.observed||this.observersTrie.delete(U)}}))}_get(U,J){let ee=U;for(let U=0;U<J.length&&void 0!==ee;U++){const Se=J[U];ee=null==ee?void 0:ee[Se]}return ee}selectChildPathsWithObservers(U){const J=[];for(const ee of U)this.observersTrie.count(ee,"children-only")>0&&this.observersTrie.visitDfs("pre-order",((U,ee)=>{U&&J.push([...ee])}),ee);return J}}},11:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.selectUniquePaths=J.selectUniquePathPrefixes=J.sortPaths=J.isPathPrefix=J.extractPaths=J.deepCloneOnPath=J.deleteInPath=J.setInPath=J.apply=void 0;const Se=ee(5036);function i(U,J,ee){if(void 0===ee)return o(U,J);if(0===J.length)return(0,Se.assertTruthy)("object"==typeof ee&&null!==ee&&!Array.isArray(ee),(()=>`Root state must be a record. Trying to set '${ee}', type: ${typeof ee}`)),ee;function i(U){const J=Number(U);return!isNaN(J)&&J>=0&&J!==1/0}let we=U;for(let U=0;U<J.length-1&&void 0!==we;U++){const ee=J[U];(0,Se.assertTruthy)(!Array.isArray(we)||i(ee),(()=>`Invalid array index. Path: '${J.slice(0,U+1)}', index: '${ee}'`)),we=we[ee],(0,Se.assertTruthy)(void 0===we||"object"==typeof we&&null!==we,(()=>`Cannot set a property to a non-record parent. Path: '${J.slice(0,U+1)}', type: '${null===we?"<null>":typeof we}'`))}const Ee=J[J.length-1];return(0,Se.assertTruthy)(!Array.isArray(we)||i(Ee),(()=>`Invalid array index Path: '${J}`)),(null==we?void 0:we[Ee])===ee?U:s(U,J,ee)}function o(U,J){(0,Se.assertTruthy)(0!==J.length,"Can't delete an empty path");let ee=U;for(let we=0;we<J.length-1;we++){const Ee=J[we];if(ee=ee[Ee],void 0===ee)return U;(0,Se.assertTruthy)("object"==typeof ee&&null!==ee,(()=>`Cannot delete a property from a non-record parent. Path: '${J.slice(0,we+1)}', type: ${null===ee?"<null>":typeof ee}`))}const we=J[J.length-1];return void 0===ee[we]?U:s(U,J,void 0)}function s(U,J,ee){function i(U,ee){(0,Se.assertTruthy)(!Array.isArray(U),(()=>`Can't delete element of array. Path: '${J}'`)),delete U[ee]}const we=Object.assign({},U);let Ee=we;for(let U=0;U<J.length-1;U++){const we=J[U],je=Ee[we];(0,Se.assertTruthy)(void 0===je||"object"==typeof je&&null!==je,(()=>`Internal error: sub-path has an invalid type and can't be patched: '${J.slice(0,U+1)}', type: '${null===je?null:typeof je}'`));const Ae=void 0===je?void 0===ee?void 0:{}:Array.isArray(je)?[...je]:Object.assign({},je);if(void 0===Ae)return i(Ee,we),Ee;Ee[we]=Ae,Ee=Ae}const je=J[J.length-1];return void 0===ee?i(Ee,je):Ee[je]=ee,we}function a(U,J){if(U.length<J.length)return!1;for(let ee=0;ee<J.length;ee++)if(U[ee]!==J[ee])return!1;return!0}function u(U){const J=[...U];return J.sort(((U,J)=>{for(let ee=0;ee<U.length;ee++){if(ee===J.length)return 1;const Se=U[ee].localeCompare(J[ee]);if(0!==Se)return Se}return U.length-J.length})),J}function c(U){const J=u(U),ee=J;for(let U=0;U<J.length-1;U++){const Se=J[U];for(let we=U+1;we<J.length;we++){const Ee=J[we];Se.length===Ee.length&&a(Se,Ee)&&(ee[we]=void 0,U++)}}return ee.filter((U=>void 0!==U))}J.apply=function e(U,J){switch(J.type){case"set":return i(U,J.path,J.value);case"delete":return o(U,J.path);case"batch":return J.actions.reduce(((U,J)=>e(U,J)),U)}},J.setInPath=i,J.deleteInPath=o,J.deepCloneOnPath=s,J.extractPaths=function e(U,J){const ee=[];if("set"===U.type||"delete"===U.type)ee.push(U.path);else if("batch"===U.type)for(const J of U.actions)ee.push(...e(J,"as-is"));return"unique-and-sorted"===J?c(ee):ee},J.isPathPrefix=a,J.sortPaths=u,J.selectUniquePathPrefixes=function(U){if(1===U.length)return[...U];if(U.some((U=>0===U.length)))return[[]];const J=u(U),ee=J;for(let U=0;U<ee.length-1;U++){const Se=J[U];for(let we=U+1;we<J.length;we++)a(J[we],Se)&&(ee[we]=void 0,U++)}return ee.filter((U=>void 0!==U))},J.selectUniquePaths=c},4908:function(U,J,ee){var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),we(ee(7129),J)},7129:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.Trie=void 0;class r{constructor(){this.root={children:new Map,childrenWithValue:0}}get(U){var J;return null===(J=this.getNode(U))||void 0===J?void 0:J.value}getOrSet(U,J){const ee=this._buildPath(U);if(void 0!==ee.value)return ee.value;const Se=J(U);return this._setNodeValue(ee,Se,void 0===Se),Se}set(U,J){const ee=void 0===J?this._findNode(U):this._buildPath(U);ee&&this._setNodeValue(ee,J,!0)}delete(U){const J=this._findNode(U);if(void 0===J)return;if(void 0===J.parent){if(J!==this.root)throw new Error("Only root node can have no parent.");return this.root.value=void 0,this.root.children.clear(),void(this.root.childrenWithValue=0)}const ee=(void 0===J.value?0:1)+J.childrenWithValue;ee>0&&this._updateChildrenWithValue(J,-ee),J.parent.children.delete(U[U.length-1]),this._runGc(J.parent)}clear(){this.delete([])}count(U=[],J="node-and-children"){const ee=this.getNode(U);return void 0===ee?0:ee.childrenWithValue+("node-and-children"===J&&void 0!==ee.value?1:0)}get isEmpty(){return 0===this.count()}fillPath(U,J){const ee=[];let Se=this.root,we=J(Se.value,ee);if(we!==r.StopFillToken){this._setNodeValue(Se,we,!1);for(let Ee=0;Ee<U.length;Ee++){const je=U[Ee];ee.push(je);let Ae=Se.children.get(je);if(we=J(null==Ae?void 0:Ae.value,ee),we===r.StopFillToken)break;Ae||(Ae={children:new Map,parent:Se,childrenWithValue:0},Se.children.set(je,Ae)),this._setNodeValue(Ae,we,!1),Se=Ae}this._runGc(Se)}}visitDfs(U,J,ee=[]){const Se=this.getNode(ee);void 0!==Se&&this._visitDfs(U,Se,J,[...ee])}_visitDfs(U,J,ee,Se){if("pre-order"===U&&!1===ee(J.value,Se))return!1;for(const[we,Ee]of J.children){if(Se.push(we),!this._visitDfs(U,Ee,ee,Se))return!1;Se.pop()}return"in-order"!==U||!1!==ee(J.value,Se)}getNode(U){return this._getNode(U)}_getNode(U){let J=this.root;for(const ee of U)if(J=J.children.get(ee),!J)return;return J}_findNode(U){let J=this.root;for(let ee=0;ee<U.length&&J;ee++)J=J.children.get(U[ee]);return J}_buildPath(U){let J=this.root;for(let ee=0;ee<U.length;ee++){const Se=U[ee];let we=J.children.get(Se);we||(we={children:new Map,parent:J,childrenWithValue:0},J.children.set(Se,we)),J=we}return J}_setNodeValue(U,J,ee){if(U.value!==J){const ee=void 0===J?-1:void 0===U.value?1:0;U.value=J,this._updateChildrenWithValue(U,ee)}ee&&this._runGc(U)}_updateChildrenWithValue(U,J){if(0!==J)for(let ee=U.parent;ee;ee=ee.parent)if(ee.childrenWithValue+=J,ee.childrenWithValue<0)throw new Error("Internal error: negative counter value!")}_runGc(U){void 0===U.value&&(0===U.childrenWithValue&&U.children.clear(),U.parent&&this._runGc(U.parent))}}J.Trie=r,r.StopFillToken=Symbol("Trie.StopFillToken")},5366:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.AsyncSubject=void 0;var we=function(U){function t(){var J=null!==U&&U.apply(this,arguments)||this;return J._value=null,J._hasValue=!1,J._isComplete=!1,J}return Se(t,U),t.prototype._checkFinalizedStatuses=function(U){var J=this,ee=J.hasError,Se=J._hasValue,we=J._value,Ee=J.thrownError,je=J.isStopped,Ae=J._isComplete;ee?U.error(Ee):(je||Ae)&&(Se&&U.next(we),U.complete())},t.prototype.next=function(U){this.isStopped||(this._value=U,this._hasValue=!0)},t.prototype.complete=function(){var J=this,ee=J._hasValue,Se=J._value;J._isComplete||(this._isComplete=!0,ee&&U.prototype.next.call(this,Se),U.prototype.complete.call(this))},t}(ee(20).Subject);J.AsyncSubject=we},1222:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.BehaviorSubject=void 0;var we=function(U){function t(J){var ee=U.call(this)||this;return ee._value=J,ee}return Se(t,U),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(J){var ee=U.prototype._subscribe.call(this,J);return!ee.closed&&J.next(this._value),ee},t.prototype.getValue=function(){var U=this,J=U.hasError,ee=U.thrownError,Se=U._value;if(J)throw ee;return this._throwIfClosed(),Se},t.prototype.next=function(J){U.prototype.next.call(this,this._value=J)},t}(ee(20).Subject);J.BehaviorSubject=we},6145:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.observeNotification=J.Notification=J.NotificationKind=void 0;var Se,we=ee(7209),Ee=ee(8743),je=ee(6612),Ae=ee(4717);(Se=J.NotificationKind||(J.NotificationKind={})).NEXT="N",Se.ERROR="E",Se.COMPLETE="C";var Fe=function(){function e(U,J,ee){this.kind=U,this.value=J,this.error=ee,this.hasValue="N"===U}return e.prototype.observe=function(U){return c(this,U)},e.prototype.do=function(U,J,ee){var Se=this,we=Se.kind,Ee=Se.value,je=Se.error;return"N"===we?null==U?void 0:U(Ee):"E"===we?null==J?void 0:J(je):null==ee?void 0:ee()},e.prototype.accept=function(U,J,ee){var Se;return Ae.isFunction(null===(Se=U)||void 0===Se?void 0:Se.next)?this.observe(U):this.do(U,J,ee)},e.prototype.toObservable=function(){var U=this,J=U.kind,ee=U.value,Se=U.error,Ae="N"===J?Ee.of(ee):"E"===J?je.throwError((function(){return Se})):"C"===J?we.EMPTY:0;if(!Ae)throw new TypeError("Unexpected notification kind "+J);return Ae},e.createNext=function(U){return new e("N",U)},e.createError=function(U){return new e("E",void 0,U)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function c(U,J){var ee,Se,we,Ee=U,je=Ee.kind,Ae=Ee.value,Fe=Ee.error;if("string"!=typeof je)throw new TypeError('Invalid notification, missing "kind"');"N"===je?null===(ee=J.next)||void 0===ee||ee.call(J,Ae):"E"===je?null===(Se=J.error)||void 0===Se||Se.call(J,Fe):null===(we=J.complete)||void 0===we||we.call(J)}J.Notification=Fe,J.observeNotification=c},795:(U,J)=>{function r(U,J,ee){return{kind:U,value:J,error:ee}}Object.defineProperty(J,"__esModule",{value:!0}),J.createNotification=J.nextNotification=J.errorNotification=J.COMPLETE_NOTIFICATION=void 0,J.COMPLETE_NOTIFICATION=r("C",void 0,void 0),J.errorNotification=function(U){return r("E",void 0,U)},J.nextNotification=function(U){return r("N",U,void 0)},J.createNotification=r},2023:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.Observable=void 0;var Se=ee(4512),we=ee(7491),Ee=ee(2131),je=ee(2393),Ae=ee(7820),Fe=ee(4717),xe=ee(9916),Te=function(){function e(U){U&&(this._subscribe=U)}return e.prototype.lift=function(U){var J=new e;return J.source=this,J.operator=U,J},e.prototype.subscribe=function(U,J,ee){var Ee,je=this,Ae=(Ee=U)&&Ee instanceof Se.Subscriber||function(U){return U&&Fe.isFunction(U.next)&&Fe.isFunction(U.error)&&Fe.isFunction(U.complete)}(Ee)&&we.isSubscription(Ee)?U:new Se.SafeSubscriber(U,J,ee);return xe.errorContext((function(){var U=je,J=U.operator,ee=U.source;Ae.add(J?J.call(Ae,ee):ee?je._subscribe(Ae):je._trySubscribe(Ae))})),Ae},e.prototype._trySubscribe=function(U){try{return this._subscribe(U)}catch(J){U.error(J)}},e.prototype.forEach=function(U,J){var ee=this;return new(J=d(J))((function(J,we){var Ee=new Se.SafeSubscriber({next:function(J){try{U(J)}catch(U){we(U),Ee.unsubscribe()}},error:we,complete:J});ee.subscribe(Ee)}))},e.prototype._subscribe=function(U){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe(U)},e.prototype[Ee.observable]=function(){return this},e.prototype.pipe=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return je.pipeFromArray(U)(this)},e.prototype.toPromise=function(U){var J=this;return new(U=d(U))((function(U,ee){var Se;J.subscribe((function(U){return Se=U}),(function(U){return ee(U)}),(function(){return U(Se)}))}))},e.create=function(U){return new e(U)},e}();function d(U){var J;return null!==(J=null!=U?U:Ae.config.Promise)&&void 0!==J?J:Promise}J.Observable=Te},5129:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.ReplaySubject=void 0;var we=ee(20),Ee=ee(4575),je=function(U){function t(J,ee,Se){void 0===J&&(J=1/0),void 0===ee&&(ee=1/0),void 0===Se&&(Se=Ee.dateTimestampProvider);var we=U.call(this)||this;return we._bufferSize=J,we._windowTime=ee,we._timestampProvider=Se,we._buffer=[],we._infiniteTimeWindow=!0,we._infiniteTimeWindow=ee===1/0,we._bufferSize=Math.max(1,J),we._windowTime=Math.max(1,ee),we}return Se(t,U),t.prototype.next=function(J){var ee=this,Se=ee.isStopped,we=ee._buffer,Ee=ee._infiniteTimeWindow,je=ee._timestampProvider,Ae=ee._windowTime;Se||(we.push(J),!Ee&&we.push(je.now()+Ae)),this._trimBuffer(),U.prototype.next.call(this,J)},t.prototype._subscribe=function(U){this._throwIfClosed(),this._trimBuffer();for(var J=this._innerSubscribe(U),ee=this._infiniteTimeWindow,Se=this._buffer.slice(),we=0;we<Se.length&&!U.closed;we+=ee?1:2)U.next(Se[we]);return this._checkFinalizedStatuses(U),J},t.prototype._trimBuffer=function(){var U=this,J=U._bufferSize,ee=U._timestampProvider,Se=U._buffer,we=U._infiniteTimeWindow,Ee=(we?1:2)*J;if(J<1/0&&Ee<Se.length&&Se.splice(0,Se.length-Ee),!we){for(var je=ee.now(),Ae=0,Fe=1;Fe<Se.length&&Se[Fe]<=je;Fe+=2)Ae=Fe;Ae&&Se.splice(0,Ae+1)}},t}(we.Subject);J.ReplaySubject=je},469:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.Scheduler=void 0;var Se=ee(4575),we=function(){function e(U,J){void 0===J&&(J=e.now),this.schedulerActionCtor=U,this.now=J}return e.prototype.schedule=function(U,J,ee){return void 0===J&&(J=0),new this.schedulerActionCtor(this,U).schedule(ee,J)},e.now=Se.dateTimestampProvider.now,e}();J.Scheduler=we},20:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}(),we=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.AnonymousSubject=J.Subject=void 0;var Ee=ee(2023),je=ee(7491),Ae=ee(8083),Fe=ee(7394),xe=ee(9916),Te=function(U){function t(){var J=U.call(this)||this;return J.closed=!1,J.currentObservers=null,J.observers=[],J.isStopped=!1,J.hasError=!1,J.thrownError=null,J}return Se(t,U),t.prototype.lift=function(U){var J=new Ie(this,this);return J.operator=U,J},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ae.ObjectUnsubscribedError},t.prototype.next=function(U){var J=this;xe.errorContext((function(){var ee,Se;if(J._throwIfClosed(),!J.isStopped){J.currentObservers||(J.currentObservers=Array.from(J.observers));try{for(var Ee=we(J.currentObservers),je=Ee.next();!je.done;je=Ee.next())je.value.next(U)}catch(U){ee={error:U}}finally{try{je&&!je.done&&(Se=Ee.return)&&Se.call(Ee)}finally{if(ee)throw ee.error}}}}))},t.prototype.error=function(U){var J=this;xe.errorContext((function(){if(J._throwIfClosed(),!J.isStopped){J.hasError=J.isStopped=!0,J.thrownError=U;for(var ee=J.observers;ee.length;)ee.shift().error(U)}}))},t.prototype.complete=function(){var U=this;xe.errorContext((function(){if(U._throwIfClosed(),!U.isStopped){U.isStopped=!0;for(var J=U.observers;J.length;)J.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(J){return this._throwIfClosed(),U.prototype._trySubscribe.call(this,J)},t.prototype._subscribe=function(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)},t.prototype._innerSubscribe=function(U){var J=this,ee=this,Se=ee.hasError,we=ee.isStopped,Ee=ee.observers;return Se||we?je.EMPTY_SUBSCRIPTION:(this.currentObservers=null,Ee.push(U),new je.Subscription((function(){J.currentObservers=null,Fe.arrRemove(Ee,U)})))},t.prototype._checkFinalizedStatuses=function(U){var J=this,ee=J.hasError,Se=J.thrownError,we=J.isStopped;ee?U.error(Se):we&&U.complete()},t.prototype.asObservable=function(){var U=new Ee.Observable;return U.source=this,U},t.create=function(U,J){return new Ie(U,J)},t}(Ee.Observable);J.Subject=Te;var Ie=function(U){function t(J,ee){var Se=U.call(this)||this;return Se.destination=J,Se.source=ee,Se}return Se(t,U),t.prototype.next=function(U){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ee||ee.call(J,U)},t.prototype.error=function(U){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ee||ee.call(J,U)},t.prototype.complete=function(){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===J||J.call(U)},t.prototype._subscribe=function(U){var J,ee;return null!==(ee=null===(J=this.source)||void 0===J?void 0:J.subscribe(U))&&void 0!==ee?ee:je.EMPTY_SUBSCRIPTION},t}(Te);J.AnonymousSubject=Ie},4512:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.EMPTY_OBSERVER=J.SafeSubscriber=J.Subscriber=void 0;var we=ee(4717),Ee=ee(7491),je=ee(7820),Ae=ee(4696),Fe=ee(6129),xe=ee(795),Te=ee(6476),Ie=ee(9916),ke=function(U){function r(ee){var Se=U.call(this)||this;return Se.isStopped=!1,ee?(Se.destination=ee,Ee.isSubscription(ee)&&ee.add(Se)):Se.destination=J.EMPTY_OBSERVER,Se}return Se(r,U),r.create=function(U,J,ee){return new Re(U,J,ee)},r.prototype.next=function(U){this.isStopped?g(xe.nextNotification(U),this):this._next(U)},r.prototype.error=function(U){this.isStopped?g(xe.errorNotification(U),this):(this.isStopped=!0,this._error(U))},r.prototype.complete=function(){this.isStopped?g(xe.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,U.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(U){this.destination.next(U)},r.prototype._error=function(U){try{this.destination.error(U)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(Ee.Subscription);J.Subscriber=ke;var Ce=Function.prototype.bind;function p(U,J){return Ce.call(U,J)}var De=function(){function e(U){this.partialObserver=U}return e.prototype.next=function(U){var J=this.partialObserver;if(J.next)try{J.next(U)}catch(U){v(U)}},e.prototype.error=function(U){var J=this.partialObserver;if(J.error)try{J.error(U)}catch(U){v(U)}else v(U)},e.prototype.complete=function(){var U=this.partialObserver;if(U.complete)try{U.complete()}catch(U){v(U)}},e}(),Re=function(U){function t(J,ee,Se){var Ee,Ae,Fe=U.call(this)||this;return we.isFunction(J)||!J?Ee={next:null!=J?J:void 0,error:null!=ee?ee:void 0,complete:null!=Se?Se:void 0}:Fe&&je.config.useDeprecatedNextContext?((Ae=Object.create(J)).unsubscribe=function(){return Fe.unsubscribe()},Ee={next:J.next&&p(J.next,Ae),error:J.error&&p(J.error,Ae),complete:J.complete&&p(J.complete,Ae)}):Ee=J,Fe.destination=new De(Ee),Fe}return Se(t,U),t}(ke);function v(U){je.config.useDeprecatedSynchronousErrorHandling?Ie.captureError(U):Ae.reportUnhandledError(U)}function g(U,J){var ee=je.config.onStoppedNotification;ee&&Te.timeoutProvider.setTimeout((function(){return ee(U,J)}))}J.SafeSubscriber=Re,J.EMPTY_OBSERVER={closed:!0,next:Fe.noop,error:function(U){throw U},complete:Fe.noop}},7491:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")},we=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},Ee=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.isSubscription=J.EMPTY_SUBSCRIPTION=J.Subscription=void 0;var je=ee(4717),Ae=ee(665),Fe=ee(7394),xe=function(){function e(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}var U;return e.prototype.unsubscribe=function(){var U,J,ee,Fe,xe;if(!this.closed){this.closed=!0;var Te=this._parentage;if(Te)if(this._parentage=null,Array.isArray(Te))try{for(var Ie=Se(Te),ke=Ie.next();!ke.done;ke=Ie.next())ke.value.remove(this)}catch(J){U={error:J}}finally{try{ke&&!ke.done&&(J=Ie.return)&&J.call(Ie)}finally{if(U)throw U.error}}else Te.remove(this);var Ce=this.initialTeardown;if(je.isFunction(Ce))try{Ce()}catch(U){xe=U instanceof Ae.UnsubscriptionError?U.errors:[U]}var De=this._finalizers;if(De){this._finalizers=null;try{for(var Re=Se(De),Le=Re.next();!Le.done;Le=Re.next()){var qe=Le.value;try{l(qe)}catch(U){xe=null!=xe?xe:[],U instanceof Ae.UnsubscriptionError?xe=Ee(Ee([],we(xe)),we(U.errors)):xe.push(U)}}}catch(U){ee={error:U}}finally{try{Le&&!Le.done&&(Fe=Re.return)&&Fe.call(Re)}finally{if(ee)throw ee.error}}}if(xe)throw new Ae.UnsubscriptionError(xe)}},e.prototype.add=function(U){var J;if(U&&U!==this)if(this.closed)l(U);else{if(U instanceof e){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(U)}},e.prototype._hasParent=function(U){var J=this._parentage;return J===U||Array.isArray(J)&&J.includes(U)},e.prototype._addParent=function(U){var J=this._parentage;this._parentage=Array.isArray(J)?(J.push(U),J):J?[J,U]:U},e.prototype._removeParent=function(U){var J=this._parentage;J===U?this._parentage=null:Array.isArray(J)&&Fe.arrRemove(J,U)},e.prototype.remove=function(U){var J=this._finalizers;J&&Fe.arrRemove(J,U),U instanceof e&&U._removeParent(this)},e.EMPTY=((U=new e).closed=!0,U),e}();function l(U){je.isFunction(U)?U():U.unsubscribe()}J.Subscription=xe,J.EMPTY_SUBSCRIPTION=xe.EMPTY,J.isSubscription=function(U){return U instanceof xe||U&&"closed"in U&&je.isFunction(U.remove)&&je.isFunction(U.add)&&je.isFunction(U.unsubscribe)}},7820:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.config=void 0,J.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1507:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.ConnectableObservable=void 0;var we=ee(2023),Ee=ee(7491),je=ee(5884),Ae=ee(1266),Fe=ee(5416),xe=function(U){function t(J,ee){var Se=U.call(this)||this;return Se.source=J,Se.subjectFactory=ee,Se._subject=null,Se._refCount=0,Se._connection=null,Fe.hasLift(J)&&(Se.lift=J.lift),Se}return Se(t,U),t.prototype._subscribe=function(U){return this.getSubject().subscribe(U)},t.prototype.getSubject=function(){var U=this._subject;return U&&!U.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var U=this._connection;this._subject=this._connection=null,null==U||U.unsubscribe()},t.prototype.connect=function(){var U=this,J=this._connection;if(!J){J=this._connection=new Ee.Subscription;var ee=this.getSubject();J.add(this.source.subscribe(Ae.createOperatorSubscriber(ee,void 0,(function(){U._teardown(),ee.complete()}),(function(J){U._teardown(),ee.error(J)}),(function(){return U._teardown()})))),J.closed&&(this._connection=null,J=Ee.Subscription.EMPTY)}return J},t.prototype.refCount=function(){return je.refCount()(this)},t}(we.Observable);J.ConnectableObservable=xe},994:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatestInit=J.combineLatest=void 0;var Se=ee(2023),we=ee(3787),Ee=ee(5294),je=ee(9391),Ae=ee(8240),Fe=ee(1824),xe=ee(4950),Te=ee(1266),Ie=ee(5031);function h(U,J,ee){return void 0===ee&&(ee=je.identity),function(Se){f(J,(function(){for(var we=U.length,je=new Array(we),Ae=we,Fe=we,c=function(we){f(J,(function(){var xe=Ee.from(U[we],J),Ie=!1;xe.subscribe(Te.createOperatorSubscriber(Se,(function(U){je[we]=U,Ie||(Ie=!0,Fe--),Fe||Se.next(ee(je.slice()))}),(function(){--Ae||Se.complete()})))}),Se)},xe=0;xe<we;xe++)c(xe)}),Se)}}function f(U,J,ee){U?Ie.executeSchedule(ee,U,J):J()}J.combineLatest=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Fe.popScheduler(U),Te=Fe.popResultSelector(U),Ie=we.argsArgArrayOrObject(U),ke=Ie.args,Ce=Ie.keys;if(0===ke.length)return Ee.from([],ee);var De=new Se.Observable(h(ke,ee,Ce?function(U){return xe.createObject(Ce,U)}:je.identity));return Te?De.pipe(Ae.mapOneOrManyArgs(Te)):De},J.combineLatestInit=h},2070:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.concat=void 0;var Se=ee(861),we=ee(1824),Ee=ee(5294);J.concat=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Se.concatAll()(Ee.from(U,we.popScheduler(U)))}},7209:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.empty=J.EMPTY=void 0;var Se=ee(2023);J.EMPTY=new Se.Observable((function(U){return U.complete()})),J.empty=function(U){return U?function(U){return new Se.Observable((function(J){return U.schedule((function(){return J.complete()}))}))}(U):J.EMPTY}},5294:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.from=void 0;var Se=ee(4463),we=ee(2296);J.from=function(U,J){return J?Se.scheduled(U,J):we.innerFrom(U)}},3123:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.fromSubscribable=void 0;var Se=ee(2023);J.fromSubscribable=function(U){return new Se.Observable((function(J){return U.subscribe(J)}))}},2296:function(U,J,ee){var Se=this&&this.__awaiter||function(U,J,ee,Se){return new(ee||(ee=Promise))((function(we,Ee){function s(U){try{u(Se.next(U))}catch(U){Ee(U)}}function a(U){try{u(Se.throw(U))}catch(U){Ee(U)}}function u(U){var J;U.done?we(U.value):(J=U.value,J instanceof ee?J:new ee((function(U){U(J)}))).then(s,a)}u((Se=Se.apply(U,J||[])).next())}))},we=this&&this.__generator||function(U,J){var ee,Se,we,Ee,je={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return Ee={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function a(Ee){return function(Ae){return function(Ee){if(ee)throw new TypeError("Generator is already executing.");for(;je;)try{if(ee=1,Se&&(we=2&Ee[0]?Se.return:Ee[0]?Se.throw||((we=Se.return)&&we.call(Se),0):Se.next)&&!(we=we.call(Se,Ee[1])).done)return we;switch(Se=0,we&&(Ee=[2&Ee[0],we.value]),Ee[0]){case 0:case 1:we=Ee;break;case 4:return je.label++,{value:Ee[1],done:!1};case 5:je.label++,Se=Ee[1],Ee=[0];continue;case 7:Ee=je.ops.pop(),je.trys.pop();continue;default:if(!((we=(we=je.trys).length>0&&we[we.length-1])||6!==Ee[0]&&2!==Ee[0])){je=0;continue}if(3===Ee[0]&&(!we||Ee[1]>we[0]&&Ee[1]<we[3])){je.label=Ee[1];break}if(6===Ee[0]&&je.label<we[1]){je.label=we[1],we=Ee;break}if(we&&je.label<we[2]){je.label=we[2],je.ops.push(Ee);break}we[2]&&je.ops.pop(),je.trys.pop();continue}Ee=J.call(U,je)}catch(U){Ee=[6,U],Se=0}finally{ee=we=0}if(5&Ee[0])throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}([Ee,Ae])}}},Ee=this&&this.__asyncValues||function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,ee=U[Symbol.asyncIterator];return ee?ee.call(U):(U="function"==typeof je?je(U):U[Symbol.iterator](),J={},n("next"),n("throw"),n("return"),J[Symbol.asyncIterator]=function(){return this},J);function n(ee){J[ee]=U[ee]&&function(J){return new Promise((function(Se,we){!function(U,J,ee,Se){Promise.resolve(Se).then((function(J){U({value:J,done:ee})}),J)}(Se,we,(J=U[ee](J)).done,J.value)}))}}},je=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.fromReadableStreamLike=J.fromAsyncIterable=J.fromIterable=J.fromPromise=J.fromArrayLike=J.fromInteropObservable=J.innerFrom=void 0;var Ae=ee(5547),Fe=ee(452),xe=ee(2023),Te=ee(1801),Ie=ee(9451),ke=ee(3533),Ce=ee(6847),De=ee(3026),Re=ee(4717),Le=ee(4696),qe=ee(2131);function g(U){return new xe.Observable((function(J){var ee=U[qe.observable]();if(Re.isFunction(ee.subscribe))return ee.subscribe(J);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function m(U){return new xe.Observable((function(J){for(var ee=0;ee<U.length&&!J.closed;ee++)J.next(U[ee]);J.complete()}))}function _(U){return new xe.Observable((function(J){U.then((function(U){J.closed||(J.next(U),J.complete())}),(function(U){return J.error(U)})).then(null,Le.reportUnhandledError)}))}function O(U){return new xe.Observable((function(J){var ee,Se;try{for(var we=je(U),Ee=we.next();!Ee.done;Ee=we.next()){var Ae=Ee.value;if(J.next(Ae),J.closed)return}}catch(U){ee={error:U}}finally{try{Ee&&!Ee.done&&(Se=we.return)&&Se.call(we)}finally{if(ee)throw ee.error}}J.complete()}))}function S(U){return new xe.Observable((function(J){(function(U,J){var ee,je,Ae,Fe;return Se(this,void 0,void 0,(function(){var Se,xe;return we(this,(function(we){switch(we.label){case 0:we.trys.push([0,5,6,11]),ee=Ee(U),we.label=1;case 1:return[4,ee.next()];case 2:if((je=we.sent()).done)return[3,4];if(Se=je.value,J.next(Se),J.closed)return[2];we.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return xe=we.sent(),Ae={error:xe},[3,11];case 6:return we.trys.push([6,,9,10]),je&&!je.done&&(Fe=ee.return)?[4,Fe.call(ee)]:[3,8];case 7:we.sent(),we.label=8;case 8:return[3,10];case 9:if(Ae)throw Ae.error;return[7];case 10:return[7];case 11:return J.complete(),[2]}}))}))})(U,J).catch((function(U){return J.error(U)}))}))}function w(U){return S(De.readableStreamLikeToAsyncGenerator(U))}J.innerFrom=function(U){if(U instanceof xe.Observable)return U;if(null!=U){if(Te.isInteropObservable(U))return g(U);if(Ae.isArrayLike(U))return m(U);if(Fe.isPromise(U))return _(U);if(Ie.isAsyncIterable(U))return S(U);if(Ce.isIterable(U))return O(U);if(De.isReadableStreamLike(U))return w(U)}throw ke.createInvalidObservableTypeError(U)},J.fromInteropObservable=g,J.fromArrayLike=m,J.fromPromise=_,J.fromIterable=O,J.fromAsyncIterable=S,J.fromReadableStreamLike=w},8767:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.interval=void 0;var Se=ee(4386),we=ee(5461);J.interval=function(U,J){return void 0===U&&(U=0),void 0===J&&(J=Se.asyncScheduler),U<0&&(U=0),we.timer(U,U,J)}},8743:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.of=void 0;var Se=ee(1824),we=ee(5294);J.of=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Se.popScheduler(U);return we.from(U,ee)}},6467:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.onErrorResumeNext=void 0;var Se=ee(2023),we=ee(160),Ee=ee(1266),je=ee(6129),Ae=ee(2296);J.onErrorResumeNext=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=we.argsOrArgArray(U);return new Se.Observable((function(U){var J=0,n=function(){if(J<ee.length){var Se=void 0;try{Se=Ae.innerFrom(ee[J++])}catch(U){return void n()}var we=new Ee.OperatorSubscriber(U,void 0,je.noop,je.noop);Se.subscribe(we),we.add(n)}else U.complete()};n()}))}},4143:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.raceInit=J.race=void 0;var Se=ee(2023),we=ee(2296),Ee=ee(160),je=ee(1266);function a(U){return function(J){for(var ee=[],n=function(Se){ee.push(we.innerFrom(U[Se]).subscribe(je.createOperatorSubscriber(J,(function(U){if(ee){for(var we=0;we<ee.length;we++)we!==Se&&ee[we].unsubscribe();ee=null}J.next(U)}))))},Se=0;ee&&!J.closed&&Se<U.length;Se++)n(Se)}}J.race=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return 1===(U=Ee.argsOrArgArray(U)).length?we.innerFrom(U[0]):new Se.Observable(a(U))},J.raceInit=a},6612:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.throwError=void 0;var Se=ee(2023),we=ee(4717);J.throwError=function(U,J){var ee=we.isFunction(U)?U:function(){return U},o=function(U){return U.error(ee())};return new Se.Observable(J?function(U){return J.schedule(o,0,U)}:o)}},5461:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.timer=void 0;var Se=ee(2023),we=ee(4386),Ee=ee(4568),je=ee(6349);J.timer=function(U,J,ee){void 0===U&&(U=0),void 0===ee&&(ee=we.async);var Ae=-1;return null!=J&&(Ee.isScheduler(J)?ee=J:Ae=J),new Se.Observable((function(J){var Se=je.isValidDate(U)?+U-ee.now():U;Se<0&&(Se=0);var we=0;return ee.schedule((function(){J.closed||(J.next(we++),0<=Ae?this.schedule(void 0,Ae):J.complete())}),Se)}))}},1763:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.zip=void 0;var Ee=ee(2023),je=ee(2296),Ae=ee(160),Fe=ee(7209),xe=ee(1266),Te=ee(1824);J.zip=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Te.popResultSelector(U),Ie=Ae.argsOrArgArray(U);return Ie.length?new Ee.Observable((function(U){var J=Ie.map((function(){return[]})),Ee=Ie.map((function(){return!1}));U.add((function(){J=Ee=null}));for(var a=function(Ae){je.innerFrom(Ie[Ae]).subscribe(xe.createOperatorSubscriber(U,(function(je){if(J[Ae].push(je),J.every((function(U){return U.length}))){var Fe=J.map((function(U){return U.shift()}));U.next(ee?ee.apply(void 0,we([],Se(Fe))):Fe),J.some((function(U,J){return!U.length&&Ee[J]}))&&U.complete()}}),(function(){Ee[Ae]=!0,!J[Ae].length&&U.complete()})))},Ae=0;!U.closed&&Ae<Ie.length;Ae++)a(Ae);return function(){J=Ee=null}})):Fe.EMPTY}},1266:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.OperatorSubscriber=J.createOperatorSubscriber=void 0;var we=ee(4512);J.createOperatorSubscriber=function(U,J,ee,Se,we){return new Ee(U,J,ee,Se,we)};var Ee=function(U){function t(J,ee,Se,we,Ee,je){var Ae=U.call(this,J)||this;return Ae.onFinalize=Ee,Ae.shouldUnsubscribe=je,Ae._next=ee?function(U){try{ee(U)}catch(U){J.error(U)}}:U.prototype._next,Ae._error=we?function(U){try{we(U)}catch(U){J.error(U)}finally{this.unsubscribe()}}:U.prototype._error,Ae._complete=Se?function(){try{Se()}catch(U){J.error(U)}finally{this.unsubscribe()}}:U.prototype._complete,Ae}return Se(t,U),t.prototype.unsubscribe=function(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ee=this.closed;U.prototype.unsubscribe.call(this),!ee&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}},t}(we.Subscriber);J.OperatorSubscriber=Ee},6993:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.audit=void 0;var Se=ee(5416),we=ee(2296),Ee=ee(1266);J.audit=function(U){return Se.operate((function(J,ee){var Se=!1,je=null,Ae=null,Fe=!1,c=function(){if(null==Ae||Ae.unsubscribe(),Ae=null,Se){Se=!1;var U=je;je=null,ee.next(U)}Fe&&ee.complete()},l=function(){Ae=null,Fe&&ee.complete()};J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){Se=!0,je=J,Ae||we.innerFrom(U(J)).subscribe(Ae=Ee.createOperatorSubscriber(ee,c,l))}),(function(){Fe=!0,(!Se||!Ae||Ae.closed)&&ee.complete()})))}))}},4116:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.auditTime=void 0;var Se=ee(4386),we=ee(6993),Ee=ee(5461);J.auditTime=function(U,J){return void 0===J&&(J=Se.asyncScheduler),we.audit((function(){return Ee.timer(U,J)}))}},7190:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.buffer=void 0;var Se=ee(5416),we=ee(6129),Ee=ee(1266),je=ee(2296);J.buffer=function(U){return Se.operate((function(J,ee){var Se=[];return J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return Se.push(U)}),(function(){ee.next(Se),ee.complete()}))),je.innerFrom(U).subscribe(Ee.createOperatorSubscriber(ee,(function(){var U=Se;Se=[],ee.next(U)}),we.noop)),function(){Se=null}}))}},6835:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.bufferCount=void 0;var we=ee(5416),Ee=ee(1266),je=ee(7394);J.bufferCount=function(U,J){return void 0===J&&(J=null),J=null!=J?J:U,we.operate((function(ee,we){var Ae=[],Fe=0;ee.subscribe(Ee.createOperatorSubscriber(we,(function(ee){var Ee,xe,Te,Ie,ke=null;Fe++%J==0&&Ae.push([]);try{for(var Ce=Se(Ae),De=Ce.next();!De.done;De=Ce.next())(qe=De.value).push(ee),U<=qe.length&&(ke=null!=ke?ke:[]).push(qe)}catch(U){Ee={error:U}}finally{try{De&&!De.done&&(xe=Ce.return)&&xe.call(Ce)}finally{if(Ee)throw Ee.error}}if(ke)try{for(var Re=Se(ke),Le=Re.next();!Le.done;Le=Re.next()){var qe=Le.value;je.arrRemove(Ae,qe),we.next(qe)}}catch(U){Te={error:U}}finally{try{Le&&!Le.done&&(Ie=Re.return)&&Ie.call(Re)}finally{if(Te)throw Te.error}}}),(function(){var U,J;try{for(var ee=Se(Ae),Ee=ee.next();!Ee.done;Ee=ee.next()){var je=Ee.value;we.next(je)}}catch(J){U={error:J}}finally{try{Ee&&!Ee.done&&(J=ee.return)&&J.call(ee)}finally{if(U)throw U.error}}we.complete()}),void 0,(function(){Ae=null})))}))}},5219:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.bufferTime=void 0;var we=ee(7491),Ee=ee(5416),je=ee(1266),Ae=ee(7394),Fe=ee(4386),xe=ee(1824),Te=ee(5031);J.bufferTime=function(U){for(var J,ee,Ie=[],ke=1;ke<arguments.length;ke++)Ie[ke-1]=arguments[ke];var Ce=null!==(J=xe.popScheduler(Ie))&&void 0!==J?J:Fe.asyncScheduler,De=null!==(ee=Ie[0])&&void 0!==ee?ee:null,Re=Ie[1]||1/0;return Ee.operate((function(J,ee){var Ee=[],Fe=!1,c=function(U){var J=U.buffer;U.subs.unsubscribe(),Ae.arrRemove(Ee,U),ee.next(J),Fe&&d()},d=function(){if(Ee){var J=new we.Subscription;ee.add(J);var Se={buffer:[],subs:J};Ee.push(Se),Te.executeSchedule(J,Ce,(function(){return c(Se)}),U)}};null!==De&&De>=0?Te.executeSchedule(ee,Ce,d,De,!0):Fe=!0,d();var xe=je.createOperatorSubscriber(ee,(function(U){var J,ee,we=Ee.slice();try{for(var je=Se(we),Ae=je.next();!Ae.done;Ae=je.next()){var Fe=Ae.value,xe=Fe.buffer;xe.push(U),Re<=xe.length&&c(Fe)}}catch(U){J={error:U}}finally{try{Ae&&!Ae.done&&(ee=je.return)&&ee.call(je)}finally{if(J)throw J.error}}}),(function(){for(;null==Ee?void 0:Ee.length;)ee.next(Ee.shift().buffer);null==xe||xe.unsubscribe(),ee.complete(),ee.unsubscribe()}),void 0,(function(){return Ee=null}));J.subscribe(xe)}))}},118:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.bufferToggle=void 0;var we=ee(7491),Ee=ee(5416),je=ee(2296),Ae=ee(1266),Fe=ee(6129),xe=ee(7394);J.bufferToggle=function(U,J){return Ee.operate((function(ee,Ee){var Te=[];je.innerFrom(U).subscribe(Ae.createOperatorSubscriber(Ee,(function(U){var ee=[];Te.push(ee);var Se=new we.Subscription;Se.add(je.innerFrom(J(U)).subscribe(Ae.createOperatorSubscriber(Ee,(function(){xe.arrRemove(Te,ee),Ee.next(ee),Se.unsubscribe()}),Fe.noop)))}),Fe.noop)),ee.subscribe(Ae.createOperatorSubscriber(Ee,(function(U){var J,ee;try{for(var we=Se(Te),Ee=we.next();!Ee.done;Ee=we.next())Ee.value.push(U)}catch(U){J={error:U}}finally{try{Ee&&!Ee.done&&(ee=we.return)&&ee.call(we)}finally{if(J)throw J.error}}}),(function(){for(;Te.length>0;)Ee.next(Te.shift());Ee.complete()})))}))}},7514:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.bufferWhen=void 0;var Se=ee(5416),we=ee(6129),Ee=ee(1266),je=ee(2296);J.bufferWhen=function(U){return Se.operate((function(J,ee){var Se=null,Ae=null,u=function(){null==Ae||Ae.unsubscribe();var J=Se;Se=[],J&&ee.next(J),je.innerFrom(U()).subscribe(Ae=Ee.createOperatorSubscriber(ee,u,we.noop))};u(),J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return null==Se?void 0:Se.push(U)}),(function(){Se&&ee.next(Se),ee.complete()}),void 0,(function(){return Se=Ae=null})))}))}},8251:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.catchError=void 0;var Se=ee(2296),we=ee(1266),Ee=ee(5416);J.catchError=function e(U){return Ee.operate((function(J,ee){var Ee,je=null,Ae=!1;je=J.subscribe(we.createOperatorSubscriber(ee,void 0,void 0,(function(we){Ee=Se.innerFrom(U(we,e(U)(J))),je?(je.unsubscribe(),je=null,Ee.subscribe(ee)):Ae=!0}))),Ae&&(je.unsubscribe(),je=null,Ee.subscribe(ee))}))}},1424:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.combineAll=void 0;var Se=ee(2945);J.combineAll=Se.combineLatestAll},2e3:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatest=void 0;var Ee=ee(994),je=ee(5416),Ae=ee(160),Fe=ee(8240),xe=ee(2393),Te=ee(1824);J.combineLatest=function e(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Te.popResultSelector(U);return ee?xe.pipe(e.apply(void 0,we([],Se(U))),Fe.mapOneOrManyArgs(ee)):je.operate((function(J,ee){Ee.combineLatestInit(we([J],Se(Ae.argsOrArgArray(U))))(ee)}))}},2945:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatestAll=void 0;var Se=ee(994),we=ee(587);J.combineLatestAll=function(U){return we.joinAllInternals(Se.combineLatest,U)}},3928:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatestWith=void 0;var Ee=ee(2e3);J.combineLatestWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.combineLatest.apply(void 0,we([],Se(U)))}},1812:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.concat=void 0;var Ee=ee(5416),je=ee(861),Ae=ee(1824),Fe=ee(5294);J.concat=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Ae.popScheduler(U);return Ee.operate((function(J,Ee){je.concatAll()(Fe.from(we([J],Se(U)),ee)).subscribe(Ee)}))}},861:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.concatAll=void 0;var Se=ee(1867);J.concatAll=function(){return Se.mergeAll(1)}},1012:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.concatMap=void 0;var Se=ee(1282),we=ee(4717);J.concatMap=function(U,J){return we.isFunction(J)?Se.mergeMap(U,J,1):Se.mergeMap(U,1)}},1157:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.concatMapTo=void 0;var Se=ee(1012),we=ee(4717);J.concatMapTo=function(U,J){return we.isFunction(J)?Se.concatMap((function(){return U}),J):Se.concatMap((function(){return U}))}},3692:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.concatWith=void 0;var Ee=ee(1812);J.concatWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.concat.apply(void 0,we([],Se(U)))}},2216:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.connect=void 0;var Se=ee(20),we=ee(2296),Ee=ee(5416),je=ee(3123),Ae={connector:function(){return new Se.Subject}};J.connect=function(U,J){void 0===J&&(J=Ae);var ee=J.connector;return Ee.operate((function(J,Se){var Ee=ee();we.innerFrom(U(je.fromSubscribable(Ee))).subscribe(Se),Se.add(J.subscribe(Ee))}))}},8041:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.count=void 0;var Se=ee(3818);J.count=function(U){return Se.reduce((function(J,ee,Se){return!U||U(ee,Se)?J+1:J}),0)}},2747:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.debounce=void 0;var Se=ee(5416),we=ee(6129),Ee=ee(1266),je=ee(2296);J.debounce=function(U){return Se.operate((function(J,ee){var Se=!1,Ae=null,Fe=null,c=function(){if(null==Fe||Fe.unsubscribe(),Fe=null,Se){Se=!1;var U=Ae;Ae=null,ee.next(U)}};J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){null==Fe||Fe.unsubscribe(),Se=!0,Ae=J,Fe=Ee.createOperatorSubscriber(ee,c,we.noop),je.innerFrom(U(J)).subscribe(Fe)}),(function(){c(),ee.complete()}),void 0,(function(){Ae=Fe=null})))}))}},3870:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.debounceTime=void 0;var Se=ee(4386),we=ee(5416),Ee=ee(1266);J.debounceTime=function(U,J){return void 0===J&&(J=Se.asyncScheduler),we.operate((function(ee,Se){var we=null,je=null,Ae=null,u=function(){if(we){we.unsubscribe(),we=null;var U=je;je=null,Se.next(U)}};function c(){var ee=Ae+U,Ee=J.now();if(Ee<ee)return we=this.schedule(void 0,ee-Ee),void Se.add(we);u()}ee.subscribe(Ee.createOperatorSubscriber(Se,(function(ee){je=ee,Ae=J.now(),we||(we=J.schedule(c,U),Se.add(we))}),(function(){u(),Se.complete()}),void 0,(function(){je=we=null})))}))}},7507:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.defaultIfEmpty=void 0;var Se=ee(5416),we=ee(1266);J.defaultIfEmpty=function(U){return Se.operate((function(J,ee){var Se=!1;J.subscribe(we.createOperatorSubscriber(ee,(function(U){Se=!0,ee.next(U)}),(function(){Se||ee.next(U),ee.complete()})))}))}},2409:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.delay=void 0;var Se=ee(4386),we=ee(5137),Ee=ee(5461);J.delay=function(U,J){void 0===J&&(J=Se.asyncScheduler);var ee=Ee.timer(U,J);return we.delayWhen((function(){return ee}))}},5137:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.delayWhen=void 0;var Se=ee(2070),we=ee(6803),Ee=ee(2507),je=ee(1357),Ae=ee(1282),Fe=ee(2296);J.delayWhen=function e(U,J){return J?function(ee){return Se.concat(J.pipe(we.take(1),Ee.ignoreElements()),ee.pipe(e(U)))}:Ae.mergeMap((function(J,ee){return Fe.innerFrom(U(J,ee)).pipe(we.take(1),je.mapTo(J))}))}},4126:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.dematerialize=void 0;var Se=ee(6145),we=ee(5416),Ee=ee(1266);J.dematerialize=function(){return we.operate((function(U,J){U.subscribe(Ee.createOperatorSubscriber(J,(function(U){return Se.observeNotification(U,J)})))}))}},5208:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.distinct=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(6129),je=ee(2296);J.distinct=function(U,J){return Se.operate((function(ee,Se){var Ae=new Set;ee.subscribe(we.createOperatorSubscriber(Se,(function(J){var ee=U?U(J):J;Ae.has(ee)||(Ae.add(ee),Se.next(J))}))),J&&je.innerFrom(J).subscribe(we.createOperatorSubscriber(Se,(function(){return Ae.clear()}),Ee.noop))}))}},9939:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.distinctUntilChanged=void 0;var Se=ee(9391),we=ee(5416),Ee=ee(1266);function s(U,J){return U===J}J.distinctUntilChanged=function(U,J){return void 0===J&&(J=Se.identity),U=null!=U?U:s,we.operate((function(ee,Se){var we,je=!0;ee.subscribe(Ee.createOperatorSubscriber(Se,(function(ee){var Ee=J(ee);!je&&U(we,Ee)||(je=!1,we=Ee,Se.next(ee))})))}))}},183:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.distinctUntilKeyChanged=void 0;var Se=ee(9939);J.distinctUntilKeyChanged=function(U,J){return Se.distinctUntilChanged((function(ee,Se){return J?J(ee[U],Se[U]):ee[U]===Se[U]}))}},1195:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.elementAt=void 0;var Se=ee(9148),we=ee(2914),Ee=ee(5956),je=ee(7507),Ae=ee(6803);J.elementAt=function(U,J){if(U<0)throw new Se.ArgumentOutOfRangeError;var ee=arguments.length>=2;return function(Fe){return Fe.pipe(we.filter((function(J,ee){return ee===U})),Ae.take(1),ee?je.defaultIfEmpty(J):Ee.throwIfEmpty((function(){return new Se.ArgumentOutOfRangeError})))}}},3723:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.endWith=void 0;var Ee=ee(2070),je=ee(8743);J.endWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return function(J){return Ee.concat(J,je.of.apply(void 0,we([],Se(U))))}}},1909:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.every=void 0;var Se=ee(5416),we=ee(1266);J.every=function(U,J){return Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(we){U.call(J,we,Ee++,ee)||(Se.next(!1),Se.complete())}),(function(){Se.next(!0),Se.complete()})))}))}},9228:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.exhaust=void 0;var Se=ee(9765);J.exhaust=Se.exhaustAll},9765:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.exhaustAll=void 0;var Se=ee(8748),we=ee(9391);J.exhaustAll=function(){return Se.exhaustMap(we.identity)}},8748:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.exhaustMap=void 0;var Se=ee(4828),we=ee(2296),Ee=ee(5416),je=ee(1266);J.exhaustMap=function e(U,J){return J?function(ee){return ee.pipe(e((function(ee,Ee){return we.innerFrom(U(ee,Ee)).pipe(Se.map((function(U,Se){return J(ee,U,Ee,Se)})))})))}:Ee.operate((function(J,ee){var Se=0,Ee=null,Ae=!1;J.subscribe(je.createOperatorSubscriber(ee,(function(J){Ee||(Ee=je.createOperatorSubscriber(ee,void 0,(function(){Ee=null,Ae&&ee.complete()})),we.innerFrom(U(J,Se++)).subscribe(Ee))}),(function(){Ae=!0,!Ee&&ee.complete()})))}))}},8324:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.expand=void 0;var Se=ee(5416),we=ee(3754);J.expand=function(U,J,ee){return void 0===J&&(J=1/0),J=(J||0)<1?1/0:J,Se.operate((function(Se,Ee){return we.mergeInternals(Se,Ee,U,J,void 0,!0,ee)}))}},2914:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.filter=void 0;var Se=ee(5416),we=ee(1266);J.filter=function(U,J){return Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(ee){return U.call(J,ee,Ee++)&&Se.next(ee)})))}))}},9822:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.finalize=void 0;var Se=ee(5416);J.finalize=function(U){return Se.operate((function(J,ee){try{J.subscribe(ee)}finally{ee.add(U)}}))}},2819:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.createFind=J.find=void 0;var Se=ee(5416),we=ee(1266);function o(U,J,ee){var Se="index"===ee;return function(ee,Ee){var je=0;ee.subscribe(we.createOperatorSubscriber(Ee,(function(we){var Ae=je++;U.call(J,we,Ae,ee)&&(Ee.next(Se?Ae:we),Ee.complete())}),(function(){Ee.next(Se?-1:void 0),Ee.complete()})))}}J.find=function(U,J){return Se.operate(o(U,J,"value"))},J.createFind=o},3367:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.findIndex=void 0;var Se=ee(5416),we=ee(2819);J.findIndex=function(U,J){return Se.operate(we.createFind(U,J,"index"))}},1432:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.first=void 0;var Se=ee(7676),we=ee(2914),Ee=ee(6803),je=ee(7507),Ae=ee(5956),Fe=ee(9391);J.first=function(U,J){var ee=arguments.length>=2;return function(xe){return xe.pipe(U?we.filter((function(J,ee){return U(J,ee,xe)})):Fe.identity,Ee.take(1),ee?je.defaultIfEmpty(J):Ae.throwIfEmpty((function(){return new Se.EmptyError})))}}},6977:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.flatMap=void 0;var Se=ee(1282);J.flatMap=Se.mergeMap},4956:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.groupBy=void 0;var Se=ee(2023),we=ee(2296),Ee=ee(20),je=ee(5416),Ae=ee(1266);J.groupBy=function(U,J,ee,Fe){return je.operate((function(je,xe){var Te;J&&"function"!=typeof J?(ee=J.duration,Te=J.element,Fe=J.connector):Te=J;var Ie=new Map,h=function(U){Ie.forEach(U),U(xe)},f=function(U){return h((function(J){return J.error(U)}))},ke=0,Ce=!1,De=new Ae.OperatorSubscriber(xe,(function(J){try{var je=U(J),Re=Ie.get(je);if(!Re){Ie.set(je,Re=Fe?Fe():new Ee.Subject);var Le=($e=je,ht=Re,(_t=new Se.Observable((function(U){ke++;var J=ht.subscribe(U);return function(){J.unsubscribe(),0==--ke&&Ce&&De.unsubscribe()}}))).key=$e,_t);if(xe.next(Le),ee){var qe=Ae.createOperatorSubscriber(Re,(function(){Re.complete(),null==qe||qe.unsubscribe()}),void 0,void 0,(function(){return Ie.delete(je)}));De.add(we.innerFrom(ee(Le)).subscribe(qe))}}Re.next(Te?Te(J):J)}catch(U){f(U)}var $e,ht,_t}),(function(){return h((function(U){return U.complete()}))}),f,(function(){return Ie.clear()}),(function(){return Ce=!0,0===ke}));je.subscribe(De)}))}},2507:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.ignoreElements=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(6129);J.ignoreElements=function(){return Se.operate((function(U,J){U.subscribe(we.createOperatorSubscriber(J,Ee.noop))}))}},6095:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isEmpty=void 0;var Se=ee(5416),we=ee(1266);J.isEmpty=function(){return Se.operate((function(U,J){U.subscribe(we.createOperatorSubscriber(J,(function(){J.next(!1),J.complete()}),(function(){J.next(!0),J.complete()})))}))}},587:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.joinAllInternals=void 0;var Se=ee(9391),we=ee(8240),Ee=ee(2393),je=ee(1282),Ae=ee(2984);J.joinAllInternals=function(U,J){return Ee.pipe(Ae.toArray(),je.mergeMap((function(J){return U(J)})),J?we.mapOneOrManyArgs(J):Se.identity)}},3484:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.last=void 0;var Se=ee(7676),we=ee(2914),Ee=ee(787),je=ee(5956),Ae=ee(7507),Fe=ee(9391);J.last=function(U,J){var ee=arguments.length>=2;return function(xe){return xe.pipe(U?we.filter((function(J,ee){return U(J,ee,xe)})):Fe.identity,Ee.takeLast(1),ee?Ae.defaultIfEmpty(J):je.throwIfEmpty((function(){return new Se.EmptyError})))}}},4828:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.map=void 0;var Se=ee(5416),we=ee(1266);J.map=function(U,J){return Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(ee){Se.next(U.call(J,ee,Ee++))})))}))}},1357:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mapTo=void 0;var Se=ee(4828);J.mapTo=function(U){return Se.map((function(){return U}))}},7967:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.materialize=void 0;var Se=ee(6145),we=ee(5416),Ee=ee(1266);J.materialize=function(){return we.operate((function(U,J){U.subscribe(Ee.createOperatorSubscriber(J,(function(U){J.next(Se.Notification.createNext(U))}),(function(){J.next(Se.Notification.createComplete()),J.complete()}),(function(U){J.next(Se.Notification.createError(U)),J.complete()})))}))}},4388:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.max=void 0;var Se=ee(3818),we=ee(4717);J.max=function(U){return Se.reduce(we.isFunction(U)?function(J,ee){return U(J,ee)>0?J:ee}:function(U,J){return U>J?U:J})}},1550:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.merge=void 0;var Ee=ee(5416),je=ee(160),Ae=ee(1867),Fe=ee(1824),xe=ee(5294);J.merge=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Fe.popScheduler(U),Te=Fe.popNumber(U,1/0);return U=je.argsOrArgArray(U),Ee.operate((function(J,Ee){Ae.mergeAll(Te)(xe.from(we([J],Se(U)),ee)).subscribe(Ee)}))}},1867:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mergeAll=void 0;var Se=ee(1282),we=ee(9391);J.mergeAll=function(U){return void 0===U&&(U=1/0),Se.mergeMap(we.identity,U)}},3754:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mergeInternals=void 0;var Se=ee(2296),we=ee(5031),Ee=ee(1266);J.mergeInternals=function(U,J,ee,je,Ae,Fe,xe,Te){var Ie=[],ke=0,Ce=0,De=!1,b=function(){!De||Ie.length||ke||J.complete()},y=function(U){return ke<je?v(U):Ie.push(U)},v=function(U){Fe&&J.next(U),ke++;var Te=!1;Se.innerFrom(ee(U,Ce++)).subscribe(Ee.createOperatorSubscriber(J,(function(U){null==Ae||Ae(U),Fe?y(U):J.next(U)}),(function(){Te=!0}),void 0,(function(){if(Te)try{ke--;for(var e=function(){var U=Ie.shift();xe?we.executeSchedule(J,xe,(function(){return v(U)})):v(U)};Ie.length&&ke<je;)e();b()}catch(e){J.error(e)}})))};return U.subscribe(Ee.createOperatorSubscriber(J,y,(function(){De=!0,b()}))),function(){null==Te||Te()}}},1282:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mergeMap=void 0;var Se=ee(4828),we=ee(2296),Ee=ee(5416),je=ee(3754),Ae=ee(4717);J.mergeMap=function e(U,J,ee){return void 0===ee&&(ee=1/0),Ae.isFunction(J)?e((function(ee,Ee){return Se.map((function(U,Se){return J(ee,U,Ee,Se)}))(we.innerFrom(U(ee,Ee)))}),ee):("number"==typeof J&&(ee=J),Ee.operate((function(J,Se){return je.mergeInternals(J,Se,U,ee)})))}},6295:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mergeMapTo=void 0;var Se=ee(1282),we=ee(4717);J.mergeMapTo=function(U,J,ee){return void 0===ee&&(ee=1/0),we.isFunction(J)?Se.mergeMap((function(){return U}),J,ee):("number"==typeof J&&(ee=J),Se.mergeMap((function(){return U}),ee))}},9527:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mergeScan=void 0;var Se=ee(5416),we=ee(3754);J.mergeScan=function(U,J,ee){return void 0===ee&&(ee=1/0),Se.operate((function(Se,Ee){var je=J;return we.mergeInternals(Se,Ee,(function(J,ee){return U(je,J,ee)}),ee,(function(U){je=U}),!1,void 0,(function(){return je=null}))}))}},5834:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.mergeWith=void 0;var Ee=ee(1550);J.mergeWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.merge.apply(void 0,we([],Se(U)))}},1306:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.min=void 0;var Se=ee(3818),we=ee(4717);J.min=function(U){return Se.reduce(we.isFunction(U)?function(J,ee){return U(J,ee)<0?J:ee}:function(U,J){return U<J?U:J})}},9924:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.multicast=void 0;var Se=ee(1507),we=ee(4717),Ee=ee(2216);J.multicast=function(U,J){var ee=we.isFunction(U)?U:function(){return U};return we.isFunction(J)?Ee.connect(J,{connector:ee}):function(U){return new Se.ConnectableObservable(U,ee)}}},2803:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.observeOn=void 0;var Se=ee(5031),we=ee(5416),Ee=ee(1266);J.observeOn=function(U,J){return void 0===J&&(J=0),we.operate((function(ee,we){ee.subscribe(Ee.createOperatorSubscriber(we,(function(ee){return Se.executeSchedule(we,U,(function(){return we.next(ee)}),J)}),(function(){return Se.executeSchedule(we,U,(function(){return we.complete()}),J)}),(function(ee){return Se.executeSchedule(we,U,(function(){return we.error(ee)}),J)})))}))}},1997:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.onErrorResumeNext=J.onErrorResumeNextWith=void 0;var Ee=ee(160),je=ee(6467);function a(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Ee.argsOrArgArray(U);return function(U){return je.onErrorResumeNext.apply(void 0,we([U],Se(ee)))}}J.onErrorResumeNextWith=a,J.onErrorResumeNext=a},4492:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.pairwise=void 0;var Se=ee(5416),we=ee(1266);J.pairwise=function(){return Se.operate((function(U,J){var ee,Se=!1;U.subscribe(we.createOperatorSubscriber(J,(function(U){var we=ee;ee=U,Se&&J.next([we,U]),Se=!0})))}))}},5352:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.partition=void 0;var Se=ee(1276),we=ee(2914);J.partition=function(U,J){return function(ee){return[we.filter(U,J)(ee),we.filter(Se.not(U,J))(ee)]}}},3391:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.pluck=void 0;var Se=ee(4828);J.pluck=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=U.length;if(0===ee)throw new Error("list of properties cannot be empty.");return Se.map((function(J){for(var Se=J,we=0;we<ee;we++){var Ee=null==Se?void 0:Se[U[we]];if(void 0===Ee)return;Se=Ee}return Se}))}},297:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.publish=void 0;var Se=ee(20),we=ee(9924),Ee=ee(2216);J.publish=function(U){return U?function(J){return Ee.connect(U)(J)}:function(U){return we.multicast(new Se.Subject)(U)}}},6383:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.publishBehavior=void 0;var Se=ee(1222),we=ee(1507);J.publishBehavior=function(U){return function(J){var ee=new Se.BehaviorSubject(U);return new we.ConnectableObservable(J,(function(){return ee}))}}},8229:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.publishLast=void 0;var Se=ee(5366),we=ee(1507);J.publishLast=function(){return function(U){var J=new Se.AsyncSubject;return new we.ConnectableObservable(U,(function(){return J}))}}},8226:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.publishReplay=void 0;var Se=ee(5129),we=ee(9924),Ee=ee(4717);J.publishReplay=function(U,J,ee,je){ee&&!Ee.isFunction(ee)&&(je=ee);var Ae=Ee.isFunction(ee)?ee:void 0;return function(ee){return we.multicast(new Se.ReplaySubject(U,J,je),Ae)(ee)}}},8973:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.race=void 0;var Ee=ee(160),je=ee(177);J.race=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return je.raceWith.apply(void 0,we([],Se(Ee.argsOrArgArray(U))))}},177:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.raceWith=void 0;var Ee=ee(4143),je=ee(5416),Ae=ee(9391);J.raceWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return U.length?je.operate((function(J,ee){Ee.raceInit(we([J],Se(U)))(ee)})):Ae.identity}},3818:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.reduce=void 0;var Se=ee(7071),we=ee(5416);J.reduce=function(U,J){return we.operate(Se.scanInternals(U,J,arguments.length>=2,!1,!0))}},5884:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.refCount=void 0;var Se=ee(5416),we=ee(1266);J.refCount=function(){return Se.operate((function(U,J){var ee=null;U._refCount++;var Se=we.createOperatorSubscriber(J,void 0,void 0,void 0,(function(){if(!U||U._refCount<=0||0<--U._refCount)ee=null;else{var Se=U._connection,we=ee;ee=null,!Se||we&&Se!==we||Se.unsubscribe(),J.unsubscribe()}}));U.subscribe(Se),Se.closed||(ee=U.connect())}))}},7775:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.repeat=void 0;var Se=ee(7209),we=ee(5416),Ee=ee(1266),je=ee(2296),Ae=ee(5461);J.repeat=function(U){var J,ee,Fe=1/0;return null!=U&&("object"==typeof U?(J=U.count,Fe=void 0===J?1/0:J,ee=U.delay):Fe=U),Fe<=0?function(){return Se.EMPTY}:we.operate((function(U,J){var Se,we=0,c=function(){if(null==Se||Se.unsubscribe(),Se=null,null!=ee){var U="number"==typeof ee?Ae.timer(ee):je.innerFrom(ee(we)),Fe=Ee.createOperatorSubscriber(J,(function(){Fe.unsubscribe(),l()}));U.subscribe(Fe)}else l()},l=function(){var ee=!1;Se=U.subscribe(Ee.createOperatorSubscriber(J,void 0,(function(){++we<Fe?Se?c():ee=!0:J.complete()}))),ee&&c()};l()}))}},5567:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.repeatWhen=void 0;var Se=ee(2296),we=ee(20),Ee=ee(5416),je=ee(1266);J.repeatWhen=function(U){return Ee.operate((function(J,ee){var Ee,Ae,Fe=!1,xe=!1,Te=!1,d=function(){return Te&&xe&&(ee.complete(),!0)},h=function(){Te=!1,Ee=J.subscribe(je.createOperatorSubscriber(ee,void 0,(function(){Te=!0,!d()&&(Ae||(Ae=new we.Subject,Se.innerFrom(U(Ae)).subscribe(je.createOperatorSubscriber(ee,(function(){Ee?h():Fe=!0}),(function(){xe=!0,d()})))),Ae).next()}))),Fe&&(Ee.unsubscribe(),Ee=null,Fe=!1,h())};h()}))}},4740:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.retry=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(9391),je=ee(5461),Ae=ee(2296);J.retry=function(U){var J;void 0===U&&(U=1/0);var ee=(J=U&&"object"==typeof U?U:{count:U}).count,Fe=void 0===ee?1/0:ee,xe=J.delay,Te=J.resetOnSuccess,Ie=void 0!==Te&&Te;return Fe<=0?Ee.identity:Se.operate((function(U,J){var ee,Se=0,o=function(){var Ee=!1;ee=U.subscribe(we.createOperatorSubscriber(J,(function(U){Ie&&(Se=0),J.next(U)}),void 0,(function(U){if(Se++<Fe){var d=function(){ee?(ee.unsubscribe(),ee=null,o()):Ee=!0};if(null!=xe){var Te="number"==typeof xe?je.timer(xe):Ae.innerFrom(xe(U,Se)),Ie=we.createOperatorSubscriber(J,(function(){Ie.unsubscribe(),d()}),(function(){J.complete()}));Te.subscribe(Ie)}else d()}else J.error(U)}))),Ee&&(ee.unsubscribe(),ee=null,o())};o()}))}},264:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.retryWhen=void 0;var Se=ee(2296),we=ee(20),Ee=ee(5416),je=ee(1266);J.retryWhen=function(U){return Ee.operate((function(J,ee){var Ee,Ae,Fe=!1,c=function(){Ee=J.subscribe(je.createOperatorSubscriber(ee,void 0,void 0,(function(J){Ae||(Ae=new we.Subject,Se.innerFrom(U(Ae)).subscribe(je.createOperatorSubscriber(ee,(function(){return Ee?c():Fe=!0})))),Ae&&Ae.next(J)}))),Fe&&(Ee.unsubscribe(),Ee=null,Fe=!1,c())};c()}))}},6870:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.sample=void 0;var Se=ee(2296),we=ee(5416),Ee=ee(6129),je=ee(1266);J.sample=function(U){return we.operate((function(J,ee){var we=!1,Ae=null;J.subscribe(je.createOperatorSubscriber(ee,(function(U){we=!0,Ae=U}))),Se.innerFrom(U).subscribe(je.createOperatorSubscriber(ee,(function(){if(we){we=!1;var U=Ae;Ae=null,ee.next(U)}}),Ee.noop))}))}},5411:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.sampleTime=void 0;var Se=ee(4386),we=ee(6870),Ee=ee(8767);J.sampleTime=function(U,J){return void 0===J&&(J=Se.asyncScheduler),we.sample(Ee.interval(U,J))}},2457:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scan=void 0;var Se=ee(5416),we=ee(7071);J.scan=function(U,J){return Se.operate(we.scanInternals(U,J,arguments.length>=2,!0))}},7071:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scanInternals=void 0;var Se=ee(1266);J.scanInternals=function(U,J,ee,we,Ee){return function(je,Ae){var Fe=ee,xe=J,Te=0;je.subscribe(Se.createOperatorSubscriber(Ae,(function(J){var ee=Te++;xe=Fe?U(xe,J,ee):(Fe=!0,J),we&&Ae.next(xe)}),Ee&&function(){Fe&&Ae.next(xe),Ae.complete()}))}}},5109:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.sequenceEqual=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296);J.sequenceEqual=function(U,J){return void 0===J&&(J=function(U,J){return U===J}),Se.operate((function(ee,Se){var je={buffer:[],complete:!1},Ae={buffer:[],complete:!1},u=function(U){Se.next(U),Se.complete()},c=function(U,ee){var Ee=we.createOperatorSubscriber(Se,(function(Se){var we=ee.buffer,Ee=ee.complete;0===we.length?Ee?u(!1):U.buffer.push(Se):!J(Se,we.shift())&&u(!1)}),(function(){U.complete=!0;var J=ee.complete,Se=ee.buffer;J&&u(0===Se.length),null==Ee||Ee.unsubscribe()}));return Ee};ee.subscribe(c(je,Ae)),Ee.innerFrom(U).subscribe(c(Ae,je))}))}},3329:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.share=void 0;var Ee=ee(2296),je=ee(20),Ae=ee(4512),Fe=ee(5416);function c(U,J){for(var ee=[],je=2;je<arguments.length;je++)ee[je-2]=arguments[je];if(!0!==J){if(!1!==J){var Fe=new Ae.SafeSubscriber({next:function(){Fe.unsubscribe(),U()}});return Ee.innerFrom(J.apply(void 0,we([],Se(ee)))).subscribe(Fe)}}else U()}J.share=function(U){void 0===U&&(U={});var J=U.connector,ee=void 0===J?function(){return new je.Subject}:J,Se=U.resetOnError,we=void 0===Se||Se,xe=U.resetOnComplete,Te=void 0===xe||xe,Ie=U.resetOnRefCountZero,ke=void 0===Ie||Ie;return function(U){var J,Se,je,xe=0,Ie=!1,Ce=!1,b=function(){null==Se||Se.unsubscribe(),Se=void 0},y=function(){b(),J=je=void 0,Ie=Ce=!1},v=function(){var U=J;y(),null==U||U.unsubscribe()};return Fe.operate((function(U,Fe){xe++,Ce||Ie||b();var De=je=null!=je?je:ee();Fe.add((function(){0!=--xe||Ce||Ie||(Se=c(v,ke))})),De.subscribe(Fe),!J&&xe>0&&(J=new Ae.SafeSubscriber({next:function(U){return De.next(U)},error:function(U){Ce=!0,b(),Se=c(y,we,U),De.error(U)},complete:function(){Ie=!0,b(),Se=c(y,Te),De.complete()}}),Ee.innerFrom(U).subscribe(J))}))(U)}}},1738:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.shareReplay=void 0;var Se=ee(5129),we=ee(3329);J.shareReplay=function(U,J,ee){var Ee,je,Ae,Fe,xe=!1;return U&&"object"==typeof U?(Ee=U.bufferSize,Fe=void 0===Ee?1/0:Ee,je=U.windowTime,J=void 0===je?1/0:je,xe=void 0!==(Ae=U.refCount)&&Ae,ee=U.scheduler):Fe=null!=U?U:1/0,we.share({connector:function(){return new Se.ReplaySubject(Fe,J,ee)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xe})}},884:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.single=void 0;var Se=ee(7676),we=ee(8168),Ee=ee(2318),je=ee(5416),Ae=ee(1266);J.single=function(U){return je.operate((function(J,ee){var je,Fe=!1,xe=!1,Te=0;J.subscribe(Ae.createOperatorSubscriber(ee,(function(Se){xe=!0,U&&!U(Se,Te++,J)||(Fe&&ee.error(new we.SequenceError("Too many matching values")),Fe=!0,je=Se)}),(function(){Fe?(ee.next(je),ee.complete()):ee.error(xe?new Ee.NotFoundError("No matching values"):new Se.EmptyError)})))}))}},4411:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.skip=void 0;var Se=ee(2914);J.skip=function(U){return Se.filter((function(J,ee){return U<=ee}))}},9355:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.skipLast=void 0;var Se=ee(9391),we=ee(5416),Ee=ee(1266);J.skipLast=function(U){return U<=0?Se.identity:we.operate((function(J,ee){var Se=new Array(U),we=0;return J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){var Ee=we++;if(Ee<U)Se[Ee]=J;else{var je=Ee%U,Ae=Se[je];Se[je]=J,ee.next(Ae)}}))),function(){Se=null}}))}},2947:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.skipUntil=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296),je=ee(6129);J.skipUntil=function(U){return Se.operate((function(J,ee){var Se=!1,Ae=we.createOperatorSubscriber(ee,(function(){null==Ae||Ae.unsubscribe(),Se=!0}),je.noop);Ee.innerFrom(U).subscribe(Ae),J.subscribe(we.createOperatorSubscriber(ee,(function(U){return Se&&ee.next(U)})))}))}},9842:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.skipWhile=void 0;var Se=ee(5416),we=ee(1266);J.skipWhile=function(U){return Se.operate((function(J,ee){var Se=!1,Ee=0;J.subscribe(we.createOperatorSubscriber(ee,(function(J){return(Se||(Se=!U(J,Ee++)))&&ee.next(J)})))}))}},2778:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.startWith=void 0;var Se=ee(2070),we=ee(1824),Ee=ee(5416);J.startWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=we.popScheduler(U);return Ee.operate((function(J,we){(ee?Se.concat(U,J,ee):Se.concat(U,J)).subscribe(we)}))}},4027:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.subscribeOn=void 0;var Se=ee(5416);J.subscribeOn=function(U,J){return void 0===J&&(J=0),Se.operate((function(ee,Se){Se.add(U.schedule((function(){return ee.subscribe(Se)}),J))}))}},9061:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.switchAll=void 0;var Se=ee(6300),we=ee(9391);J.switchAll=function(){return Se.switchMap(we.identity)}},6300:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.switchMap=void 0;var Se=ee(2296),we=ee(5416),Ee=ee(1266);J.switchMap=function(U,J){return we.operate((function(ee,we){var je=null,Ae=0,Fe=!1,c=function(){return Fe&&!je&&we.complete()};ee.subscribe(Ee.createOperatorSubscriber(we,(function(ee){null==je||je.unsubscribe();var Fe=0,xe=Ae++;Se.innerFrom(U(ee,xe)).subscribe(je=Ee.createOperatorSubscriber(we,(function(U){return we.next(J?J(ee,U,xe,Fe++):U)}),(function(){je=null,c()})))}),(function(){Fe=!0,c()})))}))}},1933:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.switchMapTo=void 0;var Se=ee(6300),we=ee(4717);J.switchMapTo=function(U,J){return we.isFunction(J)?Se.switchMap((function(){return U}),J):Se.switchMap((function(){return U}))}},1689:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.switchScan=void 0;var Se=ee(6300),we=ee(5416);J.switchScan=function(U,J){return we.operate((function(ee,we){var Ee=J;return Se.switchMap((function(J,ee){return U(Ee,J,ee)}),(function(U,J){return Ee=J,J}))(ee).subscribe(we),function(){Ee=null}}))}},6803:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.take=void 0;var Se=ee(7209),we=ee(5416),Ee=ee(1266);J.take=function(U){return U<=0?function(){return Se.EMPTY}:we.operate((function(J,ee){var Se=0;J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){++Se<=U&&(ee.next(J),U<=Se&&ee.complete())})))}))}},787:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.takeLast=void 0;var we=ee(7209),Ee=ee(5416),je=ee(1266);J.takeLast=function(U){return U<=0?function(){return we.EMPTY}:Ee.operate((function(J,ee){var we=[];J.subscribe(je.createOperatorSubscriber(ee,(function(J){we.push(J),U<we.length&&we.shift()}),(function(){var U,J;try{for(var Ee=Se(we),je=Ee.next();!je.done;je=Ee.next()){var Ae=je.value;ee.next(Ae)}}catch(J){U={error:J}}finally{try{je&&!je.done&&(J=Ee.return)&&J.call(Ee)}finally{if(U)throw U.error}}ee.complete()}),void 0,(function(){we=null})))}))}},4811:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.takeUntil=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296),je=ee(6129);J.takeUntil=function(U){return Se.operate((function(J,ee){Ee.innerFrom(U).subscribe(we.createOperatorSubscriber(ee,(function(){return ee.complete()}),je.noop)),!ee.closed&&J.subscribe(ee)}))}},7770:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.takeWhile=void 0;var Se=ee(5416),we=ee(1266);J.takeWhile=function(U,J){return void 0===J&&(J=!1),Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(ee){var we=U(ee,Ee++);(we||J)&&Se.next(ee),!we&&Se.complete()})))}))}},9967:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.tap=void 0;var Se=ee(4717),we=ee(5416),Ee=ee(1266),je=ee(9391);J.tap=function(U,J,ee){var Ae=Se.isFunction(U)||J||ee?{next:U,error:J,complete:ee}:U;return Ae?we.operate((function(U,J){var ee;null===(ee=Ae.subscribe)||void 0===ee||ee.call(Ae);var Se=!0;U.subscribe(Ee.createOperatorSubscriber(J,(function(U){var ee;null===(ee=Ae.next)||void 0===ee||ee.call(Ae,U),J.next(U)}),(function(){var U;Se=!1,null===(U=Ae.complete)||void 0===U||U.call(Ae),J.complete()}),(function(U){var ee;Se=!1,null===(ee=Ae.error)||void 0===ee||ee.call(Ae,U),J.error(U)}),(function(){var U,J;Se&&(null===(U=Ae.unsubscribe)||void 0===U||U.call(Ae)),null===(J=Ae.finalize)||void 0===J||J.call(Ae)})))})):je.identity}},6516:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.throttle=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296);J.throttle=function(U,J){return Se.operate((function(ee,Se){var je=null!=J?J:{},Ae=je.leading,Fe=void 0===Ae||Ae,xe=je.trailing,Te=void 0!==xe&&xe,Ie=!1,ke=null,Ce=null,De=!1,b=function(){null==Ce||Ce.unsubscribe(),Ce=null,Te&&(g(),De&&Se.complete())},y=function(){Ce=null,De&&Se.complete()},v=function(J){return Ce=Ee.innerFrom(U(J)).subscribe(we.createOperatorSubscriber(Se,b,y))},g=function(){if(Ie){Ie=!1;var U=ke;ke=null,Se.next(U),!De&&v(U)}};ee.subscribe(we.createOperatorSubscriber(Se,(function(U){Ie=!0,ke=U,(!Ce||Ce.closed)&&(Fe?g():v(U))}),(function(){De=!0,(!(Te&&Ie&&Ce)||Ce.closed)&&Se.complete()})))}))}},5945:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.throttleTime=void 0;var Se=ee(4386),we=ee(6516),Ee=ee(5461);J.throttleTime=function(U,J,ee){void 0===J&&(J=Se.asyncScheduler);var je=Ee.timer(U,J);return we.throttle((function(){return je}),ee)}},5956:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.throwIfEmpty=void 0;var Se=ee(7676),we=ee(5416),Ee=ee(1266);function s(){return new Se.EmptyError}J.throwIfEmpty=function(U){return void 0===U&&(U=s),we.operate((function(J,ee){var Se=!1;J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){Se=!0,ee.next(U)}),(function(){return Se?ee.complete():ee.error(U())})))}))}},9712:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.TimeInterval=J.timeInterval=void 0;var Se=ee(4386),we=ee(5416),Ee=ee(1266);J.timeInterval=function(U){return void 0===U&&(U=Se.asyncScheduler),we.operate((function(J,ee){var Se=U.now();J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){var we=U.now(),Ee=we-Se;Se=we,ee.next(new s(J,Ee))})))}))};var s=function(U,J){this.value=U,this.interval=J};J.TimeInterval=s},7517:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.timeout=J.TimeoutError=void 0;var Se=ee(4386),we=ee(6349),Ee=ee(5416),je=ee(2296),Ae=ee(6871),Fe=ee(1266),xe=ee(5031);function l(U){throw new J.TimeoutError(U)}J.TimeoutError=Ae.createErrorClass((function(U){return function(J){void 0===J&&(J=null),U(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=J}})),J.timeout=function(U,J){var ee=we.isValidDate(U)?{first:U}:"number"==typeof U?{each:U}:U,Ae=ee.first,Te=ee.each,Ie=ee.with,ke=void 0===Ie?l:Ie,Ce=ee.scheduler,De=void 0===Ce?null!=J?J:Se.asyncScheduler:Ce,Re=ee.meta,Le=void 0===Re?null:Re;if(null==Ae&&null==Te)throw new TypeError("No timeout provided.");return Ee.operate((function(U,J){var ee,Se,we=null,Ee=0,l=function(U){Se=xe.executeSchedule(J,De,(function(){try{ee.unsubscribe(),je.innerFrom(ke({meta:Le,lastValue:we,seen:Ee})).subscribe(J)}catch(U){J.error(U)}}),U)};ee=U.subscribe(Fe.createOperatorSubscriber(J,(function(U){null==Se||Se.unsubscribe(),Ee++,J.next(we=U),Te>0&&l(Te)}),void 0,void 0,(function(){(null==Se?void 0:Se.closed)||null==Se||Se.unsubscribe(),we=null}))),!Ee&&l(null!=Ae?"number"==typeof Ae?Ae:+Ae-De.now():Te)}))}},2001:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.timeoutWith=void 0;var Se=ee(4386),we=ee(6349),Ee=ee(7517);J.timeoutWith=function(U,J,ee){var je,Ae,Fe;if(ee=null!=ee?ee:Se.async,we.isValidDate(U)?je=U:"number"==typeof U&&(Ae=U),!J)throw new TypeError("No observable provided to switch to");if(Fe=function(){return J},null==je&&null==Ae)throw new TypeError("No timeout provided.");return Ee.timeout({first:je,each:Ae,scheduler:ee,with:Fe})}},8158:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.timestamp=void 0;var Se=ee(4575),we=ee(4828);J.timestamp=function(U){return void 0===U&&(U=Se.dateTimestampProvider),we.map((function(J){return{value:J,timestamp:U.now()}}))}},2984:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.toArray=void 0;var Se=ee(3818),we=ee(5416),o=function(U,J){return U.push(J),U};J.toArray=function(){return we.operate((function(U,J){Se.reduce(o,[])(U).subscribe(J)}))}},5492:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.window=void 0;var Se=ee(20),we=ee(5416),Ee=ee(1266),je=ee(6129),Ae=ee(2296);J.window=function(U){return we.operate((function(J,ee){var we=new Se.Subject;ee.next(we.asObservable());var u=function(U){we.error(U),ee.error(U)};return J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return null==we?void 0:we.next(U)}),(function(){we.complete(),ee.complete()}),u)),Ae.innerFrom(U).subscribe(Ee.createOperatorSubscriber(ee,(function(){we.complete(),ee.next(we=new Se.Subject)}),je.noop,u)),function(){null==we||we.unsubscribe(),we=null}}))}},6817:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.windowCount=void 0;var we=ee(20),Ee=ee(5416),je=ee(1266);J.windowCount=function(U,J){void 0===J&&(J=0);var ee=J>0?J:U;return Ee.operate((function(J,Ee){var Ae=[new we.Subject],Fe=0;Ee.next(Ae[0].asObservable()),J.subscribe(je.createOperatorSubscriber(Ee,(function(J){var je,xe;try{for(var Te=Se(Ae),Ie=Te.next();!Ie.done;Ie=Te.next())Ie.value.next(J)}catch(U){je={error:U}}finally{try{Ie&&!Ie.done&&(xe=Te.return)&&xe.call(Te)}finally{if(je)throw je.error}}var ke=Fe-U+1;if(ke>=0&&ke%ee==0&&Ae.shift().complete(),++Fe%ee==0){var Ce=new we.Subject;Ae.push(Ce),Ee.next(Ce.asObservable())}}),(function(){for(;Ae.length>0;)Ae.shift().complete();Ee.complete()}),(function(U){for(;Ae.length>0;)Ae.shift().error(U);Ee.error(U)}),(function(){Ae=null})))}))}},6841:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.windowTime=void 0;var Se=ee(20),we=ee(4386),Ee=ee(7491),je=ee(5416),Ae=ee(1266),Fe=ee(7394),xe=ee(1824),Te=ee(5031);J.windowTime=function(U){for(var J,ee,Ie=[],ke=1;ke<arguments.length;ke++)Ie[ke-1]=arguments[ke];var Ce=null!==(J=xe.popScheduler(Ie))&&void 0!==J?J:we.asyncScheduler,De=null!==(ee=Ie[0])&&void 0!==ee?ee:null,Re=Ie[1]||1/0;return je.operate((function(J,ee){var we=[],je=!1,c=function(U){var J=U.window,ee=U.subs;J.complete(),ee.unsubscribe(),Fe.arrRemove(we,U),je&&d()},d=function(){if(we){var J=new Ee.Subscription;ee.add(J);var je=new Se.Subject,Ae={window:je,subs:J,seen:0};we.push(Ae),ee.next(je.asObservable()),Te.executeSchedule(J,Ce,(function(){return c(Ae)}),U)}};null!==De&&De>=0?Te.executeSchedule(ee,Ce,d,De,!0):je=!0,d();var h=function(U){return we.slice().forEach(U)},y=function(U){h((function(J){var ee=J.window;return U(ee)})),U(ee),ee.unsubscribe()};return J.subscribe(Ae.createOperatorSubscriber(ee,(function(U){h((function(J){J.window.next(U),Re<=++J.seen&&c(J)}))}),(function(){return y((function(U){return U.complete()}))}),(function(U){return y((function(J){return J.error(U)}))}))),function(){we=null}}))}},4880:function(U,J,ee){var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.windowToggle=void 0;var we=ee(20),Ee=ee(7491),je=ee(5416),Ae=ee(2296),Fe=ee(1266),xe=ee(6129),Te=ee(7394);J.windowToggle=function(U,J){return je.operate((function(ee,je){var Ie=[],h=function(U){for(;0<Ie.length;)Ie.shift().error(U);je.error(U)};Ae.innerFrom(U).subscribe(Fe.createOperatorSubscriber(je,(function(U){var ee=new we.Subject;Ie.push(ee);var Se,ke=new Ee.Subscription;try{Se=Ae.innerFrom(J(U))}catch(U){return void h(U)}je.next(ee.asObservable()),ke.add(Se.subscribe(Fe.createOperatorSubscriber(je,(function(){Te.arrRemove(Ie,ee),ee.complete(),ke.unsubscribe()}),xe.noop,h)))}),xe.noop)),ee.subscribe(Fe.createOperatorSubscriber(je,(function(U){var J,ee,we=Ie.slice();try{for(var Ee=Se(we),je=Ee.next();!je.done;je=Ee.next())je.value.next(U)}catch(U){J={error:U}}finally{try{je&&!je.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(J)throw J.error}}}),(function(){for(;0<Ie.length;)Ie.shift().complete();je.complete()}),h,(function(){for(;0<Ie.length;)Ie.shift().unsubscribe()})))}))}},3016:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.windowWhen=void 0;var Se=ee(20),we=ee(5416),Ee=ee(1266),je=ee(2296);J.windowWhen=function(U){return we.operate((function(J,ee){var we,Ae,u=function(U){we.error(U),ee.error(U)},c=function(){var J;null==Ae||Ae.unsubscribe(),null==we||we.complete(),we=new Se.Subject,ee.next(we.asObservable());try{J=je.innerFrom(U())}catch(U){return void u(U)}J.subscribe(Ae=Ee.createOperatorSubscriber(ee,c,c,u))};c(),J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return we.next(U)}),(function(){we.complete(),ee.complete()}),u,(function(){null==Ae||Ae.unsubscribe(),we=null})))}))}},9163:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.withLatestFrom=void 0;var Ee=ee(5416),je=ee(1266),Ae=ee(2296),Fe=ee(9391),xe=ee(6129),Te=ee(1824);J.withLatestFrom=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Te.popResultSelector(U);return Ee.operate((function(J,Ee){for(var Te=U.length,Ie=new Array(Te),ke=U.map((function(){return!1})),Ce=!1,p=function(J){Ae.innerFrom(U[J]).subscribe(je.createOperatorSubscriber(Ee,(function(U){Ie[J]=U,Ce||ke[J]||(ke[J]=!0,(Ce=ke.every(Fe.identity))&&(ke=null))}),xe.noop))},De=0;De<Te;De++)p(De);J.subscribe(je.createOperatorSubscriber(Ee,(function(U){if(Ce){var J=we([U],Se(Ie));Ee.next(ee?ee.apply(void 0,we([],Se(J))):J)}})))}))}},2681:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.zip=void 0;var Ee=ee(1763),je=ee(5416);J.zip=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return je.operate((function(J,ee){Ee.zip.apply(void 0,we([J],Se(U))).subscribe(ee)}))}},5606:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.zipAll=void 0;var Se=ee(1763),we=ee(587);J.zipAll=function(U){return we.joinAllInternals(Se.zip,U)}},973:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.zipWith=void 0;var Ee=ee(2681);J.zipWith=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.zip.apply(void 0,we([],Se(U)))}},8762:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleArray=void 0;var Se=ee(2023);J.scheduleArray=function(U,J){return new Se.Observable((function(ee){var Se=0;return J.schedule((function(){Se===U.length?ee.complete():(ee.next(U[Se++]),ee.closed||this.schedule())}))}))}},3741:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleAsyncIterable=void 0;var Se=ee(2023),we=ee(5031);J.scheduleAsyncIterable=function(U,J){if(!U)throw new Error("Iterable cannot be null");return new Se.Observable((function(ee){we.executeSchedule(ee,J,(function(){var Se=U[Symbol.asyncIterator]();we.executeSchedule(ee,J,(function(){Se.next().then((function(U){U.done?ee.complete():ee.next(U.value)}))}),0,!0)}))}))}},3585:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleIterable=void 0;var Se=ee(2023),we=ee(3967),Ee=ee(4717),je=ee(5031);J.scheduleIterable=function(U,J){return new Se.Observable((function(ee){var Se;return je.executeSchedule(ee,J,(function(){Se=U[we.iterator](),je.executeSchedule(ee,J,(function(){var U,J,we;try{J=(U=Se.next()).value,we=U.done}catch(U){return void ee.error(U)}we?ee.complete():ee.next(J)}),0,!0)})),function(){return Ee.isFunction(null==Se?void 0:Se.return)&&Se.return()}}))}},4502:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleObservable=void 0;var Se=ee(2296),we=ee(2803),Ee=ee(4027);J.scheduleObservable=function(U,J){return Se.innerFrom(U).pipe(Ee.subscribeOn(J),we.observeOn(J))}},2366:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.schedulePromise=void 0;var Se=ee(2296),we=ee(2803),Ee=ee(4027);J.schedulePromise=function(U,J){return Se.innerFrom(U).pipe(Ee.subscribeOn(J),we.observeOn(J))}},9136:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleReadableStreamLike=void 0;var Se=ee(3741),we=ee(3026);J.scheduleReadableStreamLike=function(U,J){return Se.scheduleAsyncIterable(we.readableStreamLikeToAsyncGenerator(U),J)}},4463:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.scheduled=void 0;var Se=ee(4502),we=ee(2366),Ee=ee(8762),je=ee(3585),Ae=ee(3741),Fe=ee(1801),xe=ee(452),Te=ee(5547),Ie=ee(6847),ke=ee(9451),Ce=ee(3533),De=ee(3026),Re=ee(9136);J.scheduled=function(U,J){if(null!=U){if(Fe.isInteropObservable(U))return Se.scheduleObservable(U,J);if(Te.isArrayLike(U))return Ee.scheduleArray(U,J);if(xe.isPromise(U))return we.schedulePromise(U,J);if(ke.isAsyncIterable(U))return Ae.scheduleAsyncIterable(U,J);if(Ie.isIterable(U))return je.scheduleIterable(U,J);if(De.isReadableStreamLike(U))return Re.scheduleReadableStreamLike(U,J)}throw Ce.createInvalidObservableTypeError(U)}},7638:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.Action=void 0;var we=function(U){function t(J,ee){return U.call(this)||this}return Se(t,U),t.prototype.schedule=function(U,J){return void 0===J&&(J=0),this},t}(ee(7491).Subscription);J.Action=we},1080:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.AsyncAction=void 0;var we=ee(7638),Ee=ee(2320),je=ee(7394),Ae=function(U){function t(J,ee){var Se=U.call(this,J,ee)||this;return Se.scheduler=J,Se.work=ee,Se.pending=!1,Se}return Se(t,U),t.prototype.schedule=function(U,J){var ee;if(void 0===J&&(J=0),this.closed)return this;this.state=U;var Se=this.id,we=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(we,Se,J)),this.pending=!0,this.delay=J,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(we,this.id,J),this},t.prototype.requestAsyncId=function(U,J,ee){return void 0===ee&&(ee=0),Ee.intervalProvider.setInterval(U.flush.bind(U,this),ee)},t.prototype.recycleAsyncId=function(U,J,ee){if(void 0===ee&&(ee=0),null!=ee&&this.delay===ee&&!1===this.pending)return J;null!=J&&Ee.intervalProvider.clearInterval(J)},t.prototype.execute=function(U,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var ee=this._execute(U,J);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(U,J){var ee,Se=!1;try{this.work(U)}catch(U){Se=!0,ee=U||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ee},t.prototype.unsubscribe=function(){if(!this.closed){var J=this.id,ee=this.scheduler,Se=ee.actions;this.work=this.state=this.scheduler=null,this.pending=!1,je.arrRemove(Se,this),null!=J&&(this.id=this.recycleAsyncId(ee,J,null)),this.delay=null,U.prototype.unsubscribe.call(this)}},t}(we.Action);J.AsyncAction=Ae},1017:function(U,J,ee){var Se=this&&this.__extends||function(){var e=function(U,J){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},e(U,J)};return function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function n(){this.constructor=U}e(U,J),U.prototype=null===J?Object.create(J):(n.prototype=J.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0}),J.AsyncScheduler=void 0;var we=ee(469),Ee=function(U){function t(J,ee){void 0===ee&&(ee=we.Scheduler.now);var Se=U.call(this,J,ee)||this;return Se.actions=[],Se._active=!1,Se}return Se(t,U),t.prototype.flush=function(U){var J=this.actions;if(this._active)J.push(U);else{var ee;this._active=!0;do{if(ee=U.execute(U.state,U.delay))break}while(U=J.shift());if(this._active=!1,ee){for(;U=J.shift();)U.unsubscribe();throw ee}}},t}(we.Scheduler);J.AsyncScheduler=Ee},4386:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.async=J.asyncScheduler=void 0;var Se=ee(1080),we=ee(1017);J.asyncScheduler=new we.AsyncScheduler(Se.AsyncAction),J.async=J.asyncScheduler},4575:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.dateTimestampProvider=void 0,J.dateTimestampProvider={now:function(){return(J.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},2320:function(U,J){var ee=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},Se=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.intervalProvider=void 0,J.intervalProvider={setInterval:function(U,we){for(var Ee=[],je=2;je<arguments.length;je++)Ee[je-2]=arguments[je];var Ae=J.intervalProvider.delegate;return(null==Ae?void 0:Ae.setInterval)?Ae.setInterval.apply(Ae,Se([U,we],ee(Ee))):setInterval.apply(void 0,Se([U,we],ee(Ee)))},clearInterval:function(U){var ee=J.intervalProvider.delegate;return((null==ee?void 0:ee.clearInterval)||clearInterval)(U)},delegate:void 0}},6476:function(U,J){var ee=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},Se=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.timeoutProvider=void 0,J.timeoutProvider={setTimeout:function(U,we){for(var Ee=[],je=2;je<arguments.length;je++)Ee[je-2]=arguments[je];var Ae=J.timeoutProvider.delegate;return(null==Ae?void 0:Ae.setTimeout)?Ae.setTimeout.apply(Ae,Se([U,we],ee(Ee))):setTimeout.apply(void 0,Se([U,we],ee(Ee)))},clearTimeout:function(U){var ee=J.timeoutProvider.delegate;return((null==ee?void 0:ee.clearTimeout)||clearTimeout)(U)},delegate:void 0}},3967:(U,J)=>{function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(J,"__esModule",{value:!0}),J.iterator=J.getSymbolIterator=void 0,J.getSymbolIterator=r,J.iterator=r()},2131:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.observable=void 0,J.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},9148:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.ArgumentOutOfRangeError=void 0;var Se=ee(6871);J.ArgumentOutOfRangeError=Se.createErrorClass((function(U){return function(){U(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},7676:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.EmptyError=void 0;var Se=ee(6871);J.EmptyError=Se.createErrorClass((function(U){return function(){U(this),this.name="EmptyError",this.message="no elements in sequence"}}))},2318:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.NotFoundError=void 0;var Se=ee(6871);J.NotFoundError=Se.createErrorClass((function(U){return function(J){U(this),this.name="NotFoundError",this.message=J}}))},8083:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.ObjectUnsubscribedError=void 0;var Se=ee(6871);J.ObjectUnsubscribedError=Se.createErrorClass((function(U){return function(){U(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},8168:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.SequenceError=void 0;var Se=ee(6871);J.SequenceError=Se.createErrorClass((function(U){return function(J){U(this),this.name="SequenceError",this.message=J}}))},665:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.UnsubscriptionError=void 0;var Se=ee(6871);J.UnsubscriptionError=Se.createErrorClass((function(U){return function(J){U(this),this.message=J?J.length+" errors occurred during unsubscription:\n"+J.map((function(U,J){return J+1+") "+U.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=J}}))},1824:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.popNumber=J.popScheduler=J.popResultSelector=void 0;var Se=ee(4717),we=ee(4568);function o(U){return U[U.length-1]}J.popResultSelector=function(U){return Se.isFunction(o(U))?U.pop():void 0},J.popScheduler=function(U){return we.isScheduler(o(U))?U.pop():void 0},J.popNumber=function(U,J){return"number"==typeof o(U)?U.pop():J}},3787:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.argsArgArrayOrObject=void 0;var ee=Array.isArray,Se=Object.getPrototypeOf,we=Object.prototype,Ee=Object.keys;J.argsArgArrayOrObject=function(U){if(1===U.length){var J=U[0];if(ee(J))return{args:J,keys:null};if((Ae=J)&&"object"==typeof Ae&&Se(Ae)===we){var je=Ee(J);return{args:je.map((function(U){return J[U]})),keys:je}}}var Ae;return{args:U,keys:null}}},160:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.argsOrArgArray=void 0;var ee=Array.isArray;J.argsOrArgArray=function(U){return 1===U.length&&ee(U[0])?U[0]:U}},7394:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.arrRemove=void 0,J.arrRemove=function(U,J){if(U){var ee=U.indexOf(J);0<=ee&&U.splice(ee,1)}}},6871:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.createErrorClass=void 0,J.createErrorClass=function(U){var J=U((function(U){Error.call(U),U.stack=(new Error).stack}));return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}},4950:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.createObject=void 0,J.createObject=function(U,J){return U.reduce((function(U,ee,Se){return U[ee]=J[Se],U}),{})}},9916:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.captureError=J.errorContext=void 0;var Se=ee(7820),we=null;J.errorContext=function(U){if(Se.config.useDeprecatedSynchronousErrorHandling){var J=!we;if(J&&(we={errorThrown:!1,error:null}),U(),J){var ee=we,Ee=ee.errorThrown,je=ee.error;if(we=null,Ee)throw je}}else U()},J.captureError=function(U){Se.config.useDeprecatedSynchronousErrorHandling&&we&&(we.errorThrown=!0,we.error=U)}},5031:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.executeSchedule=void 0,J.executeSchedule=function(U,J,ee,Se,we){void 0===Se&&(Se=0),void 0===we&&(we=!1);var Ee=J.schedule((function(){ee(),we?U.add(this.schedule(null,Se)):this.unsubscribe()}),Se);if(U.add(Ee),!we)return Ee}},9391:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.identity=void 0,J.identity=function(U){return U}},5547:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isArrayLike=void 0,J.isArrayLike=function(U){return U&&"number"==typeof U.length&&"function"!=typeof U}},9451:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isAsyncIterable=void 0;var Se=ee(4717);J.isAsyncIterable=function(U){return Symbol.asyncIterator&&Se.isFunction(null==U?void 0:U[Symbol.asyncIterator])}},6349:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isValidDate=void 0,J.isValidDate=function(U){return U instanceof Date&&!isNaN(U)}},4717:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isFunction=void 0,J.isFunction=function(U){return"function"==typeof U}},1801:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isInteropObservable=void 0;var Se=ee(2131),we=ee(4717);J.isInteropObservable=function(U){return we.isFunction(U[Se.observable])}},6847:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isIterable=void 0;var Se=ee(3967),we=ee(4717);J.isIterable=function(U){return we.isFunction(null==U?void 0:U[Se.iterator])}},452:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isPromise=void 0;var Se=ee(4717);J.isPromise=function(U){return Se.isFunction(null==U?void 0:U.then)}},3026:function(U,J,ee){var Se=this&&this.__generator||function(U,J){var ee,Se,we,Ee,je={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return Ee={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function a(Ee){return function(Ae){return function(Ee){if(ee)throw new TypeError("Generator is already executing.");for(;je;)try{if(ee=1,Se&&(we=2&Ee[0]?Se.return:Ee[0]?Se.throw||((we=Se.return)&&we.call(Se),0):Se.next)&&!(we=we.call(Se,Ee[1])).done)return we;switch(Se=0,we&&(Ee=[2&Ee[0],we.value]),Ee[0]){case 0:case 1:we=Ee;break;case 4:return je.label++,{value:Ee[1],done:!1};case 5:je.label++,Se=Ee[1],Ee=[0];continue;case 7:Ee=je.ops.pop(),je.trys.pop();continue;default:if(!((we=(we=je.trys).length>0&&we[we.length-1])||6!==Ee[0]&&2!==Ee[0])){je=0;continue}if(3===Ee[0]&&(!we||Ee[1]>we[0]&&Ee[1]<we[3])){je.label=Ee[1];break}if(6===Ee[0]&&je.label<we[1]){je.label=we[1],we=Ee;break}if(we&&je.label<we[2]){je.label=we[2],je.ops.push(Ee);break}we[2]&&je.ops.pop(),je.trys.pop();continue}Ee=J.call(U,je)}catch(U){Ee=[6,U],Se=0}finally{ee=we=0}if(5&Ee[0])throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}([Ee,Ae])}}},we=this&&this.__await||function(U){return this instanceof we?(this.v=U,this):new we(U)},Ee=this&&this.__asyncGenerator||function(U,J,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Ee=ee.apply(U,J||[]),je=[];return Se={},a("next"),a("throw"),a("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function a(U){Ee[U]&&(Se[U]=function(J){return new Promise((function(ee,Se){je.push([U,J,ee,Se])>1||u(U,J)}))})}function u(U,J){try{(ee=Ee[U](J)).value instanceof we?Promise.resolve(ee.value.v).then(c,l):d(je[0][2],ee)}catch(U){d(je[0][3],U)}var ee}function c(U){u("next",U)}function l(U){u("throw",U)}function d(U,J){U(J),je.shift(),je.length&&u(je[0][0],je[0][1])}};Object.defineProperty(J,"__esModule",{value:!0}),J.isReadableStreamLike=J.readableStreamLikeToAsyncGenerator=void 0;var je=ee(4717);J.readableStreamLikeToAsyncGenerator=function(U){return Ee(this,arguments,(function(){var J,ee,Ee;return Se(this,(function(Se){switch(Se.label){case 0:J=U.getReader(),Se.label=1;case 1:Se.trys.push([1,,9,10]),Se.label=2;case 2:return[4,we(J.read())];case 3:return ee=Se.sent(),Ee=ee.value,ee.done?[4,we(void 0)]:[3,5];case 4:return[2,Se.sent()];case 5:return[4,we(Ee)];case 6:return[4,Se.sent()];case 7:return Se.sent(),[3,2];case 8:return[3,10];case 9:return J.releaseLock(),[7];case 10:return[2]}}))}))},J.isReadableStreamLike=function(U){return je.isFunction(null==U?void 0:U.getReader)}},4568:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.isScheduler=void 0;var Se=ee(4717);J.isScheduler=function(U){return U&&Se.isFunction(U.schedule)}},5416:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.operate=J.hasLift=void 0;var Se=ee(4717);function i(U){return Se.isFunction(null==U?void 0:U.lift)}J.hasLift=i,J.operate=function(U){return function(J){if(i(J))return J.lift((function(J){try{return U(J,this)}catch(U){this.error(U)}}));throw new TypeError("Unable to lift unknown Observable type")}}},8240:function(U,J,ee){var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.mapOneOrManyArgs=void 0;var Ee=ee(4828),je=Array.isArray;J.mapOneOrManyArgs=function(U){return Ee.map((function(J){return function(U,J){return je(J)?U.apply(void 0,we([],Se(J))):U(J)}(U,J)}))}},6129:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.noop=void 0,J.noop=function(){}},1276:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.not=void 0,J.not=function(U,J){return function(ee,Se){return!U.call(J,ee,Se)}}},2393:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.pipeFromArray=J.pipe=void 0;var Se=ee(9391);function i(U){return 0===U.length?Se.identity:1===U.length?U[0]:function(J){return U.reduce((function(U,J){return J(U)}),J)}}J.pipe=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return i(U)},J.pipeFromArray=i},4696:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.reportUnhandledError=void 0;var Se=ee(7820),we=ee(6476);J.reportUnhandledError=function(U){we.timeoutProvider.setTimeout((function(){var J=Se.config.onUnhandledError;if(!J)throw U;J(U)}))}},3533:(U,J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.createInvalidObservableTypeError=void 0,J.createInvalidObservableTypeError=function(U){return new TypeError("You provided "+(null!==U&&"object"==typeof U?"an invalid object":"'"+U+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},6022:(U,J,ee)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.mergeAll=J.merge=J.max=J.materialize=J.mapTo=J.map=J.last=J.isEmpty=J.ignoreElements=J.groupBy=J.first=J.findIndex=J.find=J.finalize=J.filter=J.expand=J.exhaustMap=J.exhaustAll=J.exhaust=J.every=J.endWith=J.elementAt=J.distinctUntilKeyChanged=J.distinctUntilChanged=J.distinct=J.dematerialize=J.delayWhen=J.delay=J.defaultIfEmpty=J.debounceTime=J.debounce=J.count=J.connect=J.concatWith=J.concatMapTo=J.concatMap=J.concatAll=J.concat=J.combineLatestWith=J.combineLatest=J.combineLatestAll=J.combineAll=J.catchError=J.bufferWhen=J.bufferToggle=J.bufferTime=J.bufferCount=J.buffer=J.auditTime=J.audit=void 0,J.timeInterval=J.throwIfEmpty=J.throttleTime=J.throttle=J.tap=J.takeWhile=J.takeUntil=J.takeLast=J.take=J.switchScan=J.switchMapTo=J.switchMap=J.switchAll=J.subscribeOn=J.startWith=J.skipWhile=J.skipUntil=J.skipLast=J.skip=J.single=J.shareReplay=J.share=J.sequenceEqual=J.scan=J.sampleTime=J.sample=J.refCount=J.retryWhen=J.retry=J.repeatWhen=J.repeat=J.reduce=J.raceWith=J.race=J.publishReplay=J.publishLast=J.publishBehavior=J.publish=J.pluck=J.partition=J.pairwise=J.onErrorResumeNext=J.observeOn=J.multicast=J.min=J.mergeWith=J.mergeScan=J.mergeMapTo=J.mergeMap=J.flatMap=void 0,J.zipWith=J.zipAll=J.zip=J.withLatestFrom=J.windowWhen=J.windowToggle=J.windowTime=J.windowCount=J.window=J.toArray=J.timestamp=J.timeoutWith=J.timeout=void 0;var Se=ee(6993);Object.defineProperty(J,"audit",{enumerable:!0,get:function(){return Se.audit}});var we=ee(4116);Object.defineProperty(J,"auditTime",{enumerable:!0,get:function(){return we.auditTime}});var Ee=ee(7190);Object.defineProperty(J,"buffer",{enumerable:!0,get:function(){return Ee.buffer}});var je=ee(6835);Object.defineProperty(J,"bufferCount",{enumerable:!0,get:function(){return je.bufferCount}});var Ae=ee(5219);Object.defineProperty(J,"bufferTime",{enumerable:!0,get:function(){return Ae.bufferTime}});var Fe=ee(118);Object.defineProperty(J,"bufferToggle",{enumerable:!0,get:function(){return Fe.bufferToggle}});var xe=ee(7514);Object.defineProperty(J,"bufferWhen",{enumerable:!0,get:function(){return xe.bufferWhen}});var Te=ee(8251);Object.defineProperty(J,"catchError",{enumerable:!0,get:function(){return Te.catchError}});var Ie=ee(1424);Object.defineProperty(J,"combineAll",{enumerable:!0,get:function(){return Ie.combineAll}});var ke=ee(2945);Object.defineProperty(J,"combineLatestAll",{enumerable:!0,get:function(){return ke.combineLatestAll}});var Ce=ee(2e3);Object.defineProperty(J,"combineLatest",{enumerable:!0,get:function(){return Ce.combineLatest}});var De=ee(3928);Object.defineProperty(J,"combineLatestWith",{enumerable:!0,get:function(){return De.combineLatestWith}});var Re=ee(1812);Object.defineProperty(J,"concat",{enumerable:!0,get:function(){return Re.concat}});var Le=ee(861);Object.defineProperty(J,"concatAll",{enumerable:!0,get:function(){return Le.concatAll}});var qe=ee(1012);Object.defineProperty(J,"concatMap",{enumerable:!0,get:function(){return qe.concatMap}});var $e=ee(1157);Object.defineProperty(J,"concatMapTo",{enumerable:!0,get:function(){return $e.concatMapTo}});var ht=ee(3692);Object.defineProperty(J,"concatWith",{enumerable:!0,get:function(){return ht.concatWith}});var _t=ee(2216);Object.defineProperty(J,"connect",{enumerable:!0,get:function(){return _t.connect}});var gt=ee(8041);Object.defineProperty(J,"count",{enumerable:!0,get:function(){return gt.count}});var Dt=ee(2747);Object.defineProperty(J,"debounce",{enumerable:!0,get:function(){return Dt.debounce}});var Vt=ee(3870);Object.defineProperty(J,"debounceTime",{enumerable:!0,get:function(){return Vt.debounceTime}});var Ht=ee(7507);Object.defineProperty(J,"defaultIfEmpty",{enumerable:!0,get:function(){return Ht.defaultIfEmpty}});var Yt=ee(2409);Object.defineProperty(J,"delay",{enumerable:!0,get:function(){return Yt.delay}});var Gt=ee(5137);Object.defineProperty(J,"delayWhen",{enumerable:!0,get:function(){return Gt.delayWhen}});var gr=ee(4126);Object.defineProperty(J,"dematerialize",{enumerable:!0,get:function(){return gr.dematerialize}});var Yr=ee(5208);Object.defineProperty(J,"distinct",{enumerable:!0,get:function(){return Yr.distinct}});var Jr=ee(9939);Object.defineProperty(J,"distinctUntilChanged",{enumerable:!0,get:function(){return Jr.distinctUntilChanged}});var en=ee(183);Object.defineProperty(J,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return en.distinctUntilKeyChanged}});var tn=ee(1195);Object.defineProperty(J,"elementAt",{enumerable:!0,get:function(){return tn.elementAt}});var rn=ee(3723);Object.defineProperty(J,"endWith",{enumerable:!0,get:function(){return rn.endWith}});var nn=ee(1909);Object.defineProperty(J,"every",{enumerable:!0,get:function(){return nn.every}});var on=ee(9228);Object.defineProperty(J,"exhaust",{enumerable:!0,get:function(){return on.exhaust}});var un=ee(9765);Object.defineProperty(J,"exhaustAll",{enumerable:!0,get:function(){return un.exhaustAll}});var sn=ee(8748);Object.defineProperty(J,"exhaustMap",{enumerable:!0,get:function(){return sn.exhaustMap}});var an=ee(8324);Object.defineProperty(J,"expand",{enumerable:!0,get:function(){return an.expand}});var cn=ee(2914);Object.defineProperty(J,"filter",{enumerable:!0,get:function(){return cn.filter}});var ln=ee(9822);Object.defineProperty(J,"finalize",{enumerable:!0,get:function(){return ln.finalize}});var fn=ee(2819);Object.defineProperty(J,"find",{enumerable:!0,get:function(){return fn.find}});var dn=ee(3367);Object.defineProperty(J,"findIndex",{enumerable:!0,get:function(){return dn.findIndex}});var hn=ee(1432);Object.defineProperty(J,"first",{enumerable:!0,get:function(){return hn.first}});var pn=ee(4956);Object.defineProperty(J,"groupBy",{enumerable:!0,get:function(){return pn.groupBy}});var vn=ee(2507);Object.defineProperty(J,"ignoreElements",{enumerable:!0,get:function(){return vn.ignoreElements}});var bn=ee(6095);Object.defineProperty(J,"isEmpty",{enumerable:!0,get:function(){return bn.isEmpty}});var yn=ee(3484);Object.defineProperty(J,"last",{enumerable:!0,get:function(){return yn.last}});var _n=ee(4828);Object.defineProperty(J,"map",{enumerable:!0,get:function(){return _n.map}});var mn=ee(1357);Object.defineProperty(J,"mapTo",{enumerable:!0,get:function(){return mn.mapTo}});var gn=ee(7967);Object.defineProperty(J,"materialize",{enumerable:!0,get:function(){return gn.materialize}});var wn=ee(4388);Object.defineProperty(J,"max",{enumerable:!0,get:function(){return wn.max}});var An=ee(1550);Object.defineProperty(J,"merge",{enumerable:!0,get:function(){return An.merge}});var Fn=ee(1867);Object.defineProperty(J,"mergeAll",{enumerable:!0,get:function(){return Fn.mergeAll}});var Bn=ee(6977);Object.defineProperty(J,"flatMap",{enumerable:!0,get:function(){return Bn.flatMap}});var ei=ee(1282);Object.defineProperty(J,"mergeMap",{enumerable:!0,get:function(){return ei.mergeMap}});var si=ee(6295);Object.defineProperty(J,"mergeMapTo",{enumerable:!0,get:function(){return si.mergeMapTo}});var li=ee(9527);Object.defineProperty(J,"mergeScan",{enumerable:!0,get:function(){return li.mergeScan}});var fi=ee(5834);Object.defineProperty(J,"mergeWith",{enumerable:!0,get:function(){return fi.mergeWith}});var Si=ee(1306);Object.defineProperty(J,"min",{enumerable:!0,get:function(){return Si.min}});var ji=ee(9924);Object.defineProperty(J,"multicast",{enumerable:!0,get:function(){return ji.multicast}});var Fi=ee(2803);Object.defineProperty(J,"observeOn",{enumerable:!0,get:function(){return Fi.observeOn}});var xi=ee(1997);Object.defineProperty(J,"onErrorResumeNext",{enumerable:!0,get:function(){return xi.onErrorResumeNext}});var Ii=ee(4492);Object.defineProperty(J,"pairwise",{enumerable:!0,get:function(){return Ii.pairwise}});var Ni=ee(5352);Object.defineProperty(J,"partition",{enumerable:!0,get:function(){return Ni.partition}});var Di=ee(3391);Object.defineProperty(J,"pluck",{enumerable:!0,get:function(){return Di.pluck}});var Ri=ee(297);Object.defineProperty(J,"publish",{enumerable:!0,get:function(){return Ri.publish}});var Vi=ee(6383);Object.defineProperty(J,"publishBehavior",{enumerable:!0,get:function(){return Vi.publishBehavior}});var $i=ee(8229);Object.defineProperty(J,"publishLast",{enumerable:!0,get:function(){return $i.publishLast}});var zi=ee(8226);Object.defineProperty(J,"publishReplay",{enumerable:!0,get:function(){return zi.publishReplay}});var Qi=ee(8973);Object.defineProperty(J,"race",{enumerable:!0,get:function(){return Qi.race}});var Hi=ee(177);Object.defineProperty(J,"raceWith",{enumerable:!0,get:function(){return Hi.raceWith}});var Yi=ee(3818);Object.defineProperty(J,"reduce",{enumerable:!0,get:function(){return Yi.reduce}});var Zi=ee(7775);Object.defineProperty(J,"repeat",{enumerable:!0,get:function(){return Zi.repeat}});var Xi=ee(5567);Object.defineProperty(J,"repeatWhen",{enumerable:!0,get:function(){return Xi.repeatWhen}});var to=ee(4740);Object.defineProperty(J,"retry",{enumerable:!0,get:function(){return to.retry}});var no=ee(264);Object.defineProperty(J,"retryWhen",{enumerable:!0,get:function(){return no.retryWhen}});var io=ee(5884);Object.defineProperty(J,"refCount",{enumerable:!0,get:function(){return io.refCount}});var oo=ee(6870);Object.defineProperty(J,"sample",{enumerable:!0,get:function(){return oo.sample}});var uo=ee(5411);Object.defineProperty(J,"sampleTime",{enumerable:!0,get:function(){return uo.sampleTime}});var so=ee(2457);Object.defineProperty(J,"scan",{enumerable:!0,get:function(){return so.scan}});var ao=ee(5109);Object.defineProperty(J,"sequenceEqual",{enumerable:!0,get:function(){return ao.sequenceEqual}});var co=ee(3329);Object.defineProperty(J,"share",{enumerable:!0,get:function(){return co.share}});var ho=ee(1738);Object.defineProperty(J,"shareReplay",{enumerable:!0,get:function(){return ho.shareReplay}});var po=ee(884);Object.defineProperty(J,"single",{enumerable:!0,get:function(){return po.single}});var vo=ee(4411);Object.defineProperty(J,"skip",{enumerable:!0,get:function(){return vo.skip}});var bo=ee(9355);Object.defineProperty(J,"skipLast",{enumerable:!0,get:function(){return bo.skipLast}});var _o=ee(2947);Object.defineProperty(J,"skipUntil",{enumerable:!0,get:function(){return _o.skipUntil}});var mo=ee(9842);Object.defineProperty(J,"skipWhile",{enumerable:!0,get:function(){return mo.skipWhile}});var wo=ee(2778);Object.defineProperty(J,"startWith",{enumerable:!0,get:function(){return wo.startWith}});var Eo=ee(4027);Object.defineProperty(J,"subscribeOn",{enumerable:!0,get:function(){return Eo.subscribeOn}});var Po=ee(9061);Object.defineProperty(J,"switchAll",{enumerable:!0,get:function(){return Po.switchAll}});var Fo=ee(6300);Object.defineProperty(J,"switchMap",{enumerable:!0,get:function(){return Fo.switchMap}});var To=ee(1933);Object.defineProperty(J,"switchMapTo",{enumerable:!0,get:function(){return To.switchMapTo}});var Mo=ee(1689);Object.defineProperty(J,"switchScan",{enumerable:!0,get:function(){return Mo.switchScan}});var ko=ee(6803);Object.defineProperty(J,"take",{enumerable:!0,get:function(){return ko.take}});var No=ee(787);Object.defineProperty(J,"takeLast",{enumerable:!0,get:function(){return No.takeLast}});var Co=ee(4811);Object.defineProperty(J,"takeUntil",{enumerable:!0,get:function(){return Co.takeUntil}});var Do=ee(7770);Object.defineProperty(J,"takeWhile",{enumerable:!0,get:function(){return Do.takeWhile}});var Lo=ee(9967);Object.defineProperty(J,"tap",{enumerable:!0,get:function(){return Lo.tap}});var qo=ee(6516);Object.defineProperty(J,"throttle",{enumerable:!0,get:function(){return qo.throttle}});var Bo=ee(5945);Object.defineProperty(J,"throttleTime",{enumerable:!0,get:function(){return Bo.throttleTime}});var Uo=ee(5956);Object.defineProperty(J,"throwIfEmpty",{enumerable:!0,get:function(){return Uo.throwIfEmpty}});var Wo=ee(9712);Object.defineProperty(J,"timeInterval",{enumerable:!0,get:function(){return Wo.timeInterval}});var Vo=ee(7517);Object.defineProperty(J,"timeout",{enumerable:!0,get:function(){return Vo.timeout}});var $o=ee(2001);Object.defineProperty(J,"timeoutWith",{enumerable:!0,get:function(){return $o.timeoutWith}});var zo=ee(8158);Object.defineProperty(J,"timestamp",{enumerable:!0,get:function(){return zo.timestamp}});var Ko=ee(2984);Object.defineProperty(J,"toArray",{enumerable:!0,get:function(){return Ko.toArray}});var gu=ee(5492);Object.defineProperty(J,"window",{enumerable:!0,get:function(){return gu.window}});var Fu=ee(6817);Object.defineProperty(J,"windowCount",{enumerable:!0,get:function(){return Fu.windowCount}});var Zu=ee(6841);Object.defineProperty(J,"windowTime",{enumerable:!0,get:function(){return Zu.windowTime}});var es=ee(4880);Object.defineProperty(J,"windowToggle",{enumerable:!0,get:function(){return es.windowToggle}});var ts=ee(3016);Object.defineProperty(J,"windowWhen",{enumerable:!0,get:function(){return ts.windowWhen}});var rs=ee(9163);Object.defineProperty(J,"withLatestFrom",{enumerable:!0,get:function(){return rs.withLatestFrom}});var ns=ee(2681);Object.defineProperty(J,"zip",{enumerable:!0,get:function(){return ns.zip}});var is=ee(5606);Object.defineProperty(J,"zipAll",{enumerable:!0,get:function(){return is.zipAll}});var os=ee(973);Object.defineProperty(J,"zipWith",{enumerable:!0,get:function(){return os.zipWith}})},573:U=>{U.exports=ee(3976)},5086:U=>{U.exports=ee(5431)}},Se={};function r(J){var ee=Se[J];if(void 0!==ee)return ee.exports;var we=Se[J]={exports:{}};return U[J].call(we.exports,we,we.exports,r),we.exports}r.d=(U,J)=>{for(var ee in J)r.o(J,ee)&&!r.o(U,ee)&&Object.defineProperty(U,ee,{enumerable:!0,get:J[ee]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(U){if("object"==typeof window)return window}}(),r.o=(U,J)=>Object.prototype.hasOwnProperty.call(U,J),r.r=U=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var we={};r.r(we),r.d(we,{AI_CHAT_MODEL_NAMES:()=>Gt,AI_EMBEDDINGS_MODEL_NAMES:()=>Yr,AI_IMAGE_MODEL_NAMES:()=>tn,ALL_OPERATORS:()=>fn,ANTHROPIC_CHAT_MODEL_NAMES:()=>Yt,AiAssistantClient:()=>i,AiChatbotChatContext:()=>Pe,AiChatbotClient:()=>V,AiChatbotClientFactory:()=>H,AiChatbotContextReference:()=>W,AiChatbotInstructionReference:()=>z,AiChatbotProfileReference:()=>$,AiClient:()=>K,AiImageClient:()=>G,ApiClient:()=>Z,ApiKeysSecretClient:()=>pr,AuthManager:()=>X,BackendFunctionManager:()=>ge,BaseQueryBuilder:()=>Je,Changes:()=>et,ClientConnectionState:()=>pn,ClientIdService:()=>Oe,CollectionReference:()=>ut,CollectionReferenceFactory:()=>lt,ConnectionDetails:()=>dt,CronExpression:()=>rn,DEFAULT_SHORT_ID_LENGTH:()=>$e,DataManager:()=>mt,DestructManager:()=>Ot,DistributedLockImpl:()=>wt,DistributedLockManager:()=>St,DocumentReference:()=>He,DocumentReferenceFactory:()=>Mt,DocumentStore:()=>Et,ENVIRONMENT_IDS:()=>nn,ExtractionClient:()=>Sr,FETCH_BEYOND_LIMIT:()=>An,GEMINI_CHAT_MODEL_NAMES:()=>Ht,HttpStatus:()=>un,IntegrationSchemaType:()=>an,IntegrationType:()=>sn,JoinQueryBuilder:()=>tt,LIMIT_UNDERFLOW_TRIGGER:()=>Fn,LimitUnderflowState:()=>gn,LocalQueryManager:()=>Bt,METRIC_TYPES:()=>cn,MUTATION_TYPES:()=>ln,MutationSender:()=>Tt,NOOP_FN:()=>br,NativeQueryManager:()=>At,OPENAI_CHAT_MODEL_NAMES:()=>Vt,OPENAI_EMBEDDINGS_MODEL_NAMES:()=>gr,OPENAI_IMAGE_MODEL_NAMES:()=>Jr,ObservabilityClient:()=>hr,Pagination:()=>Ge,QueryBuilder:()=>Xe,QueryBuilderFactory:()=>Ke,QuerySender:()=>Qt,QuerySubscriptionManager:()=>Kt,QueueManagerFactory:()=>er,QueueManagerImpl:()=>rr,RateLimiter:()=>nr,RpcError:()=>ur,RpcManager:()=>dr,SQUID_REGIONS:()=>dn,STABLE_DIFFUSION_MODEL_NAMES:()=>en,SUPPORTED_SQUID_REGIONS:()=>hn,SecretClient:()=>fr,SocketManager:()=>mr,Squid:()=>wr,StorageClient:()=>Or,allEnvironmentIds:()=>on,deserializeQuery:()=>Ft,generateId:()=>L,generateShortId:()=>Q,isSimpleCondition:()=>Be,rawSquidHttpPost:()=>cr,tryDeserializing:()=>lr});class i{constructor(U){this.rpcManager=U}async createAssistant(U,J,ee,Se){const we={name:U,instructions:J,functions:ee,toolTypes:Se};return(await this.rpcManager.post("ai/assistant/createAssistant",we)).assistantId}async deleteAssistant(U){const J={assistantId:U};await this.rpcManager.post("ai/assistant/deleteAssistant",J)}async createThread(U){const J={assistantId:U};return(await this.rpcManager.post("ai/assistant/createThread",J)).threadId}async deleteThread(U){const J={threadId:U};await this.rpcManager.post("ai/assistant/deleteThread",J)}async queryAssistant(U,J,ee,Se,we){const Ee={assistantId:U,threadId:J,prompt:ee,fileIds:Se,options:we};return(await this.rpcManager.post("ai/assistant/queryAssistant",Ee)).answer}async addFileToAssistant(U,J){const ee={assistantId:U};return(await this.rpcManager.post("ai/assistant/addFileToAssistant",ee,[J],"file")).fileId}async removeFileFromAssistant(U,J){const ee={assistantId:U,fileId:J};await this.rpcManager.post("ai/assistant/removeFileFromAssistant",ee)}async addFileToThread(U,J){const ee={threadId:U};return(await this.rpcManager.post("ai/assistant/addFileToThread",ee,[J],"file")).fileId}}var Ee=r(573);function s(U){return"function"==typeof U}function a(U){return function(J){if(function(U){return s(null==U?void 0:U.lift)}(J))return J.lift((function(J){try{return U(J,this)}catch(U){this.error(U)}}));throw new TypeError("Unable to lift unknown Observable type")}}var u=function(U,J){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},u(U,J)};function c(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function r(){this.constructor=U}u(U,J),U.prototype=null===J?Object.create(J):(r.prototype=J.prototype,new r)}function l(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je}function h(U,J,ee){if(ee||2===arguments.length)for(var Se,we=0,Ee=J.length;we<Ee;we++)!Se&&we in J||(Se||(Se=Array.prototype.slice.call(J,0,we)),Se[we]=J[we]);return U.concat(Se||Array.prototype.slice.call(J))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var je,Ae,Fe=(je=function(U){return function(J){U(this),this.message=J?J.length+" errors occurred during unsubscription:\n"+J.map((function(U,J){return J+1+") "+U.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=J}},(Ae=je((function(U){Error.call(U),U.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae);function y(U,J){if(U){var ee=U.indexOf(J);0<=ee&&U.splice(ee,1)}}var xe=function(){function e(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}var U;return e.prototype.unsubscribe=function(){var U,J,ee,Se,we;if(!this.closed){this.closed=!0;var Ee=this._parentage;if(Ee)if(this._parentage=null,Array.isArray(Ee))try{for(var je=l(Ee),Ae=je.next();!Ae.done;Ae=je.next())Ae.value.remove(this)}catch(J){U={error:J}}finally{try{Ae&&!Ae.done&&(J=je.return)&&J.call(je)}finally{if(U)throw U.error}}else Ee.remove(this);var xe=this.initialTeardown;if(s(xe))try{xe()}catch(U){we=U instanceof Fe?U.errors:[U]}var Te=this._finalizers;if(Te){this._finalizers=null;try{for(var Ie=l(Te),ke=Ie.next();!ke.done;ke=Ie.next()){var Ce=ke.value;try{g(Ce)}catch(U){we=null!=we?we:[],U instanceof Fe?we=h(h([],d(we)),d(U.errors)):we.push(U)}}}catch(U){ee={error:U}}finally{try{ke&&!ke.done&&(Se=Ie.return)&&Se.call(Ie)}finally{if(ee)throw ee.error}}}if(we)throw new Fe(we)}},e.prototype.add=function(U){var J;if(U&&U!==this)if(this.closed)g(U);else{if(U instanceof e){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(U)}},e.prototype._hasParent=function(U){var J=this._parentage;return J===U||Array.isArray(J)&&J.includes(U)},e.prototype._addParent=function(U){var J=this._parentage;this._parentage=Array.isArray(J)?(J.push(U),J):J?[J,U]:U},e.prototype._removeParent=function(U){var J=this._parentage;J===U?this._parentage=null:Array.isArray(J)&&y(J,U)},e.prototype.remove=function(U){var J=this._finalizers;J&&y(J,U),U instanceof e&&U._removeParent(this)},e.EMPTY=((U=new e).closed=!0,U),e}();function g(U){s(U)?U():U.unsubscribe()}xe.EMPTY;var Te={setTimeout:function(U,J){for(var ee=[],Se=2;Se<arguments.length;Se++)ee[Se-2]=arguments[Se];var we=Te.delegate;return(null==we?void 0:we.setTimeout)?we.setTimeout.apply(we,h([U,J],d(ee))):setTimeout.apply(void 0,h([U,J],d(ee)))},clearTimeout:function(U){var J=Te.delegate;return((null==J?void 0:J.clearTimeout)||clearTimeout)(U)},delegate:void 0};function I(){}var Ie=E("C",void 0,void 0);function E(U,J,ee){return{kind:U,value:J,error:ee}}var ke=function(U){function t(J){var ee,Se=U.call(this)||this;return Se.isStopped=!1,J?(Se.destination=J,((ee=J)instanceof xe||ee&&"closed"in ee&&s(ee.remove)&&s(ee.add)&&s(ee.unsubscribe))&&J.add(Se)):Se.destination=Re,Se}return c(t,U),t.create=function(U,J,ee){return new De(U,J,ee)},t.prototype.next=function(U){this.isStopped?C(function(U){return E("N",U,void 0)}(U),this):this._next(U)},t.prototype.error=function(U){this.isStopped?C(E("E",void 0,U),this):(this.isStopped=!0,this._error(U))},t.prototype.complete=function(){this.isStopped?C(Ie,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,U.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(U){this.destination.next(U)},t.prototype._error=function(U){try{this.destination.error(U)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xe);Function.prototype.bind;var Ce=function(){function e(U){this.partialObserver=U}return e.prototype.next=function(U){var J=this.partialObserver;if(J.next)try{J.next(U)}catch(U){D(U)}},e.prototype.error=function(U){var J=this.partialObserver;if(J.error)try{J.error(U)}catch(U){D(U)}else D(U)},e.prototype.complete=function(){var U=this.partialObserver;if(U.complete)try{U.complete()}catch(U){D(U)}},e}(),De=function(U){function t(J,ee,Se){var we,Ee=U.call(this)||this;return we=s(J)||!J?{next:null!=J?J:void 0,error:null!=ee?ee:void 0,complete:null!=Se?Se:void 0}:J,Ee.destination=new Ce(we),Ee}return c(t,U),t}(ke);function D(U){!function(U){Te.setTimeout((function(){throw U}))}(U)}function C(U,J){var ee=null;ee&&Te.setTimeout((function(){return ee(U,J)}))}var Re={closed:!0,next:I,error:function(U){throw U},complete:I};function k(U,J,ee,Se,we){return new Le(U,J,ee,Se,we)}var Le=function(U){function t(J,ee,Se,we,Ee,je){var Ae=U.call(this,J)||this;return Ae.onFinalize=Ee,Ae.shouldUnsubscribe=je,Ae._next=ee?function(U){try{ee(U)}catch(U){J.error(U)}}:U.prototype._next,Ae._error=we?function(U){try{we(U)}catch(U){J.error(U)}finally{this.unsubscribe()}}:U.prototype._error,Ae._complete=Se?function(){try{Se()}catch(U){J.error(U)}finally{this.unsubscribe()}}:U.prototype._complete,Ae}return c(t,U),t.prototype.unsubscribe=function(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ee=this.closed;U.prototype.unsubscribe.call(this),!ee&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}},t}(ke);function N(U,J){return a((function(ee,Se){var we=0;ee.subscribe(k(Se,(function(ee){Se.next(U.call(J,ee,we++))})))}))}var qe=r(5036);function L(){let U=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(J){const ee=(U+16*Math.random())%16|0;return U=Math.floor(U/16),("x"===J?ee:3&ee|8).toString(16)}))}const $e=18,ht="abcdefghijklmnopqrstuvwxyz0123456789";function Q(U=$e,J=""){(0,qe.assertTruthy)(J.length<U,"ID prefix is too long");let ee="";for(let J=0;J<U;J++)ee+=ht.charAt(Math.floor(Math.random()*ht.length));return J.length>0&&(ee=J+ee.substring(J.length)),ee}const _t={smoothTyping:!0,disableHistory:!1,includeReference:!1,responseFormat:"text"};class V{constructor(U,J,ee){this.rpcManager=U,this.socketManager=J,this.integrationId=ee,this.ongoingChatSequences={},this.socketManager.observeNotifications().pipe((0,Ee.filter)((U=>"aiChatbot"===U.type)),N((U=>U))).subscribe((U=>{this.handleChatResponse(U).then()}))}profile(U){return new $(this,this.integrationId,U)}async mutate(U,J){await this.rpcManager.post("ai/chatbot/mutate",U,J?[J]:[])}chat(U,J,ee){const Se=L(),we=void 0===(ee=Object.assign(Object.assign({},_t),ee||{})).smoothTyping||ee.smoothTyping;let je="";const Ae=new Ee.Subject,Fe=new Ee.Subject;this.ongoingChatSequences[Se]=Fe;let xe=-1;Fe.pipe((0,Ee.tap)((({tokenIndex:U})=>{void 0!==U&&U<xe&&console.warn("Received token index out of order",U,xe),void 0!==U&&(xe=U)})),(0,Ee.concatMap)((({value:U,complete:J})=>J?(0,Ee.of)({value:U,complete:J}):(0,Ee.of)(U).pipe(we?(0,Ee.delay)(0):(0,Ee.tap)(),N((U=>({value:U,complete:!1})))))),(0,Ee.takeWhile)((({complete:U})=>!U),!0)).subscribe({next:({value:U})=>{je+=U,Ae.next(je)},error:U=>{console.error(U)},complete:()=>{Ae.complete()}});const Te={profileId:U,prompt:J,options:ee,integrationId:this.integrationId,clientRequestId:Se};return this.rpcManager.post("ai/chatbot/chat",Te).catch((U=>{Ae.error(U),Ae.complete()})),Ae.pipe((0,Ee.finalize)((()=>{delete this.ongoingChatSequences[Se]})),(0,Ee.share)())}ask(U,J,ee){return(0,Ee.lastValueFrom)(this.chat(U,J,Object.assign(Object.assign({},ee||{}),{smoothTyping:!1})))}async handleChatResponse(U){const J=this.ongoingChatSequences[U.clientRequestId];if(!J)return;const{token:ee,complete:Se,tokenIndex:we}=U.payload;if(Se&&!ee.length)J.next({value:"",complete:!0,tokenIndex:void 0});else if(ee.match(/\[.*?]\((.*?)\)/g))J.next({value:ee,complete:Se,tokenIndex:void 0===we?void 0:we});else for(let U=0;U<ee.length;U++)J.next({value:ee[U],complete:Se&&U===ee.length-1,tokenIndex:void 0===we?void 0:we})}}class ${constructor(U,J,ee){this.client=U,this.integrationId=J,this.profileId=ee}chat(U,J){return this.client.chat(this.profileId,U,J)}ask(U,J){return this.client.ask(this.profileId,U,J)}context(U){return new W(this.client,this.integrationId,this.profileId,U)}instruction(U){return new z(this.client,this.integrationId,this.profileId,U)}insert(U){const{modelName:J,isPublic:ee=!1}=U,Se={type:"insert",resource:"profile",profileId:this.profileId,payload:{modelName:J,isPublic:ee,strictContext:!1},integrationId:this.integrationId};return this.client.mutate(Se)}update(U){const{modelName:J,isPublic:ee}=U,Se={type:"update",resource:"profile",profileId:this.profileId,payload:{modelName:J,isPublic:ee,strictContext:!1},integrationId:this.integrationId};return this.client.mutate(Se)}delete(){const U={type:"delete",resource:"profile",profileId:this.profileId,integrationId:this.integrationId,payload:{}};return this.client.mutate(U)}}class W{constructor(U,J,ee,Se){this.client=U,this.integrationId=J,this.profileId=ee,this.id=Se||L()}insert(U,J){const{title:ee,context:Se}=U,we={type:"insert",resource:"context",profileId:this.profileId,integrationId:this.integrationId,payload:{id:this.id,title:ee,context:Se}};return this.client.mutate(we,J)}update(U){const{title:J,context:ee}=U,Se={type:"update",resource:"context",profileId:this.profileId,integrationId:this.integrationId,payload:{id:this.id,title:J,context:ee}};return this.client.mutate(Se)}delete(){const U={type:"delete",resource:"context",profileId:this.profileId,integrationId:this.integrationId,payload:{id:this.id}};return this.client.mutate(U)}}class z{constructor(U,J,ee,Se){this.client=U,this.integrationId=J,this.profileId=ee,this.id=Se||L()}insert(U){const{instruction:J}=U,ee={type:"insert",resource:"instruction",profileId:this.profileId,integrationId:this.integrationId,payload:{id:this.id,instruction:J}};return this.client.mutate(ee)}update(U){const{instruction:J}=U,ee={type:"update",resource:"instruction",profileId:this.profileId,integrationId:this.integrationId,payload:{id:this.id,instruction:J}};return this.client.mutate(ee)}delete(){const U={type:"delete",resource:"instruction",profileId:this.profileId,integrationId:this.integrationId,payload:{id:this.id}};return this.client.mutate(U)}}class H{constructor(U,J){this.rpcManager=U,this.socketManager=J,this.chatbotsMap=new Map}getChatbot(U){let J=this.chatbotsMap.get(U);return J||(J=new V(this.rpcManager,this.socketManager,U),this.chatbotsMap.set(U,J),J)}}class G{constructor(U){this.rpcManager=U}async generate(U,J){const ee={prompt:U,options:J};return this.rpcManager.post("ai/image/generate",ee)}}class K{constructor(U,J){this.aiChatbotClientFactory=U,this.rpcManager=J,this.aiAssistantClient=new i(this.rpcManager)}chatbot(U){return this.aiChatbotClientFactory.getChatbot(U)}assistant(){return this.aiAssistantClient}image(){return new G(this.rpcManager)}executeAiQuery(U,J){const ee={integrationId:U,prompt:J};return this.rpcManager.post("aiData/executeAiQuery",ee)}}const gt={headers:{},queryParams:{},pathParams:{}};class Z{constructor(U){this.rpcManager=U}async get(U,J,ee){return this.request(U,J,void 0,ee,"get")}async post(U,J,ee,Se){return this.request(U,J,ee,Se,"post")}async delete(U,J,ee,Se){return this.request(U,J,ee,Se,"delete")}async patch(U,J,ee,Se){return this.request(U,J,ee,Se,"patch")}async put(U,J,ee,Se){return this.request(U,J,ee,Se,"put")}async request(U,J,ee,Se,we){const Ee={integrationId:U,endpointId:J,body:ee,options:Object.assign(Object.assign({},gt),this.convertOptionsToStrings(Se||{})),overrideMethod:we};return await this.rpcManager.rawPost("api/callApi",Ee,void 0,void 0,!1)}convertOptionsToStrings(U){return{headers:this.convertToStrings(U.headers),queryParams:this.convertToStrings(U.queryParams),pathParams:this.convertToStrings(U.pathParams)}}convertToStrings(U){if(!U)return{};const J=Object.entries(U).filter((([,U])=>void 0!==U)).map((([U,J])=>[U,String(J)]));return Object.fromEntries(J)}}class X{constructor(U,J){this.apiKey=U,this.authProvider=J}setAuthProvider(U){this.authProvider=U}async getAuthData(){var U;return{token:await this.getTokenFromAuthProvider(),integrationId:null===(U=this.authProvider)||void 0===U?void 0:U.integrationId}}async getTokenFromAuthProvider(){var U;const J=null===(U=this.authProvider)||void 0===U?void 0:U.getToken();return"object"==typeof J?await J:J}getApiKey(){return this.apiKey}async getToken(){var U;if(this.apiKey)return{type:"ApiKey",token:this.apiKey};const J=await this.getTokenFromAuthProvider();return J?{type:"Bearer",token:J,integrationId:null===(U=this.authProvider)||void 0===U?void 0:U.integrationId}:void 0}}const Dt=/[.\[\]]/;function te(U,J){if(!U)return;const ee=J.split(Dt);let Se,we=U;for(;we&&ee.length;){const U=ee.shift();if(U){if("object"!=typeof we||!(U in we))return;Se=we[U],we=Se}}return Se}function re(U){return null!==U&&"object"==typeof U&&!Array.isArray(U)}function ne(U,J,ee,Se="."){var we;const Ee=J.split(Se);let je=U;for(;Ee.length;){const U=(0,qe.truthy)(Ee.shift());if(Ee.length){const J=je[U],ee=re(J)&&null!==(we=le(J))&&void 0!==we?we:{};je[U]=ee,je=ee}else je[U]=ee}}function ie(U,J,ee="."){var Se;const we=J.split(ee);let Ee=U;for(;we.length;){const U=(0,qe.truthy)(we.shift());if(we.length){const J=re(Ee[U])&&null!==(Se=le(Ee[U]))&&void 0!==Se?Se:{};Ee[U]=J,Ee=J}else delete Ee[U]}}function oe(U,J,ee){if(U.has(J)){const Se=U.get(J);U.delete(J),U.set(ee,Se)}}function se(U){return null==U}function ae(U,J){if(U===J)return!0;if(null===U||null===J)return!1;const ee=typeof U;if(ee!==typeof J)return!1;if("object"!==ee)return U===J;if(U instanceof Date&&J instanceof Date)return U.getTime()===J.getTime();const Se=Object.keys(U),we=Object.keys(J);if(Se.length!==we.length)return!1;for(const ee of Se)if(!we.includes(ee)||!ae(U[ee],J[ee]))return!1;return!0}function ue(U,J){const ee=new Array(U.length);for(let Se=0;Se<U.length;Se++)ee[Se]=ce(U[Se],J);return ee}function ce(U,J){const ee=J?J(U):void 0;if(void 0!==ee)return ee;if("object"!=typeof U||null===U)return U;if(U instanceof Date)return new Date(U);if(Array.isArray(U))return ue(U,J);if(U instanceof Map)return new Map(ue(Array.from(U),J));if(U instanceof Set)return new Set(ue(Array.from(U),J));if(ArrayBuffer.isView(U))return(Se=U)instanceof Buffer?Buffer.from(Se):new Se.constructor(Se.buffer.slice(),Se.byteOffset,Se.length);var Se;const we={};for(const ee in U)Object.hasOwnProperty.call(U,ee)&&(we[ee]=ce(U[ee],J));return we}function le(U){return"object"!=typeof U||null===U?U:U instanceof Date?new Date(U):Array.isArray(U)?[...U]:U instanceof Map?new Map(Array.from(U)):U instanceof Set?new Set(Array.from(U)):Object.assign({},U)}function de(U,J){if(U===J||se(U)&&se(J))return 0;if(se(U))return-1;if(se(J))return 1;const ee=typeof U,Se=typeof J;return ee!==Se?ee<Se?-1:1:"number"==typeof U?((0,qe.assertTruthy)("number"==typeof J),isNaN(U)&&isNaN(J)?0:isNaN(U)?-1:isNaN(J)?1:U<J?-1:1):"boolean"==typeof U?((0,qe.assertTruthy)("boolean"==typeof J),U<J?-1:1):"bigint"==typeof U?((0,qe.assertTruthy)("bigint"==typeof J),U<J?-1:1):"string"==typeof U?((0,qe.assertTruthy)("string"==typeof J),U<J?-1:1):U instanceof Date&&J instanceof Date?Math.sign(U.getTime()-J.getTime()):0}function he(U,J){return U.reduce(((U,ee)=>{const Se=J(ee);return U[Se]?U[Se].push(ee):U[Se]=[ee],U}),{})}function fe(U){if(Array.isArray(U))return U.map((U=>fe(U)));if("object"!=typeof U||null===U||U instanceof Date)return U;const J=Object.keys(U),ee={};return J.sort().forEach((J=>{ee[J]=fe(U[J])})),ee}function pe(U){return be(fe(U))}function be(U){if(void 0===U)return null;const J=ce(U,(U=>function(U){return"[object Date]"===Object.prototype.toString.call(U)}(U)?{$date:U.toISOString()}:void 0));return JSON.stringify(J)}function ye(U){return ce(JSON.parse(U),(U=>{if(null===U||"object"!=typeof U)return;const J=U,ee=J.$date;return ee&&1===Object.keys(J).length?new Date(ee):void 0}))}function ve(U){if(void 0===U)throw new Error("INVALID_ENCODE_VALUE");const J=be(U);if("undefined"!=typeof Buffer)return Buffer.from(J,"utf8").toString("base64");{const U=(new TextEncoder).encode(J);let ee="";for(let J=0;J<U.length;J++)ee+=String.fromCharCode(U[J]);return btoa(ee)}}class ge{constructor(U,J){this.clientIdService=U,this.rpcManager=J}executeFunctionAndSubscribe(U,...J){const ee=[],Se=[];J.forEach((U=>{"undefined"!=typeof File&&U instanceof File?ee.push(U):Se.push(U)}));const we={functionName:U,paramsArrayStr:be(Se)},je=`backend-function/execute?${encodeURIComponent(U)}`;return(0,Ee.race)((0,Ee.from)(this.rpcManager.post(je,we,ee.length>0?ee:[])).pipe(N((U=>{if(!U.success)throw new Error(U.payload);return ye(U.payload)}))),this.clientIdService.observeClientTooOld().pipe(N((()=>{throw new Error("CLIENT_NOT_CONNECTED")}))))}}function me(){if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;if("undefined"!=typeof self)return self;throw new Error("Unable to locate global object")}class _e{static log(...U){_e.info(...U)}static info(...U){console.log(`%c[${_e.getTimestampString()}] INFO`,"color:green",...U)}static warn(...U){console.warn(`%c[${_e.getTimestampString()}] WARN`,"color:yellow",...U)}static error(...U){console.error(`%c[${_e.getTimestampString()}] ERROR`,"color:red",...U)}static debug(...U){(function(){const U=me();return U&&U.SQUID_DEBUG_ENABLED})()&&console.log(`%c[${_e.getTimestampString()}] DEBUG`,"color:cyan",...U)}static getTimestampString(){const U=new Date;return`${U.toLocaleTimeString()}.${U.getMilliseconds()}`}}class Oe{constructor(U){this.destructManager=U,this.clientTooOldSubject=new Ee.BehaviorSubject(!1),this.isTenant=!0===me().squidTenant,this.clientIdSubject=new Ee.BehaviorSubject(this.generateClientId()),this.destructManager.onDestruct((()=>{this.clientTooOldSubject.complete(),this.clientIdSubject.complete()}))}observeClientId(){return this.clientIdSubject}observeClientTooOld(){return this.clientTooOldSubject.pipe((0,Ee.filter)((U=>U)),(0,Ee.map)((()=>{})))}notifyClientTooOld(){this.clientTooOldSubject.next(!0),this.clientIdSubject.next(this.generateClientId())}notifyClientNotTooOld(){this.clientTooOldSubject.next(!1)}observeClientReadyToBeRegenerated(){return this.clientTooOldSubject.pipe((0,Ee.skip)(1),(0,Ee.filter)((U=>!U)),(0,Ee.map)((()=>{})))}getClientId(){return this.clientIdSubject.value}isClientTooOld(){return this.clientTooOldSubject.value}generateClientId(){return`${this.isTenant?"tenant-":""}${L()}`}}const Vt=["gpt-3.5-turbo","gpt-3.5-turbo-1106","gpt-4","gpt-4-turbo-preview","gpt-4o","gpt-4o-mini","gpt-4-turbo"],Ht=["gemini-pro"],Yt=["claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307","claude-3-5-sonnet-20240620"],Gt=[...Vt,...Yt,...Ht],gr=["text-embedding-3-small","text-embedding-3-large","text-embedding-ada-002"],Yr=[...gr],Jr=["dall-e-3"],en=["stable-diffusion-core"],tn=[...Jr,...en];class Pe{constructor(U){this.profileId=U.profileId,this.prompt=U.prompt}}var rn;!function(U){U.EVERY_SECOND="* * * * * *",U.EVERY_5_SECONDS="*/5 * * * * *",U.EVERY_10_SECONDS="*/10 * * * * *",U.EVERY_30_SECONDS="*/30 * * * * *",U.EVERY_MINUTE="*/1 * * * *",U.EVERY_5_MINUTES="0 */5 * * * *",U.EVERY_10_MINUTES="0 */10 * * * *",U.EVERY_30_MINUTES="0 */30 * * * *",U.EVERY_HOUR="0 0-23/1 * * *",U.EVERY_2_HOURS="0 0-23/2 * * *",U.EVERY_3_HOURS="0 0-23/3 * * *",U.EVERY_4_HOURS="0 0-23/4 * * *",U.EVERY_5_HOURS="0 0-23/5 * * *",U.EVERY_6_HOURS="0 0-23/6 * * *",U.EVERY_7_HOURS="0 0-23/7 * * *",U.EVERY_8_HOURS="0 0-23/8 * * *",U.EVERY_9_HOURS="0 0-23/9 * * *",U.EVERY_10_HOURS="0 0-23/10 * * *",U.EVERY_11_HOURS="0 0-23/11 * * *",U.EVERY_12_HOURS="0 0-23/12 * * *",U.EVERY_DAY_AT_1AM="0 01 * * *",U.EVERY_DAY_AT_2AM="0 02 * * *",U.EVERY_DAY_AT_3AM="0 03 * * *",U.EVERY_DAY_AT_4AM="0 04 * * *",U.EVERY_DAY_AT_5AM="0 05 * * *",U.EVERY_DAY_AT_6AM="0 06 * * *",U.EVERY_DAY_AT_7AM="0 07 * * *",U.EVERY_DAY_AT_8AM="0 08 * * *",U.EVERY_DAY_AT_9AM="0 09 * * *",U.EVERY_DAY_AT_10AM="0 10 * * *",U.EVERY_DAY_AT_11AM="0 11 * * *",U.EVERY_DAY_AT_NOON="0 12 * * *",U.EVERY_DAY_AT_1PM="0 13 * * *",U.EVERY_DAY_AT_2PM="0 14 * * *",U.EVERY_DAY_AT_3PM="0 15 * * *",U.EVERY_DAY_AT_4PM="0 16 * * *",U.EVERY_DAY_AT_5PM="0 17 * * *",U.EVERY_DAY_AT_6PM="0 18 * * *",U.EVERY_DAY_AT_7PM="0 19 * * *",U.EVERY_DAY_AT_8PM="0 20 * * *",U.EVERY_DAY_AT_9PM="0 21 * * *",U.EVERY_DAY_AT_10PM="0 22 * * *",U.EVERY_DAY_AT_11PM="0 23 * * *",U.EVERY_DAY_AT_MIDNIGHT="0 0 * * *",U.EVERY_WEEK="0 0 * * 7",U.EVERY_WEEKDAY="0 0 * * 1-5",U.EVERY_WEEKEND="0 0 * * 6,7",U.EVERY_1ST_DAY_OF_MONTH_AT_MIDNIGHT="0 0 1 * *",U.EVERY_1ST_DAY_OF_MONTH_AT_NOON="0 12 1 * *",U.EVERY_2ND_HOUR="0 */2 * * *",U.EVERY_2ND_HOUR_FROM_1AM_THROUGH_11PM="0 1-23/2 * * *",U.EVERY_2ND_MONTH="0 0 1 */2 *",U.EVERY_QUARTER="0 0 1 */3 *",U.EVERY_6_MONTHS="0 0 1 */6 *",U.EVERY_YEAR="0 0 1 1 *",U.EVERY_30_MINUTES_BETWEEN_9AM_AND_5PM="0 */30 9-17 * * *",U.EVERY_30_MINUTES_BETWEEN_9AM_AND_6PM="0 */30 9-18 * * *",U.EVERY_30_MINUTES_BETWEEN_10AM_AND_7PM="0 */30 10-19 * * *",U.MONDAY_TO_FRIDAY_AT_1AM="0 0 01 * * 1-5",U.MONDAY_TO_FRIDAY_AT_2AM="0 0 02 * * 1-5",U.MONDAY_TO_FRIDAY_AT_3AM="0 0 03 * * 1-5",U.MONDAY_TO_FRIDAY_AT_4AM="0 0 04 * * 1-5",U.MONDAY_TO_FRIDAY_AT_5AM="0 0 05 * * 1-5",U.MONDAY_TO_FRIDAY_AT_6AM="0 0 06 * * 1-5",U.MONDAY_TO_FRIDAY_AT_7AM="0 0 07 * * 1-5",U.MONDAY_TO_FRIDAY_AT_8AM="0 0 08 * * 1-5",U.MONDAY_TO_FRIDAY_AT_9AM="0 0 09 * * 1-5",U.MONDAY_TO_FRIDAY_AT_09_30AM="0 30 09 * * 1-5",U.MONDAY_TO_FRIDAY_AT_10AM="0 0 10 * * 1-5",U.MONDAY_TO_FRIDAY_AT_11AM="0 0 11 * * 1-5",U.MONDAY_TO_FRIDAY_AT_11_30AM="0 30 11 * * 1-5",U.MONDAY_TO_FRIDAY_AT_12PM="0 0 12 * * 1-5",U.MONDAY_TO_FRIDAY_AT_1PM="0 0 13 * * 1-5",U.MONDAY_TO_FRIDAY_AT_2PM="0 0 14 * * 1-5",U.MONDAY_TO_FRIDAY_AT_3PM="0 0 15 * * 1-5",U.MONDAY_TO_FRIDAY_AT_4PM="0 0 16 * * 1-5",U.MONDAY_TO_FRIDAY_AT_5PM="0 0 17 * * 1-5",U.MONDAY_TO_FRIDAY_AT_6PM="0 0 18 * * 1-5",U.MONDAY_TO_FRIDAY_AT_7PM="0 0 19 * * 1-5",U.MONDAY_TO_FRIDAY_AT_8PM="0 0 20 * * 1-5",U.MONDAY_TO_FRIDAY_AT_9PM="0 0 21 * * 1-5",U.MONDAY_TO_FRIDAY_AT_10PM="0 0 22 * * 1-5",U.MONDAY_TO_FRIDAY_AT_11PM="0 0 23 * * 1-5"}(rn||(rn={}));const nn=["dev","prod"],on=[...nn];var un,sn,an;!function(U){U[U.CONTINUE=100]="CONTINUE",U[U.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",U[U.PROCESSING=102]="PROCESSING",U[U.EARLYHINTS=103]="EARLYHINTS",U[U.OK=200]="OK",U[U.CREATED=201]="CREATED",U[U.ACCEPTED=202]="ACCEPTED",U[U.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",U[U.NO_CONTENT=204]="NO_CONTENT",U[U.RESET_CONTENT=205]="RESET_CONTENT",U[U.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",U[U.AMBIGUOUS=300]="AMBIGUOUS",U[U.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",U[U.FOUND=302]="FOUND",U[U.SEE_OTHER=303]="SEE_OTHER",U[U.NOT_MODIFIED=304]="NOT_MODIFIED",U[U.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",U[U.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",U[U.BAD_REQUEST=400]="BAD_REQUEST",U[U.UNAUTHORIZED=401]="UNAUTHORIZED",U[U.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",U[U.FORBIDDEN=403]="FORBIDDEN",U[U.NOT_FOUND=404]="NOT_FOUND",U[U.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",U[U.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",U[U.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",U[U.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",U[U.CONFLICT=409]="CONFLICT",U[U.GONE=410]="GONE",U[U.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",U[U.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",U[U.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",U[U.URI_TOO_LONG=414]="URI_TOO_LONG",U[U.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",U[U.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",U[U.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",U[U.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",U[U.MISDIRECTED=421]="MISDIRECTED",U[U.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",U[U.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",U[U.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",U[U.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",U[U.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",U[U.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",U[U.BAD_GATEWAY=502]="BAD_GATEWAY",U[U.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",U[U.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",U[U.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(un||(un={})),function(U){U.built_in_db="built_in_db",U.mongo="mongo",U.mysql="mysql",U.clickhouse="clickhouse",U.mssql="mssql",U.postgres="postgres",U.cockroach="cockroach",U.api="api",U.graphql="graphql",U.snowflake="snowflake",U.datadog="datadog",U.newrelic="newrelic",U.auth0="auth0",U.jwt_rsa="jwt_rsa",U.jwt_hmac="jwt_hmac",U.ai_chatbot="ai_chatbot",U.cognito="cognito",U.okta="okta",U.descope="descope",U.firebase_auth="firebase_auth",U.kafka="kafka",U.confluent="confluent",U.built_in_queue="built_in_queue",U.s3="s3",U.gcs="gcs",U.built_in_s3="built_in_s3",U.built_in_gcs="built_in_gcs",U.algolia="algolia",U.elastic_observability="elastic_observability",U.elastic_search="elastic_search",U.elastic_enterprise_search="elastic_enterprise_search",U.sentry="sentry",U.sap_hana="sap_hana",U.salesforce_crm="salesforce_crm",U.documentdb="documentdb",U.dynamodb="dynamodb",U.cassandra="cassandra",U.alloydb="alloydb",U.spanner="spanner",U.db2="db2",U.mariadb="mariadb",U.oracledb="oracledb",U.redis="redis",U.xata="xata",U.azure_sql="azure_sql",U.azure_postgresql="azure_postgresql",U.azure_cosmosdb="azure_cosmosdb",U.firestore="firestore",U.bigquery="bigquery",U.cloudsql="cloudsql",U.slack="slack",U.hubspot="hubspot",U.monday="monday",U.google_docs="google_docs",U.onedrive="onedrive",U.zendesk="zendesk",U.linear="linear",U.pinecone="pinecone"}(sn||(sn={})),function(U){U.data="data",U.api="api",U.graphql="graphql"}(an||(an={}));const cn=["gauge","count"],ln=["insert","update","delete"];function Be(U){return"fieldName"in U}const fn=["==","!=",">=","<=",">","<","like","not like","like_cs","not like_cs","array_includes_some","array_includes_all","array_not_includes"],dn=["us-east-1.aws","ap-south-1.aws","us-central1.gcp"],hn=dn;var pn;!function(U){U.CONNECTED="CONNECTED",U.DISCONNECTED="DISCONNECTED",U.REMOVED="REMOVED"}(pn||(pn={}));const vn="__squidId";function We(U){return ye(U)}function ze(...U){const[J,ee,Se]=U,we="object"==typeof J?J:{docId:J,collectionName:ee,integrationId:Se};return we.integrationId||(we.integrationId=void 0),pe(we)}class He{constructor(U,J,ee){this._squidDocId=U,this.dataManager=J,this.queryBuilderFactory=ee,this.refId=L()}get squidDocId(){return this._squidDocId}get data(){return ce(this.dataRef)}get dataRef(){return(0,qe.truthy)(this.dataManager.getProperties(this.squidDocId),(()=>{const{collectionName:U,integrationId:J,docId:ee}=We(this.squidDocId);return`No data found for document reference: ${JSON.stringify({docId:ee,collectionName:U,integrationId:J},null,2)}`}))}get hasData(){return!!this.dataManager.getProperties(this.squidDocId)}async snapshot(){if(this.hasSquidPlaceholderId())throw new Error("Cannot invoke snapshot of a document that was created locally without storing it on the server.");if(this.isTracked()&&this.hasData)return this.data;const U=await this.queryBuilderFactory.getForDocument(this.squidDocId).dereference().snapshot();return(0,qe.truthy)(U.length<=1,"Got more than one doc for the same id:"+this.squidDocId),U.length?U[0]:void 0}snapshots(){return this.queryBuilderFactory.getForDocument(this.squidDocId).dereference().snapshots().pipe((0,Ee.map)((U=>((0,qe.truthy)(U.length<=1,"Got more than one doc for the same id:"+this.squidDocId),U.length?U[0]:void 0))))}peek(){return this.isTracked()&&this.hasData?this.data:void 0}isDirty(){return this.dataManager.isDirty(this.squidDocId)}isTracked(){return this.dataManager.isTracked(this.squidDocId)}async update(U,J){const ee={};Object.entries(U).forEach((([U,J])=>{const Se=void 0!==J?{type:"update",value:J}:{type:"removeProperty"};ee[U]=[Se]}));const Se={type:"update",squidDocIdObj:We(this.squidDocId),properties:ee};return this.dataManager.applyOutgoingMutation(Se,J)}async setInPath(U,J,ee){return this.update({[U]:ce(J)},ee)}async deleteInPath(U,J){return this.update({[U]:void 0},J)}incrementInPath(U,J,ee){const Se={type:"applyNumericFn",fn:"increment",value:J},we={type:"update",squidDocIdObj:We(this.squidDocId),properties:{[U]:[Se]}};return this.dataManager.applyOutgoingMutation(we,ee)}decrementInPath(U,J,ee){return this.incrementInPath(U,-J,ee)}async insert(U,J){const ee=We(this.squidDocId),Se=ee.integrationId;let we=ye(ee.docId);if(we[vn]&&(we={}),Se===sn.built_in_db&&we.__id)try{const U=ye(we.__id);we=Object.assign(Object.assign({},we),U)}catch(U){}const Ee={type:"insert",squidDocIdObj:ee,properties:Object.assign(Object.assign(Object.assign({},U),{__docId__:ee.docId}),we)};return this.dataManager.applyOutgoingMutation(Ee,J)}async delete(U){const J={type:"delete",squidDocIdObj:We(this.squidDocId)};return this.dataManager.applyOutgoingMutation(J,U)}migrateDocIds(U){const J=U[this.squidDocId];J&&(this._squidDocId=J)}hasSquidPlaceholderId(){const U=ye(this._squidDocId);if("object"==typeof U&&U.docId){const J=ye(U.docId);if("object"==typeof J&&Object.keys(J).includes(vn))return!0}return!1}}Error;class Ge{constructor(U,J={}){this.internalStateObserver=new Ee.BehaviorSubject(null),this.firstElement=null,this.isDestroyed=new Ee.BehaviorSubject(!1),this.snapshotSubject=new Ee.Subject,this.onFirstPage=!0,this.navigatingToLastPage=!1,this.lastElement=null,(0,qe.assertTruthy)(U.getSortOrders().length>0,"Unable to paginate results. Please specify a sort order."),this.snapshotSubject.pipe((0,Ee.switchAll)()).subscribe((U=>this.dataReceived(U))),this.templateSnapshotEmitter=U.clone(),this.paginateOptions=Object.assign({pageSize:100,subscribe:!0},J),this.goToFirstPage()}goToFirstPage(){this.onFirstPage=!0;const U=this.templateSnapshotEmitter.clone().limit(3*this.paginateOptions.pageSize).snapshots(this.paginateOptions.subscribe);this.snapshotSubject.next(U)}compareObjects(U,J){if(U===J||se(U)&&se(J))return 0;if(se(U))return-1;if(se(J))return 1;const ee=this.templateSnapshotEmitter.getSortOrders();for(const{fieldName:Se,asc:we}of ee){const ee=de(te(U,Se),te(J,Se));if(0!==ee)return we?ee:-ee}return 0}async dataReceived(U){const J=U.map((U=>this.templateSnapshotEmitter.extractData(U)));if(0===U.length)return void(this.onFirstPage?this.internalStateObserver.next({numBefore:0,numAfter:0,data:U,extractedData:J}):this.goToFirstPage());if(null===this.firstElement)if(null!==this.lastElement){const ee=J.filter((U=>1===this.compareObjects(U,this.lastElement))).length;this.firstElement=J[U.length-ee-this.paginateOptions.pageSize],this.lastElement=null}else this.navigatingToLastPage&&(this.firstElement=J[U.length-this.paginateOptions.pageSize],this.navigatingToLastPage=!1);const ee=J.filter((U=>-1===this.compareObjects(U,this.firstElement))).length,Se=Math.max(0,U.length-ee-this.paginateOptions.pageSize);ee!==U.length?this.internalStateObserver.next({numBefore:ee,numAfter:Se,data:U,extractedData:J}):this.prevInternal({numBefore:ee,numAfter:Se,data:U,extractedData:J})}doNewQuery(U,J){if(this.onFirstPage=!1,J){const J=this.templateSnapshotEmitter.clone().limit(3*this.paginateOptions.pageSize).flipSortOrder();U&&J.addCompositeCondition(this.templateSnapshotEmitter.getSortOrders().map((J=>({fieldName:J.fieldName,operator:J.asc?"<=":">=",value:te(U,J.fieldName)||null})))),this.snapshotSubject.next(J.snapshots(this.paginateOptions.subscribe).pipe((0,Ee.map)((U=>U.reverse()))))}else{const J=this.templateSnapshotEmitter.clone().limit(3*this.paginateOptions.pageSize);U&&J.addCompositeCondition(this.templateSnapshotEmitter.getSortOrders().map((J=>({fieldName:J.fieldName,operator:J.asc?">=":"<=",value:te(U,J.fieldName)||null})))),this.snapshotSubject.next(J.snapshots(this.paginateOptions.subscribe))}}async waitForInternalState(){const U=this.internalStateObserver.value;return null!==U?U:await(0,Ee.firstValueFrom)((0,Ee.race)(this.isDestroyed.pipe((0,Ee.filter)(Boolean),(0,Ee.map)((()=>({data:[],extractedData:[],numBefore:0,numAfter:0})))),this.internalStateObserver.pipe((0,Ee.filter)((U=>null!==U)),(0,Ee.take)(1))))}internalStateToState(U){const{data:J,numBefore:ee,numAfter:Se,extractedData:we}=U;return{data:J.filter(((U,J)=>-1!==this.compareObjects(we[J],this.firstElement))).slice(0,this.paginateOptions.pageSize),hasNext:Se>0,hasPrev:ee>0}}unsubscribe(){this.isDestroyed.next(!0),this.isDestroyed.complete(),this.internalStateObserver.complete(),this.snapshotSubject.complete()}prevInternal(U){const{numBefore:J,numAfter:ee,extractedData:Se}=U;this.firstElement=null,this.lastElement=Se[J-1],this.internalStateObserver.next(null),this.doNewQuery(Se[Se.length-ee-1],!0)}async prev(){return this.prevInternal(await this.waitForInternalState()),await this.waitForData()}async next(){const{numBefore:U,extractedData:J}=await this.waitForInternalState();return U+this.paginateOptions.pageSize<J.length&&(this.firstElement=J[U+this.paginateOptions.pageSize]),this.internalStateObserver.next(null),this.doNewQuery(J[U],!1),await this.waitForData()}async waitForData(){return this.internalStateToState(await this.waitForInternalState())}observeState(){return this.internalStateObserver.pipe((0,Ee.filter)((U=>null!==U)),(0,Ee.map)((U=>this.internalStateToState(U))))}async first(){return await this.waitForInternalState(),this.internalStateObserver.next(null),this.firstElement=null,this.lastElement=null,this.goToFirstPage(),await this.waitForData()}async refreshPage(){const{extractedData:U}=await this.waitForInternalState();return this.internalStateObserver.next(null),this.onFirstPage?this.goToFirstPage():this.doNewQuery(U[0],!1),await this.waitForData()}async last(){await this.waitForInternalState(),this.internalStateObserver.next(null),this.firstElement=null,this.lastElement=null,this.navigatingToLastPage=!0;const U=this.templateSnapshotEmitter.clone().limit(3*this.paginateOptions.pageSize).flipSortOrder().snapshots(this.paginateOptions.subscribe).pipe((0,Ee.map)((U=>U.reverse())));return this.snapshotSubject.next(U),await this.waitForData()}}class Ke{constructor(U,J,ee,Se){this.querySubscriptionManager=U,this.localQueryManager=J,this.documentReferenceFactory=ee,this.documentIdentityService=Se}getForDocument(U){const{collectionName:J,integrationId:ee,docId:Se}=We(U),we=ye(Se),Ee=this.get(J,ee);for(const[U,J]of Object.entries(we))Ee.where(U,"==",J);return Ee}get(U,J){return new Xe(U,J,this.querySubscriptionManager,this.localQueryManager,this.documentReferenceFactory,this,this.documentIdentityService)}}class Je{constructor(){this.containsEmptyInCondition=!1}eq(U,J){return this.where(U,"==",J)}neq(U,J){return this.where(U,"!=",J)}in(U,J){return this.where(U,"in",J)}nin(U,J){return this.where(U,"not in",J)}gt(U,J){return this.where(U,">",J)}gte(U,J){return this.where(U,">=",J)}lt(U,J){return this.where(U,"<",J)}lte(U,J){return this.where(U,"<=",J)}like(U,J,ee){return this.throwIfInvalidLikePattern(J),this.where(U,ee?"like_cs":"like",J)}notLike(U,J,ee){return this.throwIfInvalidLikePattern(J),this.where(U,ee?"not like_cs":"not like",J)}arrayIncludesSome(U,J){return this.where(U,"array_includes_some",J)}arrayIncludesAll(U,J){return this.where(U,"array_includes_all",J)}arrayNotIncludes(U,J){return this.where(U,"array_not_includes",J)}throwIfInvalidLikePattern(U){if(/\\(?![%_\\])/.test(U))throw new Error("Invalid pattern. Cannot have any \\ which are not followed by _, % or \\")}}class Ze{constructor(U){this.queryBuilder=U}peek(){return this.queryBuilder.peek().map((U=>U.data))}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1).pipe((0,Ee.defaultIfEmpty)([])))}snapshots(U){return this.queryBuilder.snapshots(U).pipe(N((U=>U.map((U=>U.data)))))}getSortOrders(){return this.queryBuilder.getSortOrders()}clone(){return new Ze(this.queryBuilder.clone())}addCompositeCondition(U){return this.queryBuilder.addCompositeCondition(U),this}limit(U){return this.queryBuilder.limit(U),this}getLimit(){return this.queryBuilder.getLimit()}flipSortOrder(){return this.queryBuilder.flipSortOrder(),this}extractData(U){return U}serialize(){return Object.assign(Object.assign({},this.queryBuilder.serialize()),{dereference:!0})}paginate(U){return new Ge(this,U)}}class Xe extends Je{constructor(U,J,ee,Se,we,Ee,je){super(),this.collectionName=U,this.integrationId=J,this.querySubscriptionManager=ee,this.localQueryManager=Se,this.documentReferenceFactory=we,this.queryBuilderFactory=Ee,this.documentIdentityService=je,this.forceFetchFromServer=!1,this.query={integrationId:J,collectionName:U,conditions:[],limit:-1,sortOrder:[]}}where(U,J,ee){if("in"===J||"not in"===J){const Se=Array.isArray(ee)?[...ee]:[ee];"in"===J&&0===Se.length&&(this.containsEmptyInCondition=!0);for(const ee of Se)this.query.conditions.push({fieldName:U,operator:"in"===J?"==":"!=",value:ee});return this}return this.query.conditions.push({fieldName:U,operator:J,value:ee}),this}limit(U){return function(U){(0,qe.assertNumber)(U,"Limit needs to be a number"),-1!==U&&((0,qe.assertTruthy)(U>0,"query limit has to be greater than 0"),(0,qe.assertTruthy)(Math.floor(U)===U,"query limit has to be an integer"),(0,qe.assertTruthy)(U<=2e4,"Limit can be maximum 20000"))}(U),this.query.limit=U,this}getLimit(){return this.query.limit}limitBy(U,...J){const ee=this.query.sortOrder.map((U=>U.fieldName));return(0,qe.assertTruthy)(ae(J.sort(),ee.slice(0,J.length).sort()),"All fields in limitBy must be appear in the first fields in the sortBy list."),this.query.limitBy={limit:U,fields:J,reverseSort:!1},this}sortBy(U,J=!0){const ee={asc:J,fieldName:U};return function(U){if(!(U instanceof Object))throw new Error("Field sort has to be an object");const J=U;var ee,Se,we,Ee;(0,qe.assertTruthy)((ee=J,Se=["fieldName","asc"],!Array.isArray(ee)&&[...Object.keys(ee)].every((U=>Se.includes(U)))),"Field sort should only contain a fieldName and asc"),(0,qe.assertTruthy)((we=J.asc,Ee="boolean",Array.isArray(we)?we.every((U=>typeof U===Ee)):typeof we===Ee),"Asc needs to be boolean")}(ee),(0,qe.assertTruthy)(!this.query.sortOrder.some((J=>J.fieldName===U)),`${U} already in the sort list.`),this.query.sortOrder.push(ee),this}build(){const U=this.mergeConditions();return Object.assign(Object.assign({},this.query),{conditions:U})}mergeConditions(){const U=[],J=he(this.query.conditions.filter(Be)||[],(U=>U.fieldName));for(const ee of Object.values(J)){const J=he(ee,(U=>U.operator));for(const[ee,Se]of Object.entries(J)){if("=="===ee||"!="===ee){U.push(...Se);continue}const J=[...Se];J.sort(((U,J)=>de(U.value,J.value))),">"===ee||">="===ee?U.push(J[J.length-1]):U.push(J[0])}}return[...this.query.conditions.filter((U=>!Be(U))),...U]}getSortOrder(){return this.query.sortOrder}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1).pipe((0,Ee.defaultIfEmpty)([])))}setForceFetchFromServer(){return this.forceFetchFromServer=!0,this}peek(){return this.localQueryManager.peek(this.build())}snapshots(U=!0){if(this.containsEmptyInCondition)return new Ee.BehaviorSubject([]);const J=this.build();return this.querySubscriptionManager.processQuery(J,this.collectionName,{},{},U,this.forceFetchFromServer).pipe(N((U=>U.map((U=>{(0,qe.assertTruthy)(1===Object.keys(U).length);const J=U[this.collectionName],ee=ze((0,qe.truthy)(J).__docId__,this.collectionName,this.integrationId);return this.documentReferenceFactory.create(ee,this.queryBuilderFactory)})))))}changes(){let U,J=new Set;return this.snapshots().pipe((0,Ee.combineLatestWith)(this.documentIdentityService.observeChanges().pipe((0,Ee.switchMap)((J=>(Object.entries(J).forEach((([J,ee])=>{!function(U,J,ee){const Se=U[J];void 0!==Se&&(U[ee]=Se,delete U[J])}(U||{},J,ee)})),Ee.NEVER))),(0,Ee.startWith)({}))),N((([ee])=>{let Se=[];const we=[],Ee=[];if(U){for(const Ee of ee){const ee=Ee.squidDocId,je=Ee.dataRef;if(J.has(je))delete U[ee],J.delete(je);else if(U[ee]){we.push(Ee);const Se=U[ee];delete U[ee],J.delete(Se)}else Se.push(Ee)}for(const U of J)Ee.push(U)}else Se=ee;U={},J=new Set;for(const Se of ee){const ee=Se.dataRef;U[Se.squidDocId]=ee,J.add(ee)}return new et(Se,we,Ee)})))}get hash(){return ve(this.build())}dereference(){return new Ze(this)}getSortOrders(){return this.query.sortOrder}clone(){const U=new Xe(this.collectionName,this.integrationId,this.querySubscriptionManager,this.localQueryManager,this.documentReferenceFactory,this.queryBuilderFactory,this.documentIdentityService);return U.query=ce(this.query),U.containsEmptyInCondition=this.containsEmptyInCondition,U}addCompositeCondition(U){return U.length?(this.query.conditions.push({fields:U}),this):this}flipSortOrder(){return this.query.sortOrder=this.query.sortOrder.map((U=>Object.assign(Object.assign({},U),{asc:!U.asc}))),this.query.limitBy&&(this.query.limitBy.reverseSort=!this.query.limitBy.reverseSort),this}serialize(){return{type:"simple",dereference:!1,query:this.build()}}extractData(U){return U.dataRef}paginate(U){return new Ge(this,U)}}class et{constructor(U,J,ee){this.inserts=U,this.updates=J,this.deletes=ee}}class tt extends Je{constructor(U,J,ee,Se,we,Ee,je,Ae,Fe,xe,Te){super(),this.collectionName=U,this.integrationId=J,this.querySubscriptionManager=ee,this.documentReferenceFactory=Se,this.queryBuilderFactory=we,this.rootAlias=Ee,this.latestAlias=je,this.leftToRight=Ae,this.joins=Fe,this.joinConditions=xe,this.queryBuilder=Te}where(U,J,ee){return this.queryBuilder.where(U,J,ee),this}limit(U){return this.queryBuilder.limit(U),this}getLimit(){return this.queryBuilder.getLimit()}sortBy(U,J=!0){return this.queryBuilder.sortBy(U,J),this}join(U,J,ee,Se){var we,Ee;const je=null!==(we=null==Se?void 0:Se.leftAlias)&&void 0!==we?we:this.latestAlias,Ae=Object.assign(Object.assign({},ee),{leftAlias:je,isInner:null!==(Ee=null==Se?void 0:Se.isInner)&&void 0!==Ee&&Ee}),Fe=Object.assign(Object.assign({},this.leftToRight),{[J]:[]});return Fe[je].push(J),new tt(this.collectionName,this.integrationId,this.querySubscriptionManager,this.documentReferenceFactory,this.queryBuilderFactory,this.rootAlias,J,Fe,Object.assign(Object.assign({},this.joins),{[J]:U.build()}),Object.assign(Object.assign({},this.joinConditions),{[J]:Ae}),this.queryBuilder)}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1))}snapshots(U=!0){return this.queryBuilder.containsEmptyInCondition?new Ee.BehaviorSubject([]):this.querySubscriptionManager.processQuery(this.build(),this.rootAlias,ce(this.joins),ce(this.joinConditions),U,!1).pipe(N((U=>U.map((U=>{const J={};for(const[ee,Se]of Object.entries(U)){const U=ee===this.rootAlias?this.collectionName:this.joins[ee].collectionName,we=ee===this.rootAlias?this.integrationId:this.joins[ee].integrationId,Ee=Se?ze(Se.__docId__,U,we):void 0;J[ee]=Ee?this.documentReferenceFactory.create(Ee,this.queryBuilderFactory):void 0}return J})))))}peek(){throw new Error("peek is not currently supported for join queries")}grouped(){return new it(this)}dereference(){return new rt(this)}build(){return this.queryBuilder.build()}getSortOrders(){return this.queryBuilder.getSortOrders()}clone(){return new tt(this.collectionName,this.integrationId,this.querySubscriptionManager,this.documentReferenceFactory,this.queryBuilderFactory,this.rootAlias,this.latestAlias,ce(this.leftToRight),ce(this.joins),ce(this.joinConditions),this.queryBuilder.clone())}addCompositeCondition(U){return this.queryBuilder.addCompositeCondition(U),this}flipSortOrder(){return this.queryBuilder.flipSortOrder(),this}extractData(U){return U[this.rootAlias].dataRef}serialize(){return{type:"join",grouped:!1,dereference:!1,root:{alias:this.rootAlias,query:this.build()},leftToRight:this.leftToRight,joins:this.joins,joinConditions:this.joinConditions}}paginate(U){return new Ge(this,U)}}class rt{constructor(U){this.joinQueryBuilder=U}grouped(){return this.joinQueryBuilder.grouped().dereference()}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1))}snapshots(U){return this.joinQueryBuilder.snapshots(U).pipe(N((U=>U.map((U=>function(U,J){const ee={},Se=Object.keys(U);for(const J of Se){const Se=U[J];ee[J]=null==(we=Se)?void 0:we.data}var we;return ee}(U))))))}peek(){throw new Error("peek is not currently supported for join queries")}getSortOrders(){return this.joinQueryBuilder.getSortOrders()}clone(){return new rt(this.joinQueryBuilder.clone())}addCompositeCondition(U){return this.joinQueryBuilder.addCompositeCondition(U),this}flipSortOrder(){return this.joinQueryBuilder.flipSortOrder(),this}limit(U){return this.joinQueryBuilder.limit(U),this}extractData(U){return U[this.joinQueryBuilder.rootAlias]}paginate(U){return new Ge(this,U)}serialize(){return Object.assign(Object.assign({},this.joinQueryBuilder.serialize()),{dereference:!0})}getLimit(){return this.joinQueryBuilder.getLimit()}}class nt{constructor(U){this.groupedJoin=U}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1))}snapshots(U){return this.groupedJoin.snapshots(U).pipe(N((U=>U.map((U=>this.dereference(U,this.groupedJoin.joinQueryBuilder.rootAlias))))))}peek(){throw new Error("peek is not currently supported for join queries")}dereference(U,J){const ee=this.groupedJoin.joinQueryBuilder.leftToRight[J];if(ee.length){const Se={[J]:U[J].data};for(const J of ee)Se[J]=U[J].map((U=>this.dereference(U,J)));return Se}return U.data}getSortOrders(){return this.groupedJoin.getSortOrders()}clone(){return new nt(this.groupedJoin.clone())}addCompositeCondition(U){return this.groupedJoin.addCompositeCondition(U),this}flipSortOrder(){return this.groupedJoin.flipSortOrder(),this}limit(U){return this.groupedJoin.limit(U),this}getLimit(){return this.groupedJoin.getLimit()}extractData(U){return U[this.groupedJoin.joinQueryBuilder.rootAlias]}serialize(){return Object.assign(Object.assign({},this.groupedJoin.joinQueryBuilder.serialize()),{dereference:!0,grouped:!0})}paginate(U){return new Ge(this,U)}}class it{constructor(U){this.joinQueryBuilder=U}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1))}snapshots(U){return this.joinQueryBuilder.snapshots(U).pipe(N((U=>this.groupData(U,this.joinQueryBuilder.rootAlias))))}peek(){throw new Error("peek is not currently supported for join queries")}dereference(){return new nt(this)}groupData(U,J){const ee=he(U,(U=>{var ee;return null===(ee=U[J])||void 0===ee?void 0:ee.squidDocId}));return Object.values(ee).filter((U=>void 0!==U[0][J])).map((U=>{const ee=this.joinQueryBuilder.leftToRight[J],Se=U[0][J];if(0===ee.length)return Se;const we={[J]:Se};for(const J of ee)we[J]=this.groupData(U,J);return we}))}getSortOrders(){return this.joinQueryBuilder.getSortOrders()}clone(){return new it(this.joinQueryBuilder.clone())}addCompositeCondition(U){return this.joinQueryBuilder.addCompositeCondition(U),this}flipSortOrder(){return this.joinQueryBuilder.flipSortOrder(),this}limit(U){return this.joinQueryBuilder.limit(U),this}getLimit(){return this.joinQueryBuilder.getLimit()}extractData(U){return Object.keys(this.joinQueryBuilder.leftToRight).length>1?U[this.joinQueryBuilder.rootAlias].dataRef:U.dataRef}serialize(){return Object.assign(Object.assign({},this.joinQueryBuilder.serialize()),{grouped:!0})}paginate(U){return new Ge(this,U)}}function ot(U,J,ee){if(U=U instanceof Date?U.getTime():null!=U?U:null,J=J instanceof Date?J.getTime():null!=J?J:null,"=="===ee)return ae(U,J);if("!="===ee)return!ae(U,J);switch(ee){case"<":return!se(U)&&(!!se(J)||J<U);case"<=":return!!se(J)||!se(U)&&J<=U;case">":return!se(J)&&(!!se(U)||J>U);case">=":return!!se(U)||!se(J)&&J>=U;case"like":return"string"==typeof J&&"string"==typeof U&&st(J,U,!1);case"not like":return!("string"==typeof J&&"string"==typeof U&&st(J,U,!1));case"like_cs":return"string"==typeof J&&"string"==typeof U&&st(J,U,!0);case"not like_cs":return!("string"==typeof J&&"string"==typeof U&&st(J,U,!0));case"array_includes_some":{const ee=J;return Array.isArray(J)&&Array.isArray(U)&&U.some((U=>(0,qe.truthy)(ee,"VALUE_CANNOT_BE_NULL").some((J=>ae(J,U)))))}case"array_includes_all":{const ee=J;return Array.isArray(U)&&Array.isArray(J)&&U.every((U=>(0,qe.truthy)(ee,"VALUE_CANNOT_BE_NULL").some((J=>ae(J,U)))))}case"array_not_includes":{const ee=J;return Array.isArray(J)&&Array.isArray(U)&&U.every((U=>!(0,qe.truthy)(ee,"VALUE_CANNOT_BE_NULL").some((J=>ae(J,U)))))}default:throw new Error(`Unsupported operator comparison: ${ee}`)}}function st(U,J,ee){ee||(U=U.toLowerCase(),J=J.toLowerCase());const Se=function(U){let J="";for(let ee=0;ee<U.length;++ee)"\\"===U[ee]?ee+1<U.length&&["%","_"].includes(U[ee+1])?(J+=U[ee+1],ee++):ee+1<U.length&&"\\"===U[ee+1]?(J+="\\\\",ee++):J+="\\":"%"===U[ee]?J+="[\\s\\S]*":"_"===U[ee]?J+="[\\s\\S]":("/-\\^$*+?.()[]{}|".includes(U[ee])&&(J+="\\"),J+=U[ee]);return J}(J);return new RegExp(`^${Se}$`).test(U)}function at(U,J){return`${U}_${J}`}class ut{constructor(U,J,ee,Se,we,Ee){this.collectionName=U,this.integrationId=J,this.documentReferenceFactory=ee,this.queryBuilderFactory=Se,this.querySubscriptionManager=we,this.dataManager=Ee,this.refId=L()}doc(U){if(U&&"string"!=typeof U&&"object"!=typeof U&&!Array.isArray(U))throw new Error("Invalid doc id. Can be only object or string.");if(this.integrationId!==sn.built_in_db)if(U){if("object"!=typeof U)throw new Error("Invalid doc id. String doc ids are only supported for the built_in_db integration. For all other integrations, the doc id must be an object.")}else U={[vn]:L()};else U=U&&"string"!=typeof U?{__id:pe(U)}:{__id:U||L()};const J=ze(pe(U),this.collectionName,this.integrationId);return this.documentReferenceFactory.create(J,this.queryBuilderFactory)}async insertMany(U,J){await this.dataManager.runInTransaction((async J=>{for(const ee of U)await this.doc(ee.id).insert(ee.data,J)}),J)}async deleteMany(U,J){await this.dataManager.runInTransaction((async J=>{for(const ee of U)ee instanceof He?await ee.delete(J):await this.doc(ee).delete(J)}),J)}query(){return this.queryBuilderFactory.get(this.collectionName,this.integrationId)}joinQuery(U){return new tt(this.collectionName,this.integrationId,this.querySubscriptionManager,this.documentReferenceFactory,this.queryBuilderFactory,U,U,{[U]:[]},{},{},this.query())}or(...U){return new ct(...U)}}class ct{constructor(...U){if(0===U.length)throw new Error("At least one query builder must be provided");this.snapshotEmitters=U.map((U=>U.clone()));const J=Math.max(...this.snapshotEmitters.map((U=>{const J=U.getLimit();return-1===J?1e3:J})));this.snapshotEmitters.forEach((U=>U.limit(J)));const ee=this.snapshotEmitters[0].getSortOrders();for(const U of this.snapshotEmitters){const J=U.getSortOrders();if(J.length!==ee.length)throw new Error("All the queries must have the same sort order");for(let U=0;U<ee.length;U++)if(J[U].fieldName!==ee[U].fieldName||J[U].asc!==ee[U].asc)throw new Error("All the queries must have the same sort order")}}snapshot(){return(0,Ee.firstValueFrom)(this.snapshots(!1))}snapshots(U=!0){const J=this.snapshotEmitters.map((J=>J.snapshots(U)));return this.or(this.snapshotEmitters[0].getSortOrders(),...J)}peek(){throw new Error("peek is not currently supported for merged queries")}or(U,...J){return(0,Ee.combineLatest)([...J]).pipe((0,Ee.map)((J=>{const ee=new Set,Se=J.flat(),we=[];for(const U of Se)ee.has(this.extractData(U))||(ee.add(this.extractData(U)),we.push(U));return we.sort(((J,ee)=>{for(const{fieldName:Se,asc:we}of U){const U=te(this.extractData(J),Se),Ee=te(this.extractData(ee),Se);if(!ot(U,Ee,"=="))return ot(Ee,U,"<")?we?-1:1:we?1:-1}return 0})).slice(0,this.getLimit())})))}clone(){return new ct(...this.snapshotEmitters.map((U=>U.clone())))}getSortOrders(){return this.snapshotEmitters[0].getSortOrders()}addCompositeCondition(U){for(const J of this.snapshotEmitters)J.addCompositeCondition(U);return this}limit(U){return this.snapshotEmitters.forEach((J=>J.limit(U))),this}getLimit(){return this.snapshotEmitters[0].getLimit()}flipSortOrder(){return this.snapshotEmitters.forEach((U=>U.flipSortOrder())),this}serialize(){return{type:"merged",queries:this.snapshotEmitters.map((U=>U.serialize()))}}extractData(U){return this.snapshotEmitters[0].extractData(U)}paginate(U){return new Ge(this,U)}}class lt{constructor(U,J,ee,Se){this.documentReferenceFactory=U,this.queryBuilderFactory=J,this.querySubscriptionManager=ee,this.dataManager=Se,this.collections=new Map}get(U,J){let ee=this.collections.get(J);ee||(ee=new Map,this.collections.set(J,ee));let Se=ee.get(U);return Se||(Se=new ut(U,J,this.documentReferenceFactory,this.queryBuilderFactory,this.querySubscriptionManager,this.dataManager),ee.set(U,Se)),Se}}class dt{constructor(U,J){this.clientIdService=U,this.socketManager=J,this.isConnected=!1,this.socketManager.observeConnectionReady().subscribe((U=>{this.isConnected=U}))}get connected(){return this.isConnected}get clientId(){return this.clientIdService.getClientId()}observeConnected(){return this.socketManager.observeConnectionReady()}}var bn=r(5150);function ft(U,J){switch(J.type){case"applyNumericFn":return function(U,J){if("increment"===J.fn)return null==U?J.value:U+J.value;throw new Error("Unknown numeric function: "+JSON.stringify(J))}(U,J);case"applyStringFn":return function(U,J){switch(J.fn){case"trim":return"string"!=typeof U?U:U.trim();case"extendString":return null==U?J.value:U+J.value;default:throw new Error("Unknown string function: "+JSON.stringify(J))}}(U,J);case"update":return"object"==typeof J.value?ce(J.value):J.value;case"removeProperty":return;default:throw new Error("Unknown property mutation type: "+JSON.stringify(J))}}function pt(U){return Object.entries(U.properties).sort((([U],[J])=>U.split(".").length-J.split(".").length))}function bt(U,J){if("insert"===J.type)return J;if("delete"===J.type)return J;if("delete"===U.type)return U;if((0,qe.assertTruthy)("update"===J.type,"Invalid mutation type"),"update"===U.type)return function(U,J){const ee=ce(U);J=ce(J);for(const[U]of pt(ee)){const Se=U.split(".").length;Object.entries(J.properties).some((([J])=>U.startsWith(J+".")&&Se>J.split(".").length))&&delete ee.properties[U]}for(const[U,Se]of pt(J))ee.properties[U]=yt([...ee.properties[U]||[],...Se]);return ee}(U,J);const ee=ce(U);for(const[U,Se]of pt(J)){const J=Se;for(const Se of J){const J=ft(te(ee.properties,U),Se);void 0===J?ie(ee.properties,U):ne(ee.properties,U,J)}}return ee}function yt(U){let J=0;for(;J+1<U.length;){const we=(ee=U[J],"removeProperty"===(Se=U[J+1]).type||"update"===Se.type?Se:"applyNumericFn"===Se.type?((0,qe.assertTruthy)("increment"===Se.fn,"Unrecognized applyNumericFn"),"applyNumericFn"===ee.type?((0,qe.assertTruthy)("increment"===ee.fn,"Unrecognized applyNumericFn"),{type:"applyNumericFn",fn:"increment",value:ee.value+Se.value}):"update"===ee.type?{type:"update",value:ee.value+Se.value}:Se):"extendString"===Se.fn?"update"===ee.type?{type:"update",value:ee.value+Se.value}:"applyStringFn"===ee.type?"trim"===ee.fn?null:{type:"applyStringFn",fn:"extendString",value:ee.value+Se.value}:Se:null);we?U.splice(J,2,we):++J}var ee,Se;return U}function vt(U){const J={};for(const ee of U){const U=`${ee.squidDocIdObj.integrationId}/${ee.squidDocIdObj.collectionName}/${ee.squidDocIdObj.docId}`;J[U]||(J[U]=[]),J[U].push(ee)}const ee=[];for(const U in J){const Se=J[U].reduce(((U,J)=>(0,qe.truthy)(bt(U,J),"Merge result cannot be null")));ee.push(Se)}return ee}const yn="dataManager_runInTransaction";class mt{constructor(U,J,ee,Se,we,je,Ae,Fe,xe){this.documentStore=U,this.mutationSender=J,this.socketManager=ee,this.querySubscriptionManager=Se,this.queryBuilderFactory=we,this.lockManager=je,this.destructManager=Ae,this.documentIdentityService=Fe,this.querySender=xe,this.docIdToLocalTimestamp=new Map,this.batchClientRequestIds=new Set,this.docIdToServerTimestamp=new Map,this.pendingIncomingUpdates=new Map,this.pendingOutgoingMutations=new Map,this.pendingOutgoingMutationsChanged=new Ee.Subject,this.outgoingMutationsEmpty=new Ee.BehaviorSubject(!0),this.knownDirtyDocs=new Set,this.failedDocsToResync=[],this.refreshDocIdToTimestamp=new Map,this.handleIncomingMessagesForTests=!0,this.destructManager.onDestruct((()=>{this.destruct()})),this.documentIdentityService.observeChanges().subscribe(this.migrateDocIds.bind(this)),this.handleNotifications(),this.startDeleteExpiredTimestampsJob(),this.handleOrphanDocs(),this.outgoingMutationsEmpty.subscribe((U=>{this.querySender.safeToSendQueriesToServer.next(U)}))}getProperties(U){return this.documentStore.getDocumentOrUndefined(U)}isDirty(U){var J;if(this.knownDirtyDocs.has(U))return!0;if(null===(J=this.pendingOutgoingMutations.get(U))||void 0===J?void 0:J.length)return!0;const ee=this.docIdToServerTimestamp.get(U),Se=ee&&!ee.expireTimestamp?ee.timestamp:void 0,we=this.docIdToLocalTimestamp.get(U);return!((!we||Se)&&!this.isForgotten(U)&&!this.isLocalOnly(U)&&we===Se)}async runInTransaction(U,J){if(J)return(0,qe.assertTruthy)(J===this.currentTransactionId,"Transaction already ended."),U(J).then((U=>Promise.resolve(U)));this.lockManager.canGetLock(yn)?this.lockManager.lockSync(yn):await this.lockManager.lock(yn);let ee=_n;const n=()=>ee!==_n;return new Promise((async(J,Se)=>{try{let we;this.currentTransactionId=L();try{we=await U(this.currentTransactionId)}catch(U){ee=U}finally{this.finishTransaction(n()?void 0:{resolve:()=>J(we),reject:Se})}}catch(U){ee=n()?ee:U}finally{try{this.lockManager.release(yn)}catch(U){ee=n()?ee:U}}n()&&Se(ee)}))}async applyOutgoingMutation(U,J){var ee;const Se=ze(U.squidDocIdObj);this.knownDirtyDocs.add(Se),J||this.lockManager.canGetLock(yn)||(await this.lockManager.lock(yn),this.lockManager.release(yn)),this.knownDirtyDocs.delete(Se);const we=null===(ee=this.pendingOutgoingMutations.get(Se))||void 0===ee?void 0:ee.slice(-1)[0];if(we&&!we.sentToServer)we.mutation=(0,qe.truthy)(vt([we.mutation,U])[0],"Failed to reduce mutations"),this.outgoingMutationsEmpty.next(!1);else{const J={mutation:this.removeInternalProperties(U),sentToServer:!1},ee=this.pendingOutgoingMutations.get(Se)||[];ee.push(J),this.pendingOutgoingMutations.set(Se,ee),this.outgoingMutationsEmpty.next(!1),this.pendingOutgoingMutationsChanged.next()}return this.runInTransaction((async()=>{const J=this.documentStore.getDocumentOrUndefined(Se),ee="delete"===U.type?void 0:"update"===U.type?function(U,J){if(!U)return;const ee=Object.assign({},U),Se=pt(J);for(const[U,J]of Se){const Se=J;for(const J of Se){const Se=ft(te(ee,U),J);void 0===Se?ie(ee,U):ne(ee,U,Se)}}return ee}(J,U):Object.assign({},U.properties);this.updateDocumentFromSnapshot(Se,ee)&&("insert"===U.type&&this.docIdToLocalTimestamp.set(Se,(new Date).getTime()),this.querySubscriptionManager.setClientRequestIdsForLocalDoc(Se,ee).forEach((U=>this.batchClientRequestIds.add(U))))}),J)}async runInTransactionSync(U,J){if(J)return(0,qe.assertTruthy)(J===this.currentTransactionId,"Transaction already ended."),void U(J);await this.lockManager.lock(yn);try{this.currentTransactionId=L();try{return U(this.currentTransactionId)}catch(U){console.error("error while executing callback function in transaction",U)}finally{this.finishTransaction()}}catch(U){console.error("error while executing transaction",U)}finally{this.lockManager.release(yn)}}removeInternalProperties(U){if("delete"===U.type)return U;const J=Object.assign(Object.assign({},U),{properties:Object.assign({},U.properties)});return delete J.properties.__docId__,delete J.properties.__ts__,J}handleNotifications(){this.socketManager.observeNotifications().pipe((0,Ee.filter)((U=>"mutations"===U.type)),N((U=>U))).subscribe((U=>{this.outgoingMutationsEmpty.pipe((0,Ee.filter)(Boolean),(0,Ee.take)(1)).subscribe((()=>{this.handleIncomingMutations(U.payload)}))})),this.querySubscriptionManager.observeQueryResults().subscribe((U=>{this.outgoingMutationsEmpty.pipe((0,Ee.filter)(Boolean),(0,Ee.take)(1)).subscribe((()=>{this.handleIncomingQuerySnapshots(U)}))}))}handleIncomingMutations(U){if(!this.handleIncomingMessagesForTests)return;const J=U.reduce(((U,J)=>this.querySubscriptionManager.hasOngoingQuery(J.clientRequestId)?(U[J.squidDocId]={properties:J.doc,timestamp:J.mutationTimestamp},U):U),{});this.applyIncomingUpdates(J)}handleIncomingQuerySnapshots(U){if(!this.handleIncomingMessagesForTests)return;if(!this.querySubscriptionManager.hasOngoingQuery(U.clientRequestId))return;const J=this.querySubscriptionManager.getQuery(U.clientRequestId),ee={};for(const Se of U.docs){const U=ze(Se.__docId__,J.collectionName,J.integrationId);ee[U]={properties:Se,timestamp:Se.__ts__}}this.runInTransactionSync((J=>{this.querySubscriptionManager.setGotInitialResult(U.clientRequestId),this.batchClientRequestIds.add(U.clientRequestId),this.applyIncomingUpdates(ee,J)&&this.querySubscriptionManager.hasSubscription(U.clientRequestId)&&this.batchClientRequestIds.delete(U.clientRequestId)})).then()}applyIncomingUpdates(U,J){let ee=!1;const Se=new Set,we=new Set;for(const[J,Ee]of Object.entries(U)){const U=this.pendingIncomingUpdates.get(J),je=this.docIdToServerTimestamp.get(J);U&&U.timestamp>Ee.timestamp?ee=!0:je&&je.timestamp>Ee.timestamp?we.add(J):(this.pendingIncomingUpdates.set(J,Ee),Se.add(J))}return this.runInTransactionSync((()=>{for(const U of Se)this.maybeApplyIncomingUpdate(U);for(const U of we)this.refreshQueryMapping(U)}),J).then(),ee}maybeApplyIncomingUpdate(U){const J=this.pendingIncomingUpdates.get(U);if(!J)return;const ee=this.pendingOutgoingMutations.get(U);ee&&ee.length||(this.updateDocumentFromSnapshot(U,J.properties),this.acknowledgeDocument(U,J.timestamp,!J.properties),this.docIdToLocalTimestamp.set(U,J.timestamp),this.pendingIncomingUpdates.delete(U),this.refreshQueryMapping(U))}refreshQueryMapping(U){const J=this.documentStore.getDocumentOrUndefined(U);this.querySubscriptionManager.setClientRequestIdsForLocalDoc(U,J).forEach((U=>{this.batchClientRequestIds.add(U)})),J&&(this.querySubscriptionManager.findQueriesForDocument(J,U).length||this.forgetDocument(U))}destruct(){this.stopDeleteExpiredTimestampsJob()}stopDeleteExpiredTimestampsJob(){void 0!==this.deleteExpiredTimestampsInterval&&(clearInterval(this.deleteExpiredTimestampsInterval),this.deleteExpiredTimestampsInterval=void 0)}startDeleteExpiredTimestampsJob(){this.deleteExpiredTimestampsInterval=setInterval((()=>{const U=[...this.docIdToServerTimestamp.entries()].filter((([U,J])=>!(!J.expireTimestamp||J.expireTimestamp>Date.now()||this.isTracked(U))));for(const[J]of U)this.docIdToServerTimestamp.delete(J),this.forgetDocument(J)}),1e4)}isTracked(U){if(this.pendingIncomingUpdates.get(U))return!0;const J=this.pendingOutgoingMutations.get(U);return!(!J||!J.length)||this.querySubscriptionManager.hasOngoingQueryForDocId(U)}isForgotten(U){return this.documentStore.hasData(U)&&!this.isTracked(U)}isLocalOnly(U){return!this.hasBeenAcknowledged(U)&&this.documentStore.hasData(U)}hasBeenAcknowledged(U){return this.docIdToServerTimestamp.has(U)}updateDocumentFromSnapshot(U,J){const ee=this.documentStore.getDocumentOrUndefined(U);return!(!ee&&!J||ee===J||ee&&J&&pe(Object.assign(Object.assign({},J),{__ts__:void 0}))===pe(ee)||(this.documentStore.saveDocument(U,J),0))}finishTransaction(U){this.currentTransactionId=void 0;const J=[...this.batchClientRequestIds.values()];this.batchClientRequestIds.clear(),this.querySubscriptionManager.notifyAllSubscriptions(J),this.sendAllUnsentOutgoingMutations(U).then()}async sendAllUnsentOutgoingMutations(U){const J=this.groupOutgoingMutationsByIntegrationId();try{await bn.PromisePool.for(J).withConcurrency(J.length||1).handleError((U=>{throw U})).process((async([U,J])=>{await this.sendMutationsForIntegration([...J],U)})),this.pendingOutgoingMutations.size||this.outgoingMutationsEmpty.next(!0),await this.refreshUpdatedDocuments(),this.hasPendingSentMutations()?(await(0,Ee.firstValueFrom)(this.pendingOutgoingMutationsChanged.pipe((0,Ee.filter)((()=>!this.hasPendingSentMutations())))),null==U||U.resolve()):null==U||U.resolve()}catch(J){this.pendingOutgoingMutations.size||(this.outgoingMutationsEmpty.next(!0),await this.resyncFailedUpdates()),null==U||U.reject(J)}}async sendMutationsForIntegration(U,J){try{const{timestamp:ee,idResolutionMap:Se={},refreshList:we=[]}=await this.mutationSender.sendMutations(U.map((U=>U.mutation)),J);this.documentIdentityService.migrate(Se),we.forEach((U=>{this.refreshDocIdToTimestamp.set(Se[U]||U,ee)}));for(const J of U){let U=this.removeOutgoingMutation(J);Se[U]&&(U=Se[U]),this.acknowledgeDocument(U,ee),this.isTracked(U)||(this.setExpiration(U,!0),this.forgetDocument(U))}}catch(J){for(const J of U){const U=this.removeOutgoingMutation(J);this.forgetDocument(U),(this.hasBeenAcknowledged(U)||"insert"===J.mutation.type)&&this.failedDocsToResync.push(U)}throw J}}removeOutgoingMutation(U){const J=ze(U.mutation.squidDocIdObj),ee=(0,qe.truthy)(this.pendingOutgoingMutations.get(J));return ee.splice(ee.indexOf(U),1),ee.length||this.pendingOutgoingMutations.delete(J),this.pendingOutgoingMutationsChanged.next(),J}async resyncFailedUpdates(){const U=[...this.failedDocsToResync];this.failedDocsToResync.splice(0);for(const J of U){const{docId:ee}=We(J);this.setExpiration(J,!0);try{const U=ee.includes(vn)?[]:await this.queryBuilderFactory.getForDocument(J).setForceFetchFromServer().snapshot();if((0,qe.truthy)(U.length<=1,"Got more than one doc for the same id:"+J),!U.length){this.forgetDocument(J);const U=this.querySubscriptionManager.setClientRequestIdsForLocalDoc(J,void 0);this.querySubscriptionManager.notifyAllSubscriptions(U)}}catch(U){this.querySubscriptionManager.errorOutAllQueries(J,U)}}}async refreshUpdatedDocuments(){var U;const J=[];for(const[ee,Se]of this.refreshDocIdToTimestamp.entries()){const we=null===(U=this.docIdToServerTimestamp.get(ee))||void 0===U?void 0:U.timestamp;we&&we>Se||J.push(ee)}this.refreshDocIdToTimestamp.clear(),await Promise.allSettled(J.map((U=>this.queryBuilderFactory.getForDocument(U).snapshot())))}groupOutgoingMutationsByIntegrationId(){const U={};for(const[,J]of[...this.pendingOutgoingMutations.entries()]){const ee=J[J.length-1];if(ee&&!ee.sentToServer){const J=ee.mutation.squidDocIdObj.integrationId;(U[J]||(U[J]=[])).push(ee),ee.sentToServer=!0}}return Object.entries(U)}handleOrphanDocs(){this.querySubscriptionManager.onOrphanDocuments.subscribe((U=>{for(const J of U)this.isTracked(J)||this.forgetDocument(J)}))}acknowledgeDocument(U,J,ee=!1){this.docIdToServerTimestamp.set(U,{timestamp:J}),this.setExpiration(U,ee)}setExpiration(U,J){const ee=this.docIdToServerTimestamp.get(U);ee&&(ee.expireTimestamp=J?Date.now()+2e4:void 0)}forgetDocument(U){this.docIdToLocalTimestamp.delete(U),this.setExpiration(U,!0)}migrateDocIds(U){this.pendingOutgoingMutations.forEach((J=>{J.forEach((J=>{const ee=ze(J.mutation.squidDocIdObj),Se=U[ee];Se&&(J.mutation.squidDocIdObj=We(Se))}))})),Object.entries(U).forEach((([U,J])=>{oe(this.pendingOutgoingMutations,U,J),oe(this.docIdToLocalTimestamp,U,J),oe(this.docIdToServerTimestamp,U,J)}))}hasPendingSentMutations(){for(const U of this.pendingOutgoingMutations.values())for(const J of U)if(J.sentToServer)return!0;return!1}}const _n=Symbol("undefined");class Ot{constructor(){this.preDestructors=[],this.destructors=[],this.isDestructedSubject=new Ee.BehaviorSubject(!1)}get isDestructing(){return this.isDestructedSubject.value}observeIsDestructing(){return this.isDestructedSubject.asObservable().pipe((0,Ee.filter)(Boolean),N((()=>{})))}onPreDestruct(U){this.preDestructors.push(U)}onDestruct(U){this.destructors.push(U)}async destruct(){this.reportDestructed();const U=this.preDestructors.concat(this.destructors);let J=U.shift();for(;J;){try{await J()}catch(U){console.error("Error while destructing Squid",U)}J=U.shift()}}reportDestructed(){this.isDestructing||this.isDestructedSubject.next(!0)}}class St{constructor(U,J){this.socketManager=U,this.destructManager=J,this.ongoingLocks={},this.acquireLockMessagesFromServer=this.socketManager.observeNotifications().pipe((0,Ee.filter)((U=>"lockAcquired"===U.type))),this.releaseLockMessagesFromServer=this.socketManager.observeNotifications().pipe((0,Ee.filter)((U=>"lockReleased"===U.type))),this.lockWaitForConnectionThreshold=2e3,J.onPreDestruct((()=>{this.releaseAllLocks()})),this.socketManager.observeConnectionReady().subscribe((U=>{U||this.releaseAllLocks()})),this.releaseLockMessagesFromServer.subscribe((U=>{const J=this.ongoingLocks[U.payload.clientRequestId];void 0!==J&&J.release()}))}async lock(U,J=1e3){if(!await(0,Ee.firstValueFrom)((0,Ee.race)((0,Ee.timer)(this.lockWaitForConnectionThreshold).pipe(N((()=>!1))),this.socketManager.observeConnectionReady().pipe((0,Ee.filter)(Boolean)),this.destructManager.observeIsDestructing())))return Promise.reject("CLIENT_NOT_CONNECTED");const ee=L(),Se={type:"acquireLock",payload:{mutex:U,timeoutMillis:J,clientRequestId:ee}};this.socketManager.sendMessage(Se);const we=await(0,Ee.firstValueFrom)((0,Ee.race)((0,Ee.timer)(J+4e3).pipe((0,Ee.take)(1),N((()=>({payload:{error:"TIMEOUT_GETTING_LOCK",lockId:void 0}})))),this.acquireLockMessagesFromServer.pipe((0,Ee.filter)((U=>U.payload.clientRequestId===ee)))));if(this.destructManager.isDestructing)throw new Error("Destructing");if(!we.payload.lockId)throw new Error(`Failed to acquire lock: ${we.payload.error}`);const je=we.payload.lockId,Ae=new wt(je,ee,this.ongoingLocks,this.socketManager);return this.ongoingLocks[je]=Ae,Ae}releaseAllLocks(){for(const[U,J]of Object.entries(this.ongoingLocks))J.release(),delete this.ongoingLocks[U]}}class wt{constructor(U,J,ee,Se){this.lockId=U,this.clientRequestId=J,this.ongoingLocks=ee,this.socketManager=Se,this.released=!1,this.onReleaseSubject=new Ee.Subject}release(){if(this.released)return;this.released=!0,delete this.ongoingLocks[this.lockId];const U={type:"releaseLock",payload:{lockId:this.lockId,clientRequestId:this.clientRequestId}};this.socketManager.sendMessage(U),this.onReleaseSubject.next()}observeRelease(){return this.onReleaseSubject.asObservable()}isReleased(){return this.released}}class It{constructor(U,J){this.documentStore=U,this.destructManager=J,this.changeNotifier=new Ee.BehaviorSubject({}),this.destructManager.onDestruct((()=>{this.changeNotifier.complete()}))}migrate(U){Object.entries(U).forEach((([U,J])=>{this.documentStore.migrateDocId(U,J)})),this.changeNotifier.next(U)}observeChanges(){return this.changeNotifier.asObservable()}}class Mt{constructor(U){this.documentIdentityService=U,this.documents=new Map,this.documentsForCollection=new Map,this.documentIdentityService.observeChanges().subscribe(this.migrateDocIds.bind(this))}create(U,J){let ee=this.documents.get(U);if(ee)return ee;ee=new He(U,(0,qe.truthy)(this.dataManager,"dataManager not found"),J);const{integrationId:Se,collectionName:we}=We(U);this.documents.set(U,ee);const Ee=this.getCollectionKey(Se,we),je=this.documentsForCollection.get(Ee)||[];return this.documentsForCollection.set(Ee,je.concat(ee)),ee}setDataManager(U){this.dataManager=U}getDocumentsForCollection(U,J){const ee=this.getCollectionKey(U,J);return(this.documentsForCollection.get(ee)||[]).filter((U=>U.hasData))}migrateDocIds(U){for(const[,J]of this.documents)J.migrateDocIds(U);Object.entries(U).forEach((([U,J])=>{const ee=We(U),Se=We(J);oe(this.documents,ee.docId,Se.docId)}))}getCollectionKey(U,J){return`${U}_${J}`}}class Et{constructor(){this.squidDocIdToDoc=new Map}saveDocument(U,J){const ee=this.squidDocIdToDoc.get(U);if(void 0===ee&&!J)return;if(void 0!==ee){if(J){const ee=ce(J),Se=this.removeInternalProperties(ee);return this.squidDocIdToDoc.set(U,Se),Se}return void this.squidDocIdToDoc.delete(U)}const Se=this.removeInternalProperties(J);return this.squidDocIdToDoc.set(U,Se),J}hasData(U){return void 0!==this.squidDocIdToDoc.get(U)}getDocument(U){return(0,qe.truthy)(this.getDocumentOrUndefined(U))}getDocumentOrUndefined(U){return this.squidDocIdToDoc.get(U)}compareSquidDocs(U,J,ee){for(const{fieldName:Se,asc:we}of ee){const ee=de(te(U,Se),te(J,Se));if(0!==ee)return we?ee:-ee}return 0}group(U,J){return Object.values(he(U,(U=>pe(J.map((J=>te(U,J)))))))}sortAndLimitDocs(U,J){if(0===U.size)return[];const ee=[...U].map((U=>this.squidDocIdToDoc.get(U))).filter(qe.isNonNullable),{sortOrder:Se,limitBy:we}=J,Ee=ee.sort(((U,J)=>this.compareSquidDocs(U,J,Se))),je=J.limit<0?2e3:J.limit;if(!we)return Ee.slice(0,je);const{limit:Ae,fields:Fe,reverseSort:xe}=we,Te=this.group(Ee,Fe);let Ie;return Ie=xe?Te.map((U=>U.slice(-Ae))):Te.map((U=>U.slice(0,Ae))),Ie.flat().slice(0,je)}removeInternalProperties(U){if(!U)return;const J=Object.assign({},U);return delete J.__ts__,J}migrateDocId(U,J){const ee=this.getDocumentOrUndefined(U);if(!ee)return;oe(this.squidDocIdToDoc,U,J);const Se=We(J),we=ye(Se.docId);this.saveDocument(J,Object.assign(Object.assign(Object.assign({},ee),we),{__docId__:Se.docId}))}}class Tt{constructor(U,J,ee){this.rpcManager=U,this.lockManager=J,this.querySender=ee}async sendMutations(U,J){const ee=vt(U),Se=ee.map((U=>`sendMutation_${ze(U.squidDocIdObj)}`));await this.lockManager.lock(...Se),await this.querySender.waitForAllQueriesToFinish();try{const U={mutations:ee,integrationId:J};return await this.rpcManager.post("mutation/mutate",U)}catch(U){throw _e.debug("Error while sending mutations",{error:U,mutations:JSON.stringify(ee,null,2)}),U}finally{this.lockManager.release(...Se)}}}class At{constructor(U){this.rpcManager=U}async executeNativeQuery(U){return this.rpcManager.post("native-query/execute",U)}}function Ft(U,J){switch(J.type){case"simple":return function(U,J){const{query:ee,dereference:Se}=J,{collectionName:we,integrationId:Ee}=ee;let je=U.collection(we,Ee).query();return je=jt(je,ee),Se?je.dereference():je}(U,J);case"join":return function(U,J){const{root:ee,joins:Se,joinConditions:we,dereference:Ee,grouped:je}=J,{collectionName:Ae,integrationId:Fe}=ee.query;let xe=U.collection(Ae,Fe).joinQuery(ee.alias);return xe=jt(xe,ee.query),Object.entries(Se).map((([J,ee])=>{const{collectionName:Se,integrationId:Ee}=ee,{left:je,right:Ae,leftAlias:Fe}=we[J];let Te=U.collection(Se,Ee).query();Te=jt(Te,ee),xe=xe.join(Te,J,{left:je,right:Ae},{leftAlias:Fe})})),Ee&&je?xe.grouped().dereference():Ee?xe.dereference():je?xe.grouped():xe}(U,J);case"merged":return function(U,J){const{queries:ee}=J,{collectionName:Se,integrationId:we}=Pt(ee[0]),Ee=ee.map((J=>Ft(U,J)));return U.collection(Se,we).or(...Ee)}(U,J)}}function jt(U,J){const{conditions:ee,limit:Se,sortOrder:we}=J;for(const J of ee){if(!("operator"in J))throw new Error("Composite conditions are not support in query serialization.");const{fieldName:ee,operator:Se,value:we}=J;U.where(ee,Se,we)}U.limit(Se);for(const{fieldName:J,asc:ee}of we)U.sortBy(J,ee);return U}function Pt(U){switch(U.type){case"simple":{const{collectionName:J,integrationId:ee}=U.query;return{collectionName:J,integrationId:ee}}case"join":{const{collectionName:J,integrationId:ee}=U.root.query;return{collectionName:J,integrationId:ee}}case"merged":return Pt(U.queries[0])}}const mn={"in:in":(U,J)=>U.every((U=>J.includes(U))),"in:not in":(U,J)=>U.every((U=>!J.includes(U))),"not in:not in":(U,J)=>J.every((J=>U.includes(J))),">:not in":(U,J)=>J.every((J=>U>=J)),">=:not in":(U,J)=>J.every((J=>U>J)),"<:not in":(U,J)=>J.every((J=>U<=J)),"<=:not in":(U,J)=>J.every((J=>U<J)),">:>":(U,J)=>U>=J,">=:>":(U,J)=>U>J,"in:>":(U,J)=>U.every((U=>U>J)),">:>=":(U,J)=>U>=J,">=:>=":(U,J)=>U>=J,"in:>=":(U,J)=>U.every((U=>U>=J)),"<:<":(U,J)=>U<=J,"<=:<":(U,J)=>U<J,"in:<":(U,J)=>U.every((U=>U<J)),"<:<=":(U,J)=>U<=J,"<=:<=":(U,J)=>U<=J,"in:<=":(U,J)=>U.every((U=>U<=J)),"like:like":(U,J)=>Ct(U.toLowerCase(),J.toLowerCase()),"like_cs:like":(U,J)=>Ct(U.toLowerCase(),J.toLowerCase()),"like:like_cs":(U,J)=>Ct(U,J)&&kt(J),"like_cs:like_cs":(U,J)=>Ct(U,J),"like:not like":(U,J)=>!xt(U.toLowerCase(),J.toLowerCase()),"like_cs:not like":(U,J)=>!xt(U.toLowerCase(),J.toLowerCase()),"like:not like_cs":(U,J)=>!xt(U.toLowerCase(),J.toLowerCase()),"like_cs:not like_cs":(U,J)=>!xt(U,J),"not like:like":(U,J)=>Nt(U,J),"not like_cs:like":(U,J)=>Nt(U,J),"not like:like_cs":(U,J)=>Nt(U,J),"not like_cs:like_cs":(U,J)=>Nt(U,J),"not like:not like":(U,J)=>Ct(J.toLowerCase(),U.toLowerCase()),"not like_cs:not like":(U,J)=>Ct(J,U)&&kt(U),"not like:not like_cs":(U,J)=>Ct(J.toLowerCase(),U.toLowerCase()),"not like_cs:not like_cs":(U,J)=>Ct(J,U),"in:like":(U,J)=>U.every((U=>ot(J,U,"like"))),"in:like_cs":(U,J)=>U.every((U=>ot(J,U,"like_cs"))),"in:not like":(U,J)=>U.every((U=>ot(J,U,"not like"))),"in:not like_cs":(U,J)=>U.every((U=>ot(J,U,"not like_cs"))),"like:in":(U,J)=>!U.includes("%")&&!U.includes("_")&&!!J.find((J=>J.toLowerCase()===U.toLowerCase())),"like_cs:in":(U,J)=>!U.includes("%")&&!U.includes("_")&&J.includes(U),"not like:in":(U,J)=>U.length>0&&Rt(U)||qt(U)&&J.includes(""),"not like_cs:in":(U,J)=>U.length>0&&Rt(U)||qt(U)&&J.includes(""),"not in:like":(U,J)=>J.length>0&&Rt(J)||qt(J)&&U.includes(""),"not in:like_cs":(U,J)=>J.length>0&&Rt(J)||qt(J)&&U.includes(""),"not in:not like":(U,J)=>!J.includes("%")&&!J.includes("_")&&!!U.find((U=>U.toLowerCase()===J.toLowerCase())),"not in:not like_cs":(U,J)=>!J.includes("%")&&!J.includes("_")&&U.includes(J),"like:not in":(U,J)=>J.every((J=>ot(U,J,"not like"))),"like_cs:not in":(U,J)=>J.every((J=>ot(U,J,"not like_cs"))),"not like:not in":(U,J)=>J.every((J=>ot(U,J,"like"))),"not like_cs:not in":(U,J)=>J.every((J=>ot(U,J,"like_cs"))),"array_includes_some:array_includes_some":(U,J)=>U.every((U=>J.includes(U))),"array_includes_all:array_includes_all":(U,J)=>U.every((U=>J.includes(U))),"array_not_includes:array_not_includes":(U,J)=>J.every((J=>U.includes(J))),"array_includes_some:array_not_includes":(U,J)=>U.every((U=>!J.includes(U))),"array_not_includes:array_includes_some":(U,J)=>J.every((J=>!U.includes(J))),"array_includes_all:array_includes_some":(U,J)=>U.every((U=>J.includes(U))),"array_includes_some:array_includes_all":(U,J)=>U.every((U=>J.includes(U))),"array_not_includes:array_includes_all":(U,J)=>J.every((J=>!U.includes(J))),"array_includes_all:array_not_includes":(U,J)=>U.every((U=>!J.includes(U)))};function Ct(U,J,ee=0,Se=0){if(Se>=J.length)return ee>=U.length;if(ee>=U.length)return Rt(J.substring(Se));const we=U[ee],Ee=J[Se];return"%"===we&&"%"===Ee?Ct(U,J,ee+1,Se+1)||Ct(U,J,ee+1,Se):"%"!==we&&("%"===Ee?Ct(U,J,ee,Se+1)||Ct(U,J,ee+1,Se):(we===Ee||"_"===Ee)&&Ct(U,J,ee+1,Se+1))}function xt(U,J,ee=0,Se=0){if(ee>=U.length&&Se>=J.length)return!0;if(ee>=U.length)return Rt(J.substring(Se));if(Se>=J.length)return Rt(U.substring(ee));const we=ee<U.length?U[ee]:"",Ee=Se<J.length?J[Se]:"";return"%"===we&&"%"===Ee?xt(U,J,ee+1,Se+1)||xt(U,J,ee,Se+1)||xt(U,J,ee+1,Se):"%"===we||"%"===Ee?xt(U,J,ee,Se+1)||xt(U,J,ee+1,Se):(we===Ee||"_"===we||"_"===Ee)&&xt(U,J,ee+1,Se+1)}function kt(U){return!/[a-zA-Z]/.test(U)}function Rt(U){return U.split("").every((U=>"%"===U))}function Nt(U,J){return U.length>0&&Rt(U)||J.length>0&&Rt(J)||qt(U)&&0===J.length}function qt(U){let J=!1,ee=!1;for(const Se of U)switch(Se){case"%":J=!0;break;case"_":if(ee)return!1;ee=!0;break;default:return!1}return J&&ee}class Lt{constructor(U){this.query=U,this.query=U,this.parsedConditions=this.parseConditions(this.query.conditions.filter(Be))}get integrationId(){return this.query.integrationId}get collectionName(){return this.query.collectionName}get limit(){return this.query.limit}sortedBy(U){const J=U.find(((U,J)=>{var ee;return!ae(this.query.sortOrder[J],Object.assign(Object.assign({},U),{asc:null===(ee=U.asc)||void 0===ee||ee}))}));return!J}sortedByExact(U){return U.length===this.query.sortOrder.length&&this.sortedBy(U)}isSubqueryOf(U,J,ee){return this.isSubqueryOfCondition({fieldName:U,operator:J,value:ee})}isSubqueryOfCondition(U){return!!this.parsedConditions.filter((J=>J.fieldName===U.fieldName)).find((J=>this.evaluateSubset(J,U)))}isSubqueryOfConditions(U){return this.parseConditions(U).every((U=>this.isSubqueryOfCondition(U)))}isSubqueryOfQuery(U){if(U.collectionName!==this.collectionName||U.integrationId!==this.integrationId)return!1;const J=U.conditions.filter(Be),ee=this.isSubqueryOfConditions(J),Se=this.sortedBy(U.sortOrder),we=-1===U.limit||this.limit>-1&&this.limit<U.limit;return ee&&Se&&we}getConditionsFor(...U){return this.parsedConditions.filter((J=>U.includes(J.fieldName)))}getConditionsForField(U){return this.parsedConditions.filter((J=>J.fieldName===U))}documentMatchesQuery(U){for(const J of this.parsedConditions){const ee=J.fieldName,Se=J.operator,we=te(U,ee);if("in"===Se){if(J.value.includes(we))continue;return!1}if("not in"!==Se){if(!ot(J.value,we,Se))return!1}else if(J.value.includes(we))return!1}return!0}evaluateSubset(U,J){const{operator:ee,value:Se}=U,{operator:we,value:Ee}=this.parseConditions([J])[0],je=mn[`${ee}:${we}`];return!!je&&je(Se,Ee)}evaluateIncludes(U,J){const{operator:ee,value:Se}=U,{operator:we,value:Ee}=this.parseConditions([J])[0],je=Array.isArray(Se)?Se.sort():Se,Ae=Array.isArray(Ee)?Ee.sort():Ee;return we===ee&&ae(Ae,je)}parseConditions(U){const J=[],ee=new Map,Se=new Map;return U.forEach((U=>{switch(U.operator){case"==":case"in":ee.set(U.fieldName,(ee.get(U.fieldName)||[]).concat(U.value));break;case"!=":case"not in":Se.set(U.fieldName,(Se.get(U.fieldName)||[]).concat(U.value));break;default:J.push(U)}})),ee.forEach(((U,ee)=>{J.push({fieldName:ee,operator:"in",value:U})})),Se.forEach(((U,ee)=>{J.push({fieldName:ee,operator:"not in",value:U})})),J}}class Bt{constructor(U,J,ee){this.documentStore=U,this.documentReferenceFactory=J,this.querySubscriptionManager=ee}peek(U){if(!this.querySubscriptionManager.findValidParentOfQuery(U))return[];const{integrationId:J,collectionName:ee}=U,Se=new Lt(U),we=this.documentReferenceFactory.getDocumentsForCollection(J,ee).filter((U=>Se.documentMatchesQuery(U.data))),Ee={};return we.forEach((U=>{Ee[U.squidDocId]=U})),this.documentStore.sortAndLimitDocs(new Set(Object.keys(Ee)),U).map((U=>Ee[ze(U.__docId__,ee,J)]))}}function Ut(U,J){return a((function(ee,Se){var we=0;ee.subscribe(k(Se,(function(ee){return U.call(J,ee,we++)&&Se.next(ee)})))}))}class Qt{constructor(U,J){this.rpcManager=U,this.destructManager=J,this.pendingQueryRequests=[],this.safeToSendQueriesToServer=new Ee.BehaviorSubject(!0),this.inflightQueriesCount=new Ee.BehaviorSubject(0),this.destructManager.onPreDestruct((()=>{this.preDestruct()}))}async sendQuery(U){const J=new Ee.Subject,ee=(0,Ee.firstValueFrom)(J);return this.pendingQueryRequests.push({queryRequest:U,responseSubject:J}),this.pendingQueryBatchTimeout&&(clearTimeout(this.pendingQueryBatchTimeout),this.pendingQueryBatchTimeout=void 0),this.pendingQueryRequests.length>=10?(this.processQueryBatch(),ee):(this.pendingQueryBatchTimeout=setTimeout((()=>{this.safeToSendQueriesToServer.pipe(Ut(Boolean),(0,Ee.take)(1)).subscribe((()=>{this.processQueryBatch()}))}),0),ee)}async processQueryBatch(){const U=this.pendingQueryRequests.splice(0);if(!U.length)return;const J=U.map((({queryRequest:U})=>U)),ee=U.map((({responseSubject:U})=>U));this.inflightQueriesCount.next(this.inflightQueriesCount.value+J.length);try{const ee=await this.rpcManager.post("query/batchQueries",J);for(const{queryRequest:J,responseSubject:Se}of U){const U=J.clientRequestId,we=ee.errors[U],Ee=ee.results[U];we?Se.error(we):Se.next(Ee)}}catch(U){ee.forEach((J=>J.error(U)))}finally{this.inflightQueriesCount.next(this.inflightQueriesCount.value-J.length)}}async waitForAllQueriesToFinish(){return(0,Ee.firstValueFrom)(this.inflightQueriesCount.pipe(Ut((U=>0===U)))).then((()=>{}))}preDestruct(){this.safeToSendQueriesToServer.next(!1),this.safeToSendQueriesToServer.complete()}}var gn,wn=r(4123);function $t(U,J,ee=((U,J)=>U>J?1:U<J?-1:0),Se=0,we=U.length-1){if(we<Se)return-1;const Ee=Math.trunc((Se+we)/2);return 0===ee(J,U[Ee])?Ee:ee(J,U[Ee])>0?$t(U,J,ee,Ee+1,we):$t(U,J,ee,Se,Ee-1)}function Wt(U,J,ee=((U,J)=>U>J?1:U<J?-1:0)){if(-1!==$t(U,J,ee))return;let Se;for(Se=U.length-1;Se>=0&&ee(U[Se],J)>0;Se--)U[Se+1]=U[Se];U[Se+1]=J}function zt(U,J,ee=((U,J)=>U>J?1:U<J?-1:0)){const Se=$t(U,J,ee);Se>-1&&U.splice(Se,1)}!function(U){U[U.UNKNOWN=0]="UNKNOWN",U[U.DISABLED=1]="DISABLED",U[U.ENABLED=2]="ENABLED"}(gn||(gn={}));const An=100,Fn=20;class Kt{constructor(U,J,ee,Se,we,je){this.rpcManager=U,this.clientIdService=J,this.documentStore=ee,this.destructManager=Se,this.documentIdentityService=we,this.querySender=je,this.onOrphanDocuments=new Ee.Subject,this.ongoingQueries=new Map,this.clientRequestIdToLocalDocuments=new Map,this.localDocumentToClientRequestIds=new Map,this.queryMappingManager=new Zt,this.queryResultsSubject=new Ee.Subject,this.documentIdentityService.observeChanges().subscribe(this.migrateDocIds.bind(this)),this.clientIdService.observeClientReadyToBeRegenerated().subscribe((()=>{this.refreshOngoingQueries()})),this.destructManager.onPreDestruct((()=>{this.preDestruct()}))}observeQueryResults(){return this.queryResultsSubject.asObservable()}hasOngoingQuery(U){return this.ongoingQueries.has(U)}getQuery(U){return(0,qe.truthy)(this.ongoingQueries.get(U),"UNKNOWN_QUERY").query}setGotInitialResult(U){const J=this.ongoingQueries.get(U);(null==J?void 0:J.gotInitialResponse)&&this.removeClientRequestIdMapping(U),J&&(J.gotInitialResponse=!0,J.isInFlight=!1)}findQueriesForDocument(U,J){const{collectionName:ee,integrationId:Se}=We(J),we=this.queryMappingManager.getMapping(ee,Se);return we?function(U,J){var ee;const Se=[...U.unconditional||[]],we=new Map;for(const[Se,Ee]of Object.entries(U.conditional||{})){const U=ye(Se);let je;if(Be(U)){const Se=null!==(ee=te(J,U.fieldName))&&void 0!==ee?ee:null;je=ot(U.value,Se,U.operator)}else je=Jt(U,J);if(je)for(const U of Ee)we.set(U,(we.get(U)||0)+1)}for(const[J,ee]of we.entries())ee>=U.queriesMetadata[J].condCount&&Se.push(J);return Se}(we,U):[]}setClientRequestIdsForLocalDoc(U,J){const ee=this.localDocumentToClientRequestIds.get(U)||new Set,Se=new Set(J?this.findQueriesForDocument(J,U).map((U=>function(U){const J=U.split("_");return{clientId:J[0],clientRequestId:J[1]}}(U).clientRequestId)):[]),we=new Set([...ee,...Se]);for(const J of[...ee]){if(Se.has(J))continue;ee.delete(J);const we=this.clientRequestIdToLocalDocuments.get(J);we&&(we.delete(U),we.size||this.clientRequestIdToLocalDocuments.delete(J)),ee.size||this.localDocumentToClientRequestIds.delete(U)}for(const J of Se){let ee=this.localDocumentToClientRequestIds.get(U);ee||(ee=new Set,this.localDocumentToClientRequestIds.set(U,ee)),ee.add(J);let Se=this.clientRequestIdToLocalDocuments.get(J);Se||(Se=new Set,this.clientRequestIdToLocalDocuments.set(J,Se)),Se.add(U)}return[...we]}errorOutAllQueries(U,J){const ee=this.localDocumentToClientRequestIds.get(U)||new Set;for(const U of ee){const ee=this.ongoingQueries.get(U);ee&&(this.destructManager.isDestructing?ee.dataSubject.complete():ee.dataSubject.error(J),ee.done=!0)}}notifyAllSubscriptions(U){const J=new Set;for(const ee of U){const U=this.ongoingQueries.get(ee);if(!U)continue;if(!U.gotInitialResponse||!U.activated||U.isInFlight)continue;const Se=this.clientRequestIdToLocalDocuments.get(ee)||new Set,we=this.documentStore.sortAndLimitDocs(Se,U.query),Ee=U.supportedQueries.map((U=>this.updateOngoingQueryWithNewDataFromSupportingQuery(we,U))).some(Boolean);let je=U;for(;!je.allObservables;)je=(0,qe.truthy)(null==je?void 0:je.supportingOngoingQuery);if(Ee&&J.add(je),U.query.limit>0)switch(U.limitUnderflowState){case gn.UNKNOWN:U.limitUnderflowState=Se.size===U.query.limit+An?gn.ENABLED:gn.DISABLED;break;case gn.DISABLED:break;case gn.ENABLED:if(Se.size<U.query.limit+Fn){U.limitUnderflowState=gn.UNKNOWN,this.sendQueryToServerOrUseParentQuery(U);continue}}U.dataSubject.next(we)}for(const U of J){const J=this.collectAllObservables(U);(0,qe.truthy)(U.allObservables).next(J)}}isValidParent(U){if(!U.activated||U.isInFlight||U.isEmptyForJoin||U.done||!U.subscribe||!U.gotInitialResponse||!U.dataSubject.value)return!1;const J=-1===U.query.limit?1e3:U.query.limit;return U.dataSubject.value.length<J}findValidParentOfOngoingQuery(U){if(U.forceFetchFromServer)return;const J=new Lt(U.query);for(const ee of this.ongoingQueries.values()){if(U===ee)return;if(this.isValidParent(ee)&&J.isSubqueryOfQuery(ee.query))return ee}}findValidParentOfQuery(U){const J=new Lt(U);for(const U of this.ongoingQueries.values())if(this.isValidParent(U)&&J.isSubqueryOfQuery(U.query))return U}processQuery(U,J,ee,Se,we,je){return(0,Ee.defer)((()=>{const Ae=this.createOngoingQueryGraph(U,J,ee,Se,we,!0);je&&(Ae.forceFetchFromServer=!0),this.sendQueryToServerOrUseParentQuery(Ae),Ae.allObservables=new Ee.ReplaySubject(1);const Fe=Ae.allObservables.pipe((0,Ee.switchMap)((U=>(0,Ee.combineLatest)(U).pipe(N((U=>this.joinResults(U,Se,Ae)))))),Ut((()=>this.allOngoingQueriesGotInitialResult(Ae))),(0,Ee.startWith)(void 0),(0,Ee.pairwise)(),Ut((([U,J])=>!ae(U,J))),N((([,U])=>U)),we?(0,Ee.tap)():(0,Ee.take)(1),(0,Ee.finalize)((()=>{var U;Ae.dataSubject.complete(),Ae.done=!0,this.completeAllSupportedQueries(Ae).then(),null===(U=Ae.allObservables)||void 0===U||U.complete()}))),xe=this.collectAllObservables(Ae);return Ae.allObservables.next(xe),Fe})).pipe((0,Ee.share)())}hasOngoingQueryForDocId(U){const J=this.localDocumentToClientRequestIds.get(U);return!!J&&!!J.size}removeClientRequestIdMapping(U){const J=this.clientRequestIdToLocalDocuments.get(U);if(!J)return;this.clientRequestIdToLocalDocuments.delete(U);const ee=[];for(const Se of J){const J=(0,qe.truthy)(this.localDocumentToClientRequestIds.get(Se));J.delete(U),J.size||(this.localDocumentToClientRequestIds.delete(Se),ee.push(Se))}ee.length&&this.onOrphanDocuments.next(ee)}registerQueryFinalizer(U){const J=U.clientRequestId,ee=at(this.clientIdService.getClientId(),J);U.dataSubject.pipe((0,Ee.finalize)((async()=>{if(U.unsubscribeBlockerCount.value>0&&await(0,Ee.firstValueFrom)((0,Ee.race)(this.destructManager.observeIsDestructing(),U.unsubscribeBlockerCount.pipe(Ut((U=>0===U))))),this.queryMappingManager.removeQuery(ee).then(),this.ongoingQueries.delete(J),U.subscribe&&!U.isEmptyForJoin&&U.activated){const ee={clientRequestId:J};this.rpcManager.post("query/unsubscribe",ee).catch((J=>{this.destructManager.isDestructing||console.error("Got error while unsubscribing from query",U.query,J)}))}this.removeClientRequestIdMapping(J),this.ongoingQueries.delete(J)})),Ut(Boolean)).subscribe({error:()=>{}})}createOngoingQueryGraph(U,J,ee,Se,we,je,Ae={}){if(Ae[J])return Ae[J];const Fe=L(),xe=[],Te={clientRequestId:Fe,activated:je,alias:J,query:U,subscribe:we,dataSubject:new Ee.BehaviorSubject(null),supportedQueries:xe,supportingOngoingQuery:void 0,joinCondition:void 0,gotInitialResponse:!1,isEmptyForJoin:!1,canExpandForJoin:!0,unsubscribeBlockerCount:new Ee.BehaviorSubject(0),queryRegistered:new Ee.BehaviorSubject(!1),done:!1,isInFlight:!1,forceFetchFromServer:!1,limitUnderflowState:we?gn.UNKNOWN:gn.DISABLED};this.registerQueryFinalizer(Te),this.ongoingQueries.set(Fe,Te),Ae[J]=Te;for(const[U,Ee]of Object.entries(Se)){const je=Ee.leftAlias;if(je!==J&&U!==J)continue;const Fe=je===J?U:je;if(je===J){const U=this.createOngoingQueryGraph(ee[Fe],Fe,ee,Se,we,!1,Ae);U.joinCondition=Ee,xe.push(U)}else Te.supportingOngoingQuery=this.createOngoingQueryGraph(ee[Fe],Fe,ee,Se,we,!1,Ae)}return Te}collectAllObservables(U,J=[]){if(U.isEmptyForJoin)return J;const ee=U.alias;J.push(U.dataSubject.pipe(Ut(Boolean),N((U=>({docs:U,alias:ee})))));for(const ee of U.supportedQueries)this.collectAllObservables(ee,J);return J}joinResults(U,J,ee){const Se=U.reduce(((U,J)=>(U[J.alias]?U[J.alias].push(...J.docs):U[J.alias]=[...J.docs],U)),{});let we=Se[ee.alias].map((U=>({[ee.alias]:U})));const Ee=this.getOngoingQueriesBfs(ee),je=new Set;for(let U=1;U<Ee.length;U++){const ee=Ee[U].alias;je.has(ee)||(je.add(ee),we=this.join(we,ee,Se[ee],J[ee]))}return we}join(U,J,ee,Se){if(!U.length)return U;const we=Object.keys(U[0]);if(!Se||!we.includes(Se.leftAlias))throw new Error("No join condition found for alias "+J);const Ee=new Map;return(ee||[]).forEach((U=>{const J=this.transformKey(U[Se.right]);Ee.has(J)||Ee.set(J,[]),(0,qe.truthy)(Ee.get(J)).push(U)})),U.flatMap((U=>{var ee;const we=Ee.get(this.transformKey(null===(ee=U[Se.leftAlias])||void 0===ee?void 0:ee[Se.left]))||[];return we.length?we.map((ee=>Object.assign(Object.assign({},U),{[J]:ee}))):Se.isInner?[]:[Object.assign(Object.assign({},U),{[J]:void 0})]}))}getOngoingQueriesBfs(U){const J=[],ee=[U];for(;ee.length;){const U=(0,qe.truthy)(ee.shift());U.isEmptyForJoin||(J.push(U),ee.push(...U.supportedQueries))}return J}updateOngoingQueryWithNewDataFromSupportingQuery(U,J){var ee;const Se=(0,qe.truthy)(J.joinCondition),we=J.query;if(J.activated){if(!J.canExpandForJoin)return!1;const je=(0,qe.truthy)(null===(ee=J.supportingOngoingQuery)||void 0===ee?void 0:ee.supportedQueries).filter((U=>U.alias===J.alias)),Ae=new Set(U.map((U=>{var J;return null!==(J=U[Se.left])&&void 0!==J?J:null})));for(const U of je)U.query.conditions.filter(Be).filter((U=>U.fieldName===Se.right)).forEach((U=>{Ae.delete(U.value)}));if(0===Ae.size)return!1;const Fe=ce(we);Fe.conditions=Fe.conditions.filter((U=>!Be(U)||U.fieldName!==Se.right)),[...Ae].forEach((U=>{Fe.conditions.push({fieldName:Se.right,operator:"==",value:U})}));const xe=Object.assign(Object.assign({},J),{query:Fe,activated:!0,gotInitialResponse:!1,dataSubject:new Ee.BehaviorSubject(null),clientRequestId:L(),isEmptyForJoin:!1});return this.registerQueryFinalizer(xe),this.ongoingQueries.set(xe.clientRequestId,xe),(0,qe.truthy)(J.supportingOngoingQuery).supportedQueries.push(xe),this.sendQueryToServerOrUseParentQuery(xe),!0}{if(J.activated=!0,we.conditions.filter(Be).filter((U=>U.fieldName===Se.right&&"=="===U.operator)).map((U=>U.value)).length)return this.sendQueryToServerOrUseParentQuery(J),J.canExpandForJoin=!1,!0;const ee=U.map((U=>{var J;return null!==(J=U[Se.left])&&void 0!==J?J:null})).map((U=>({fieldName:Se.right,operator:"==",value:U})));return ee.length?(we.conditions.push(...ee),this.sendQueryToServerOrUseParentQuery(J)):J.isEmptyForJoin=!0,!0}}allOngoingQueriesGotInitialResult(U){return!!U.isEmptyForJoin||!!U.gotInitialResponse&&(!U.supportedQueries.length||U.supportedQueries.every((U=>this.allOngoingQueriesGotInitialResult(U))))}async completeAllSupportedQueries(U){const J=[...U.supportedQueries||[]];for(;J.length;){const U=(0,qe.truthy)(J.shift());J.push(...U.supportedQueries||[]),await(0,Ee.firstValueFrom)(U.unsubscribeBlockerCount.pipe(Ut((U=>0===U)))),U.dataSubject.complete()}}transformKey(U){return U instanceof Date?`DATE AS string KEY: ${U.toISOString()}`:U}preDestruct(){this.unsubscribe()}unsubscribe(){var U;const J=[...this.ongoingQueries.values()];for(const ee of J)ee.dataSubject.complete(),null===(U=ee.allObservables)||void 0===U||U.complete()}hasSubscription(U){var J;return!!(null===(J=this.ongoingQueries.get(U))||void 0===J?void 0:J.subscribe)}sendQueryToServerOrUseParentQuery(U,J=!1){if(this.destructManager.isDestructing)return;const ee=U.query,Se=U.clientRequestId,we=at(this.clientIdService.getClientId(),Se);this.queryMappingManager.addQuery(ee,we),this.ongoingQueries.set(Se,U);const Ee=J?void 0:this.findValidParentOfOngoingQuery(U);Ee?this.useParentOngoingQuery(U,Ee).then():this.sendQueryToServer(U)}async useParentOngoingQuery(U,J){const ee={clientRequestId:U.clientRequestId,query:U.query,parentClientRequestId:J.clientRequestId},Se=new Lt(U.query);J.unsubscribeBlockerCount.next(J.unsubscribeBlockerCount.value+1);try{await(0,Ee.firstValueFrom)(J.queryRegistered.pipe(Ut(Boolean)))}catch(J){return this.destructManager.isDestructing?(U.dataSubject.complete(),U.queryRegistered.complete()):(U.dataSubject.error(J),U.queryRegistered.error(J)),void(U.done=!0)}if(this.destructManager.isDestructing)return;if(U.done)return;this.rpcManager.post("query/register",ee).then((()=>{U.isInFlight=!1,U.queryRegistered.next(!0)})).catch((ee=>{U.isInFlight=!1,this.destructManager.isDestructing?U.dataSubject.complete():(console.error("Query error",U.query,J.query,ee),U.dataSubject.error(ee)),U.done=!0})).finally((()=>{J.unsubscribeBlockerCount.next(J.unsubscribeBlockerCount.value-1)}));const we=(0,Ee.race)(U.queryRegistered.pipe(Ut(Boolean),(0,Ee.delay)(2e3),(0,Ee.take)(1)),this.destructManager.observeIsDestructing().pipe((0,Ee.take)(1)));J.dataSubject.pipe((0,Ee.takeWhile)((()=>!U.done)),(0,Ee.takeUntil)(we),Ut(Boolean),(0,Ee.tap)((()=>{U.gotInitialResponse||this.setGotInitialResult(U.clientRequestId)})),N((U=>U.filter((U=>Se.documentMatchesQuery(U)))))).subscribe({next:J=>{for(const ee of J)this.setClientRequestIdsForLocalDoc(ze(ee.__docId__,U.query.collectionName,U.query.integrationId),ee);this.notifyAllSubscriptions([U.clientRequestId])},error:J=>{this.destructManager.isDestructing?U.dataSubject.complete():U.dataSubject.error(J)}})}sendQueryToServer(U){const J=U.query.limit,ee=J>0&&U.subscribe?J+An:J,Se={query:Object.assign(Object.assign({},U.query),{limit:ee}),clientRequestId:U.clientRequestId,subscribe:U.subscribe};U.isInFlight=!0,this.querySender.sendQuery(Se).then((J=>{U.isInFlight=!1,U.queryRegistered.next(!0),this.queryResultsSubject.next(J)})).catch((J=>{U.isInFlight=!1,this.destructManager.isDestructing?(U.dataSubject.complete(),U.queryRegistered.complete()):(_e.debug("Query error",U.query,J),U.dataSubject.error(J),U.queryRegistered.error("query failed")),U.done=!0}))}refreshOngoingQueries(){for(const U of this.ongoingQueries.values())this.sendQueryToServerOrUseParentQuery(U,!0)}migrateDocIds(U){const J=Object.keys(U);for(const ee of this.clientRequestIdToLocalDocuments.values())J.forEach((J=>{ee.has(J)&&(ee.delete(J),ee.add(U[J]))}));J.forEach((J=>{oe(this.localDocumentToClientRequestIds,J,U[J])}))}}function Jt(U,J){var ee;for(const Se of U.fields){const U=null!==(ee=te(J,Se.fieldName))&&void 0!==ee?ee:null;if(ot(Se.value,U,Se.operator))return!0;if(ot(Se.value,U,"!="))return!1}return!1}class Zt{constructor(){this.stateService=new wn.TrieStore({}),this.querySubscriptionIdToQuery={}}addQuery(U,J){this.stateService.runInBatch((()=>{let ee=0;const Se=new Set;for(const we of U.conditions){if(Be(we)&&["=="].includes(we.operator)){const U=ve(we.fieldName);Se.has(U)||(ee++,Se.add(U))}else ee++;const Ee=this.getConditionStatePath(U,we),je=[...this.stateService.get(Ee)||[]];Wt(je,J),this.stateService.set(Ee,je)}if(!U.conditions.length){const ee=["queryMapping",U.collectionName,U.integrationId,"mapping","unconditional"],Se=[...this.stateService.get(ee)||[]];Wt(Se,J),this.stateService.set(ee,Se)}this.stateService.set([...this.getQueryMetadataStatePath(U,J),"condCount"],ee)})),this.querySubscriptionIdToQuery[J]=U}async removeQuery(U){const J=this.querySubscriptionIdToQuery[U];if(J)return this.stateService.runInBatch((()=>{for(const ee of J.conditions){const Se=this.getConditionStatePath(J,ee),we=[...this.stateService.get(Se)||[]];zt(we,U),we.length?this.stateService.set(Se,we):this.stateService.delete(Se)}if(!J.conditions.length){const ee=["queryMapping",J.collectionName,J.integrationId,"mapping","unconditional"],Se=[...this.stateService.get(ee)||[]];zt(Se,U),this.stateService.set(ee,Se)}this.stateService.delete(this.getQueryMetadataStatePath(J,U))})),J}getMapping(U,J){return this.stateService.get(["queryMapping",U,J,"mapping"])}getQueryMetadataStatePath(U,J){return["queryMapping",U.collectionName,U.integrationId,"mapping","queriesMetadata",`${J}`]}getConditionStatePath(U,J){return["queryMapping",U.collectionName,U.integrationId,"mapping","conditional",(ee=J,pe(ee))];var ee}}class Xt{constructor(){this.locks={}}async lock(...U){if(this.canGetLock(...U))return void this.lockSync(...U);const J=Object.entries(this.locks).filter((([J])=>U.includes(J))).map((([,U])=>U));await(0,Ee.lastValueFrom)((0,Ee.combineLatest)(J).pipe((0,Ee.filter)((U=>!U.includes(!0))),(0,Ee.take)(1))),await this.lock(...U)}release(...U){for(const J of U){const U=(0,qe.truthy)(this.locks[J]);U.next(!1),U.complete(),delete this.locks[J]}}canGetLock(...U){return!U.some((U=>{var J;return null===(J=this.locks[U])||void 0===J?void 0:J.value}))}lockSync(...U){(0,qe.assertTruthy)(this.canGetLock(...U),"Cannot acquire lock sync");for(const J of U)this.locks[J]=new Ee.BehaviorSubject(!0)}}class er{constructor(U,J,ee){this.rpcManager=U,this.socketManager=J,this.queueManagers=new Map,this.socketManager.observeNotifications().subscribe((U=>{const J=this.getOrUndefined(U.integrationId,U.topicName);J&&J.onMessages(U.payload)})),ee.onPreDestruct((()=>{for(const U of this.queueManagers.values())for(const J of U.values())J.destruct()}))}get(U,J){let ee=this.queueManagers.get(U);ee||(ee=new Map,this.queueManagers.set(U,ee));let Se=ee.get(J);return Se||(Se=new rr(U,J,this.rpcManager),ee.set(J,Se)),Se}getOrUndefined(U,J){var ee;return null===(ee=this.queueManagers.get(U))||void 0===ee?void 0:ee.get(J)}}const Bn="subscriptionMutex";class rr{constructor(U,J,ee){this.integrationId=U,this.topicName=J,this.rpcManager=ee,this.messagesSubject=new Ee.Subject,this.subscriberCount=0,this.lockManager=new Xt}async produce(U){await this.lockManager.lock(Bn);try{await this.rpcManager.post("queue/produceMessages",{integrationId:this.integrationId,topicName:this.topicName,messages:U})}finally{this.lockManager.release(Bn)}}consume(){return(0,Ee.defer)((()=>(this.subscriberCount++,1===this.subscriberCount&&this.performSubscribe(),this.messagesSubject.asObservable().pipe((0,Ee.finalize)((()=>{this.subscriberCount--,0===this.subscriberCount&&this.performUnsubscribe()}))))))}async performSubscribe(){await this.lockManager.lock(Bn);try{await this.rpcManager.post("queue/subscribe",{integrationId:this.integrationId,topicName:this.topicName})}catch(U){this.messagesSubject.error(U),this.messagesSubject.complete(),this.subscriberCount=0,this.messagesSubject=new Ee.Subject}finally{this.lockManager.release(Bn)}}async performUnsubscribe(){await this.lockManager.lock(Bn);try{await this.rpcManager.post("queue/unsubscribe",{integrationId:this.integrationId,topicName:this.topicName})}finally{this.lockManager.release(Bn)}}onMessages(U){for(const J of U)this.messagesSubject.next(J)}destruct(){this.messagesSubject.complete()}}class nr{constructor(U,J){this.capacity=U,this.seconds=J,this.tokens=U,this.refillRatePerMs=U/(1e3*J),this.lastRefillTimestamp=Date.now()}async consume(){this.attemptConsume()||await(0,Ee.firstValueFrom)((0,Ee.interval)(10).pipe((0,Ee.filter)((()=>this.attemptConsume())),(0,Ee.first)()))}attemptConsume(){return this.refill(),this.tokens>=1&&(this.tokens-=1,!0)}refill(){const U=Date.now(),J=(U-this.lastRefillTimestamp)*this.refillRatePerMs;this.tokens=Math.min(this.tokens+J,this.capacity),this.lastRefillTimestamp=U}}const ei=["aiData","api","application","application-kotlin","backend-function","extraction","internal-storage","internalCodeExecutor","mutation","named-query","native-query","observability","openapi","query","queue","quota","secret","storage","webhooks","ws"];function or(U,J,ee){const Se=new URL("https://squid.cloud");Se.host=`${J}.${U}.${Se.host}`;const we=ee.replace(/^\//g,"").split("/")[0]||"";sr(U)&&(Se.protocol="http",Se.port=ei.includes(we)?"8001":"8000",function(U){return/android$/.test(U)}(U)?Se.host="10.0.2.2":function(U){return/ios$/.test(U)}(U)&&(Se.host="localhost"));const Ee=Se.toString();ee=ee.startsWith("/")?ee.slice(1):ee;const je=Ee.replace(/\/$/g,"");return ee.length?`${je}/${ee}`:je}function sr(U){return/^local/.test(U)}const si="1.0.261";class ur extends Error{constructor(U,J,ee,Se,we,Ee){super(Ee||`RPC error ${U} ${J} calling ${ee}`),this.statusCode=U,this.statusText=J,this.url=ee,this.headers=Se,this.body=we}}async function cr(U){const J=await async function({headers:U,files:J,filesFieldName:ee,message:Se,url:we,extractErrorMessage:Ee}){const je=new Headers(U);je.append("x-squid-client-version",si);const Ae={method:"POST",headers:je,body:void 0};if(J.length){const U=new FormData;for(const Se of J){const J=Se instanceof Blob?Se:Se.blob,we=(Blob,Se.name);U.append(ee,J,we)}U.append("body",be(Se)),Ae.body=U}else je.append("Content-Type","application/json"),Ae.body=be(Se);try{const J=await fetch(we,Ae),ee={};if(J.headers.forEach(((U,J)=>{ee[J]=U})),!J.ok){const Se=await J.text(),je=lr(Se);if(!Ee)throw new ur(J.status,J.statusText,we,ee,je,Se);let Ae;try{Ae="string"==typeof je?je:(null==je?void 0:je.message)||Se}catch(U){}throw Ae||(Ae=J.statusText),new ur(J.status,J.statusText,we,ee,je,Ae)}const Se=await J.text();return _e.debug(`received response from url ${we}: ${JSON.stringify(Se)}`),{body:Se,headers:ee,status:J.status,statusText:J.statusText}}catch(U){throw _e.debug(`Unable to perform fetch request to url: ${we}`,U),U}}(U);return J.body=lr(J.body),J}function lr(U){if(U){try{return ye(U)}catch(U){}return U}}class dr{constructor(U,J,ee,Se,we,je){this.region=U,this.appId=J,this.authManager=we,this.clientIdService=je,this.staticHeaders={},this.onGoingRpcCounter=new Ee.BehaviorSubject(0);for(const[U,J]of Object.entries(Se))this.setStaticHeader(U,J);this.clientIdService.observeClientId().subscribe((U=>{U?this.setStaticHeader("x-squid-clientid",U):this.deleteStaticHeader("x-squid-clientid")})),ee.onDestruct((async()=>{await this.awaitAllSettled()}));const Ae=this.authManager.getApiKey()?5:1;this.rateLimiters={default:new nr(60*Ae,5),ai:new nr(20*Ae,5),secret:new nr(20*Ae,5)}}async getAuthHeaders(){const U=this.authManager.getApiKey();if(U)return{Authorization:`ApiKey ${U}`};const{token:J,integrationId:ee}=await this.authManager.getAuthData();if(!J)return{};let Se=`Bearer ${J}`;return ee&&(Se+=`; IntegrationId ${ee}`),{Authorization:Se}}async awaitAllSettled(){await(0,Ee.firstValueFrom)(this.onGoingRpcCounter.pipe((0,Ee.filter)((U=>0===U))))}setStaticHeader(U,J){this.staticHeaders[U]=J}deleteStaticHeader(U){delete this.staticHeaders[U]}getStaticHeaders(){return this.staticHeaders}async post(U,J,ee=[],Se="files"){return(await this.rawPost(U,J,ee,Se)).body}async rawPost(U,J,ee=[],Se="files",we=!0){this.onGoingRpcCounter.next(this.onGoingRpcCounter.value+1);try{await this.getRateLimiterBucket(U).consume();const Ee=await this.getAuthHeaders(),je=Object.assign(Object.assign({},this.staticHeaders),Ee);_e.debug(`sending request: path: ${U} message: ${JSON.stringify(J)}`);const Ae=or(this.region,this.appId,U);return await cr({url:Ae,headers:je,message:J,files:ee,filesFieldName:Se,extractErrorMessage:we})}finally{this.onGoingRpcCounter.next(this.onGoingRpcCounter.value-1)}}getRateLimiterBucket(U){return U.startsWith("ai/chatbot")?(0,qe.truthy)(this.rateLimiters.ai,"MISSING_RATE_LIMITER_AI"):U.startsWith("secret/")?(0,qe.truthy)(this.rateLimiters.secret,"MISSING_RATE_LIMITER_SECRETS"):(0,qe.truthy)(this.rateLimiters.default,"MISSING_RATE_LIMITER_DEFAULT")}}class hr{constructor(U){this.rpcManager=U}reportMetric(U){const J={metrics:[U]};this.rpcManager.post("/observability/metrics",J)}}class fr{constructor(U){this.rpcManager=U}async get(U){const J={key:U};return await this.rpcManager.post("secret/get",J)||void 0}getAll(){return this.rpcManager.post("secret/getAll",{})}upsert(U,J){return this.upsertMany([{key:U,value:J}]).then((U=>U[0]))}upsertMany(U){const J={entries:U};return this.rpcManager.post("secret/upsert",J)}delete(U){const J={keys:[U]};return this.rpcManager.post("secret/delete",J)}deleteMany(U){const J={keys:U};return this.rpcManager.post("secret/delete",J)}get apiKeys(){return new pr(this.rpcManager)}}class pr{constructor(U){this.rpcManager=U}get(U){const J={key:U};return this.rpcManager.post("secret/api-key/get",J)}getAll(){return this.rpcManager.post("secret/api-key/getAll",{})}upsert(U){const J={key:U};return this.rpcManager.post("secret/api-key/upsert",J)}delete(U){const J={key:U};return this.rpcManager.post("secret/api-key/delete",J)}}const br=U=>U();var li;function vr(){}const fi="undefined"!=typeof process&&(null===(li=process.versions)||void 0===li?void 0:li.node)?r(5086):me().WebSocket;class mr{constructor(U,J,ee,Se=br,we,je){this.clientIdService=U,this.region=J,this.appId=ee,this.messageNotificationWrapper=Se,this.destructManager=we,this.authManager=je,this.webSocketObserver=new Ee.Subject,this.allMessagesObserver=new Ee.Subject,this.connectionReady=new Ee.BehaviorSubject(!1),this.seenMessageIds=new Set,this.destructSubject=new Ee.Subject,this.connectedAtLeastOnce=!1,this.clientTooOldThreshold=3e4,this.destructManager.onDestruct((async()=>{await this.destruct()})),this.setupMessageAcknowledgments(),this.connect(),this.lastTick=new Date,this.tickInterval=setInterval((()=>this.tick()),5e3),this.observeConnectionReady().pipe((0,Ee.skip)(1),(0,Ee.filter)((U=>!U)),(0,Ee.switchMap)((()=>(0,Ee.race)((0,Ee.timer)(this.clientTooOldThreshold),this.connectionReady.pipe((0,Ee.filter)(Boolean)),this.destructManager.observeIsDestructing())))).subscribe((()=>{this.connectionReady.value?_e.debug(this.clientIdService.getClientId(),"Client reconnected before becoming too old. Ignoring..."):this.destructManager.isDestructing||(_e.debug(this.clientIdService.getClientId(),"Client disconnected for a long period - refreshing"),this.refreshClient())})),this.observeConnectionReady().pipe((0,Ee.filter)(Boolean)).subscribe((()=>{this.clientIdService.isClientTooOld()&&this.clientIdService.notifyClientNotTooOld()}))}refreshClient(){this.destructManager.isDestructing?_e.debug(this.clientIdService.getClientId(),"Client too old but is destructed. Ignoring..."):this.clientIdService.isClientTooOld()?_e.debug(this.clientIdService.getClientId(),"Client is already marked as too old. Ignoring..."):(_e.debug(this.clientIdService.getClientId(),"Notifying client too old"),this.clientIdService.notifyClientTooOld(),_e.debug(this.clientIdService.getClientId(),"Client too old. Reconnecting..."),this.connect())}tick(){Math.abs(Date.now()-this.lastTick.getTime())>this.clientTooOldThreshold&&(_e.debug(this.clientIdService.getClientId(),"Tick: Client not responding for a long time. Refreshing..."),this.refreshClient()),this.lastTick=new Date}observeNotifications(){return this.webSocketObserver.asObservable()}observeConnectionReady(){return this.connectionReady.asObservable().pipe((0,Ee.distinctUntilChanged)())}sendMessage(U){this.sendMessageAsync(U).then()}async sendMessageAsync(U){var J;await(0,Ee.firstValueFrom)(this.connectionReady.pipe((0,Ee.filter)(Boolean)));const ee=await this.authManager.getToken();if(this.connectionReady.value)try{(0,qe.assertTruthy)(this.socket,"Socket is undefined in sendMessageAsync");const J=be({message:U,authToken:ee});_e.debug(this.clientIdService.getClientId(),"Sending message to socket: ",J),this.socket.send(J)}catch(ee){(null===(J=this.socket)||void 0===J?void 0:J.connected)?console.error("Websocket message is ignored due to a non-recoverable error",ee):(this.connectionReady.next(!1),await this.sendMessageAsync(U))}else await this.sendMessageAsync(U)}sendKillMessage(){var U;(null===(U=this.socket)||void 0===U?void 0:U.connected)&&this.socket.send(be({message:{type:"kill"}}))}closeCurrentSocketSilently(){if(this.socket)try{this.socket.close()}catch(U){}}connect(){this.closeCurrentSocketSilently(),this.connectionReady.value&&this.connectionReady.next(!1);const U=or(this.region,this.appId,"ws/general").replace("https","wss").replace("http","ws"),J=this.clientIdService.getClientId();_e.debug(this.clientIdService.getClientId(),"Connecting to socket at:",U);const ee=`${U}?clientId=${J}`;this.socket=function(U,J={}){let ee,Se=0,we=1;const Ee={connected:!1,closeCalled:!1,open(){var we;const je=null!==(we=null==fi?void 0:fi.WebSocket)&&void 0!==we?we:fi;ee=new je(U,J.protocols||[]),ee.onmessage=J.onmessage?U=>{U.data&&J.onmessage?J.onmessage(U):console.log("No data received from websockets, please contact support@squid.cloud with this message.")}:vr,ee.onopen=function(U){Ee.connected=!0,(J.onopen||vr)(U),Se=0},ee.onclose=function(U){if(Ee.connected=!1,4999!==U.code&&4001!==U.code)return _e.debug("WebSocket closed. Reconnecting. Close code: ",U.code),(J.onclose||vr)(U),void Ee.reconnect(U);(J.onclose||vr)(U)},ee.onerror=function(U){Ee.connected=!1,U&&"ECONNREFUSED"===U.code?Ee.reconnect(U):Ee.closeCalled||(J.onerror||vr)(U)}},reconnect(U){const ee=void 0!==J.maxAttempts?J.maxAttempts:1/0;we&&Se++<ee?we=setTimeout((function(){(J.onreconnect||vr)(U),_e.debug("WebSocket trying to reconnect..."),Ee.open()}),J.timeoutMillis||1e3):(J.onmaximum||vr)(U)},json(U){ee.send(JSON.stringify(U))},send(U){ee.send(U)},close(U=4999,J){Ee.closeCalled=!0;try{Ee.connected=!1,clearTimeout(we),we=void 0,ee.close(U,J)}catch(U){}}};return Ee.open(),Ee}(ee,{timeoutMillis:1e4,onmessage:U=>this.onMessage(U.data),onopen:()=>{_e.debug(this.clientIdService.getClientId(),`Connection to socket established. Endpoint: ${U}`)},onreconnect:()=>{_e.debug(J,"WebSocket reconnect event triggered"),this.clientIdService.getClientId()===J?this.connectionReady.value&&this.connectionReady.next(!1):_e.debug(J,`WebSocket reconnect event triggered - ignored because the client id changed. Old: ${this.clientIdService.getClientId()}`)},onclose:()=>{_e.debug(J,"WebSocket onclose event triggered"),this.clientIdService.getClientId()===J?this.connectionReady.value&&this.connectionReady.next(!1):_e.debug(J,`WebSocket onclose event triggered - ignored because the client id changed. new: ${this.clientIdService.getClientId()}`)},onerror:U=>console.error("WebSocket error:",U)})}disconnectForTest(){var U;this.connectionReady.next(!1),null===(U=this.socket)||void 0===U||U.close(4998)}onConnectionReady(){this.connectionReady.next(!0),this.connectedAtLeastOnce?this.sendMessage({type:"catchup"}):this.connectedAtLeastOnce=!0}onMessage(U){if("connectionReady"===U)return _e.debug(this.clientIdService.getClientId(),"Got socket message: connectionReady"),void this.onConnectionReady();const J=ye(U);for(const U of J)this.allMessagesObserver.next(U),this.seenMessageIds.has(U.messageId)||(this.seenMessageIds.add(U.messageId),_e.debug(this.clientIdService.getClientId(),new Date,"Got socket message",JSON.stringify(U,null,2)),this.messageNotificationWrapper((()=>{this.webSocketObserver.next(U)})))}setupMessageAcknowledgments(){const U=new Ee.Subject;this.allMessagesObserver.subscribe((J=>{(null==J?void 0:J.messageId)&&U.next(J.messageId)}));const J=[];U.pipe((0,Ee.tap)((U=>J.push(U))),(0,Ee.debounceTime)(100)).subscribe((async()=>{const U=[...J.splice(0)];this.sendMessage({type:"acknowledge",payload:U})}))}async destruct(){this.sendKillMessage(),await(0,Ee.firstValueFrom)((0,Ee.timer)(0)),this.connectionReady.next(!1),await(0,Ee.firstValueFrom)((0,Ee.timer)(0)),clearInterval(this.tickInterval),this.closeCurrentSocketSilently(),this.webSocketObserver.complete(),this.allMessagesObserver.complete(),this.destructSubject.next()}}class Or{constructor(U="built_in_storage",J){this.integrationId=U,this.rpcManager=J}async uploadFile(U,J,ee){const Se={integrationId:this.integrationId,dirPathInBucket:U,expirationInSeconds:ee};await this.rpcManager.post("storage/uploadFile",Se,[J])}async getFileMetadata(U){const J={integrationId:this.integrationId,filePathInBucket:U};return await this.rpcManager.post("storage/getFileMetadata",J)}async getDownloadUrl(U,J){const ee={integrationId:this.integrationId,filePathInBucket:U,urlExpirationInSeconds:J};return await this.rpcManager.post("storage/getDownloadUrl",ee)}async listDirectoryContents(U){const J={integrationId:this.integrationId,dirPathInBucket:U};return await this.rpcManager.post("storage/listDirectoryContents",J)}async deleteFile(U){await this.deleteFiles([U])}async deleteFiles(U){const J={integrationId:this.integrationId,filePathsInBucket:U};await this.rpcManager.post("storage/deleteFiles",J)}}class Sr{constructor(U){this.rpcManager=U}async extractDataFromDocumentFile(U){return await this.rpcManager.post("documentExtraction/extractDataFromDocumentFile",{},[U])}}class wr{constructor(U){this.options=U,this.destructManager=new Ot,(0,qe.assertTruthy)(U.appId,"APP_ID_MUST_BE_PROVIDED");for(const U of Object.getOwnPropertyNames(Object.getPrototypeOf(this))){const J=this[U];"function"!=typeof J||"constructor"===U||U.startsWith("_")||(this[U]=J.bind(this))}const J="prod"!==U.environmentId&&U.squidDeveloperId,ee=function(U,J,ee){return`${function _r(U,J){return`${function(U){(0,qe.assertString)(U,"Invalid application ID");const[J,ee,Se,we]=U.split("-");return(0,qe.assertTruthy)(!we,`Invalid application ID: ${U}`),{appId:J,environmentId:null!=ee?ee:"prod",squidDeveloperId:Se}}(U).appId}${J&&"prod"!==J?`-${J}`:""}`}(U,J)}${ee?`-${ee}`:""}`}(U.appId,U.environmentId,J?U.squidDeveloperId:void 0),Se=function(U,J){const ee={};return sr(U)&&(ee["x-squid-appid"]=J),ee}(U.region,ee);this.clientIdService=new Oe(this.destructManager),this.authManager=new X(U.apiKey,U.authProvider),this.socketManager=new mr(this.clientIdService,U.region,ee,U.messageNotificationWrapper,this.destructManager,this.authManager),this.rpcManager=new dr(U.region,ee,this.destructManager,Se,this.authManager,this.clientIdService),this.aiClientFactory=new H(this.rpcManager,this.socketManager),this.aiClient=new K(this.aiClientFactory,this.rpcManager),this.apiClient=new Z(this.rpcManager),this.documentStore=new Et,this.lockManager=new Xt,this.distributedLockManager=new St(this.socketManager,this.destructManager),this.documentIdentityService=new It(this.documentStore,this.destructManager),this.documentReferenceFactory=new Mt(this.documentIdentityService),this.querySender=new Qt(this.rpcManager,this.destructManager),this.observabilityClient=new hr(this.rpcManager),this.querySubscriptionManager=new Kt(this.rpcManager,this.clientIdService,this.documentStore,this.destructManager,this.documentIdentityService,this.querySender),this.localQueryManager=new Bt(this.documentStore,this.documentReferenceFactory,this.querySubscriptionManager);const we=new Tt(this.rpcManager,this.lockManager,this.querySender);this.queryBuilderFactory=new Ke(this.querySubscriptionManager,this.localQueryManager,this.documentReferenceFactory,this.documentIdentityService),this.dataManager=new mt(this.documentStore,we,this.socketManager,this.querySubscriptionManager,this.queryBuilderFactory,this.lockManager,this.destructManager,this.documentIdentityService,this.querySender),this.collectionReferenceFactory=new lt(this.documentReferenceFactory,this.queryBuilderFactory,this.querySubscriptionManager,this.dataManager),this.documentReferenceFactory.setDataManager(this.dataManager),this.backendFunctionManager=new ge(this.clientIdService,this.rpcManager),this.nativeQueryManager=new At(this.rpcManager),this.secretClient=new fr(this.rpcManager),this._connectionDetails=new dt(this.clientIdService,this.socketManager),this.queueManagerFactory=new er(this.rpcManager,this.socketManager,this.destructManager)}static getInstance(U){const J=pe(U);let ee=wr.squidInstancesMap[J];return ee||(ee=new wr(U),wr.squidInstancesMap[J]=ee,ee)}static getInstances(){return Object.values(wr.squidInstancesMap)}setAuthProvider(U){this.authManager.setAuthProvider(U)}collection(U,J=sn.built_in_db){return this._validateNotDestructed(),this.collectionReferenceFactory.get(U,J)}runInTransaction(U){return this._validateNotDestructed(),this.dataManager.runInTransaction(U)}executeFunction(U,...J){return this._validateNotDestructed(),(0,Ee.firstValueFrom)(this.backendFunctionManager.executeFunctionAndSubscribe(U,...J))}executeNativeRelationalQuery(U,J,ee={}){const Se={type:"relational",query:J,params:ee,integrationId:U};return this.nativeQueryManager.executeNativeQuery(Se)}executeNativeMongoQuery(U,J,ee){const Se={type:"mongo",collectionName:J,aggregationPipeline:ee,integrationId:U};return this.nativeQueryManager.executeNativeQuery(Se)}ai(){return this._validateNotDestructed(),this.aiClient}api(){return this._validateNotDestructed(),this.apiClient}storage(U="built_in_storage"){return this._validateNotDestructed(),new Or(U,this.rpcManager)}extraction(){return this._validateNotDestructed(),new Sr(this.rpcManager)}get secrets(){return this.secretClient}get observability(){return this.observabilityClient}acquireLock(U){return this._validateNotDestructed(),this.distributedLockManager.lock(U)}async withLock(U,J){const ee=await this.acquireLock(U);try{return await J(ee)}finally{ee.release()}}queue(U,J=sn.built_in_queue){return this._validateNotDestructed(),this.queueManagerFactory.get(J,U)}async destruct(){return this.destructManager.destruct().finally((()=>{const U=Object.entries(wr.squidInstancesMap).find((([,U])=>U===this));U&&delete wr.squidInstancesMap[U[0]]}))}connectionDetails(){return this._validateNotDestructed(),this._connectionDetails}async _unsubscribe(){this.querySubscriptionManager.unsubscribe(),await this.rpcManager.awaitAllSettled()}_validateNotDestructed(){(0,qe.assertTruthy)(!this.destructManager.isDestructing,"The client was already destructed.")}internal(){const{rpcManager:U}=this;return{getApplicationUrl:(U,J,ee)=>or(U,J,ee),getStaticHeaders:()=>U.getStaticHeaders()}}}wr.squidInstancesMap={};var Si=J;for(var ji in we)Si[ji]=we[ji];we.__esModule&&Object.defineProperty(Si,"__esModule",{value:!0})})()},421:U=>{"use strict";U.exports={mask:(U,J,ee,Se,we)=>{for(var Ee=0;Ee<we;Ee++)ee[Se+Ee]=U[Ee]^J[3&Ee]},unmask:(U,J)=>{const ee=U.length;for(var Se=0;Se<ee;Se++)U[Se]^=J[3&Se]}}},3175:(U,J,ee)=>{"use strict";try{U.exports=ee(853)(__dirname)}catch(J){U.exports=ee(421)}},853:(U,J,ee)=>{const Se=require;"function"==typeof Se.addon?U.exports=Se.addon.bind(Se):U.exports=ee(4049)},4049:(U,J,ee)=>{var Se=ee(9896),we=ee(6928),Ee=ee(857),je=require,Ae=process.config&&process.config.variables||{},Fe=!!process.env.PREBUILDS_ONLY,xe=process.versions.modules,Te=function isElectron(){return!(!process.versions||!process.versions.electron)||(!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type)}()?"electron":function isNwjs(){return!(!process.versions||!process.versions.nw)}()?"node-webkit":"node",Ie=process.env.npm_config_arch||Ee.arch(),ke=process.env.npm_config_platform||Ee.platform(),Ce=process.env.LIBC||(function isAlpine(U){return"linux"===U&&Se.existsSync("/etc/alpine-release")}(ke)?"musl":"glibc"),De=process.env.ARM_VERSION||("arm64"===Ie?"8":Ae.arm_version)||"",Re=(process.versions.uv||"").split(".")[0];function load(U){return je(load.resolve(U))}function readdirSync(U){try{return Se.readdirSync(U)}catch(U){return[]}}function getFirst(U,J){var ee=readdirSync(U).filter(J);return ee[0]&&we.join(U,ee[0])}function matchBuild(U){return/\.node$/.test(U)}function parseTuple(U){var J=U.split("-");if(2===J.length){var ee=J[0],Se=J[1].split("+");if(ee&&Se.length&&Se.every(Boolean))return{name:U,platform:ee,architectures:Se}}}function matchTuple(U,J){return function(ee){return null!=ee&&(ee.platform===U&&ee.architectures.includes(J))}}function compareTuples(U,J){return U.architectures.length-J.architectures.length}function parseTags(U){var J=U.split("."),ee={file:U,specificity:0};if("node"===J.pop()){for(var Se=0;Se<J.length;Se++){var we=J[Se];if("node"===we||"electron"===we||"node-webkit"===we)ee.runtime=we;else if("napi"===we)ee.napi=!0;else if("abi"===we.slice(0,3))ee.abi=we.slice(3);else if("uv"===we.slice(0,2))ee.uv=we.slice(2);else if("armv"===we.slice(0,4))ee.armv=we.slice(4);else{if("glibc"!==we&&"musl"!==we)continue;ee.libc=we}ee.specificity++}return ee}}function matchTags(U,J){return function(ee){return null!=ee&&(!(ee.runtime&&ee.runtime!==U&&!function runtimeAgnostic(U){return"node"===U.runtime&&U.napi}(ee))&&(!(ee.abi&&ee.abi!==J&&!ee.napi)&&((!ee.uv||ee.uv===Re)&&((!ee.armv||ee.armv===De)&&(!ee.libc||ee.libc===Ce)))))}}function compareTags(U){return function(J,ee){return J.runtime!==ee.runtime?J.runtime===U?-1:1:J.abi!==ee.abi?J.abi?-1:1:J.specificity!==ee.specificity?J.specificity>ee.specificity?-1:1:0}}U.exports=load,load.resolve=load.path=function(U){U=we.resolve(U||".");try{var J=je(we.join(U,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[J+"_PREBUILD"]&&(U=process.env[J+"_PREBUILD"])}catch(U){}if(!Fe){var ee=getFirst(we.join(U,"build/Release"),matchBuild);if(ee)return ee;var Se=getFirst(we.join(U,"build/Debug"),matchBuild);if(Se)return Se}var Ee=resolve(U);if(Ee)return Ee;var Ae=resolve(we.dirname(process.execPath));if(Ae)return Ae;var Le=["platform="+ke,"arch="+Ie,"runtime="+Te,"abi="+xe,"uv="+Re,De?"armv="+De:"","libc="+Ce,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+Le+"\n    loaded from: "+U+"\n");function resolve(U){var J=readdirSync(we.join(U,"prebuilds")).map(parseTuple).filter(matchTuple(ke,Ie)).sort(compareTuples)[0];if(J){var ee=we.join(U,"prebuilds",J.name),Se=readdirSync(ee).map(parseTags).filter(matchTags(Te,xe)).sort(compareTags(Te))[0];return Se?we.join(ee,Se.file):void 0}}},load.parseTags=parseTags,load.matchTags=matchTags,load.compareTags=compareTags,load.parseTuple=parseTuple,load.matchTuple=matchTuple,load.compareTuples=compareTuples},3976:function(U,J,ee){"use strict";var Se=this&&this.__createBinding||(Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee),Object.defineProperty(U,Se,{enumerable:!0,get:function(){return J[ee]}})}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]}),we=this&&this.__exportStar||function(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)};Object.defineProperty(J,"__esModule",{value:!0}),J.interval=J.iif=J.generate=J.fromEventPattern=J.fromEvent=J.from=J.forkJoin=J.empty=J.defer=J.connectable=J.concat=J.combineLatest=J.bindNodeCallback=J.bindCallback=J.UnsubscriptionError=J.TimeoutError=J.SequenceError=J.ObjectUnsubscribedError=J.NotFoundError=J.EmptyError=J.ArgumentOutOfRangeError=J.firstValueFrom=J.lastValueFrom=J.isObservable=J.identity=J.noop=J.pipe=J.NotificationKind=J.Notification=J.Subscriber=J.Subscription=J.Scheduler=J.VirtualAction=J.VirtualTimeScheduler=J.animationFrameScheduler=J.animationFrame=J.queueScheduler=J.queue=J.asyncScheduler=J.async=J.asapScheduler=J.asap=J.AsyncSubject=J.ReplaySubject=J.BehaviorSubject=J.Subject=J.animationFrames=J.observable=J.ConnectableObservable=J.Observable=void 0,J.filter=J.expand=J.exhaustMap=J.exhaustAll=J.exhaust=J.every=J.endWith=J.elementAt=J.distinctUntilKeyChanged=J.distinctUntilChanged=J.distinct=J.dematerialize=J.delayWhen=J.delay=J.defaultIfEmpty=J.debounceTime=J.debounce=J.count=J.connect=J.concatWith=J.concatMapTo=J.concatMap=J.concatAll=J.combineLatestWith=J.combineLatestAll=J.combineAll=J.catchError=J.bufferWhen=J.bufferToggle=J.bufferTime=J.bufferCount=J.buffer=J.auditTime=J.audit=J.config=J.NEVER=J.EMPTY=J.scheduled=J.zip=J.using=J.timer=J.throwError=J.range=J.race=J.partition=J.pairs=J.onErrorResumeNext=J.of=J.never=J.merge=void 0,J.switchMap=J.switchAll=J.subscribeOn=J.startWith=J.skipWhile=J.skipUntil=J.skipLast=J.skip=J.single=J.shareReplay=J.share=J.sequenceEqual=J.scan=J.sampleTime=J.sample=J.refCount=J.retryWhen=J.retry=J.repeatWhen=J.repeat=J.reduce=J.raceWith=J.publishReplay=J.publishLast=J.publishBehavior=J.publish=J.pluck=J.pairwise=J.onErrorResumeNextWith=J.observeOn=J.multicast=J.min=J.mergeWith=J.mergeScan=J.mergeMapTo=J.mergeMap=J.flatMap=J.mergeAll=J.max=J.materialize=J.mapTo=J.map=J.last=J.isEmpty=J.ignoreElements=J.groupBy=J.first=J.findIndex=J.find=J.finalize=void 0,J.zipWith=J.zipAll=J.withLatestFrom=J.windowWhen=J.windowToggle=J.windowTime=J.windowCount=J.window=J.toArray=J.timestamp=J.timeoutWith=J.timeout=J.timeInterval=J.throwIfEmpty=J.throttleTime=J.throttle=J.tap=J.takeWhile=J.takeUntil=J.takeLast=J.take=J.switchScan=J.switchMapTo=void 0;var Ee=ee(2023);Object.defineProperty(J,"Observable",{enumerable:!0,get:function(){return Ee.Observable}});var je=ee(1507);Object.defineProperty(J,"ConnectableObservable",{enumerable:!0,get:function(){return je.ConnectableObservable}});var Ae=ee(2131);Object.defineProperty(J,"observable",{enumerable:!0,get:function(){return Ae.observable}});var Fe=ee(7007);Object.defineProperty(J,"animationFrames",{enumerable:!0,get:function(){return Fe.animationFrames}});var xe=ee(20);Object.defineProperty(J,"Subject",{enumerable:!0,get:function(){return xe.Subject}});var Te=ee(1222);Object.defineProperty(J,"BehaviorSubject",{enumerable:!0,get:function(){return Te.BehaviorSubject}});var Ie=ee(5129);Object.defineProperty(J,"ReplaySubject",{enumerable:!0,get:function(){return Ie.ReplaySubject}});var ke=ee(5366);Object.defineProperty(J,"AsyncSubject",{enumerable:!0,get:function(){return ke.AsyncSubject}});var Ce=ee(5717);Object.defineProperty(J,"asap",{enumerable:!0,get:function(){return Ce.asap}}),Object.defineProperty(J,"asapScheduler",{enumerable:!0,get:function(){return Ce.asapScheduler}});var De=ee(4386);Object.defineProperty(J,"async",{enumerable:!0,get:function(){return De.async}}),Object.defineProperty(J,"asyncScheduler",{enumerable:!0,get:function(){return De.asyncScheduler}});var Re=ee(3505);Object.defineProperty(J,"queue",{enumerable:!0,get:function(){return Re.queue}}),Object.defineProperty(J,"queueScheduler",{enumerable:!0,get:function(){return Re.queueScheduler}});var Le=ee(747);Object.defineProperty(J,"animationFrame",{enumerable:!0,get:function(){return Le.animationFrame}}),Object.defineProperty(J,"animationFrameScheduler",{enumerable:!0,get:function(){return Le.animationFrameScheduler}});var qe=ee(1031);Object.defineProperty(J,"VirtualTimeScheduler",{enumerable:!0,get:function(){return qe.VirtualTimeScheduler}}),Object.defineProperty(J,"VirtualAction",{enumerable:!0,get:function(){return qe.VirtualAction}});var $e=ee(469);Object.defineProperty(J,"Scheduler",{enumerable:!0,get:function(){return $e.Scheduler}});var ht=ee(7491);Object.defineProperty(J,"Subscription",{enumerable:!0,get:function(){return ht.Subscription}});var _t=ee(4512);Object.defineProperty(J,"Subscriber",{enumerable:!0,get:function(){return _t.Subscriber}});var gt=ee(6145);Object.defineProperty(J,"Notification",{enumerable:!0,get:function(){return gt.Notification}}),Object.defineProperty(J,"NotificationKind",{enumerable:!0,get:function(){return gt.NotificationKind}});var Dt=ee(2393);Object.defineProperty(J,"pipe",{enumerable:!0,get:function(){return Dt.pipe}});var Vt=ee(6129);Object.defineProperty(J,"noop",{enumerable:!0,get:function(){return Vt.noop}});var Ht=ee(9391);Object.defineProperty(J,"identity",{enumerable:!0,get:function(){return Ht.identity}});var Yt=ee(5644);Object.defineProperty(J,"isObservable",{enumerable:!0,get:function(){return Yt.isObservable}});var Gt=ee(1437);Object.defineProperty(J,"lastValueFrom",{enumerable:!0,get:function(){return Gt.lastValueFrom}});var gr=ee(9853);Object.defineProperty(J,"firstValueFrom",{enumerable:!0,get:function(){return gr.firstValueFrom}});var Yr=ee(9148);Object.defineProperty(J,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return Yr.ArgumentOutOfRangeError}});var Jr=ee(7676);Object.defineProperty(J,"EmptyError",{enumerable:!0,get:function(){return Jr.EmptyError}});var en=ee(2318);Object.defineProperty(J,"NotFoundError",{enumerable:!0,get:function(){return en.NotFoundError}});var tn=ee(8083);Object.defineProperty(J,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return tn.ObjectUnsubscribedError}});var rn=ee(8168);Object.defineProperty(J,"SequenceError",{enumerable:!0,get:function(){return rn.SequenceError}});var nn=ee(7517);Object.defineProperty(J,"TimeoutError",{enumerable:!0,get:function(){return nn.TimeoutError}});var on=ee(665);Object.defineProperty(J,"UnsubscriptionError",{enumerable:!0,get:function(){return on.UnsubscriptionError}});var un=ee(570);Object.defineProperty(J,"bindCallback",{enumerable:!0,get:function(){return un.bindCallback}});var sn=ee(3678);Object.defineProperty(J,"bindNodeCallback",{enumerable:!0,get:function(){return sn.bindNodeCallback}});var an=ee(994);Object.defineProperty(J,"combineLatest",{enumerable:!0,get:function(){return an.combineLatest}});var cn=ee(2070);Object.defineProperty(J,"concat",{enumerable:!0,get:function(){return cn.concat}});var ln=ee(354);Object.defineProperty(J,"connectable",{enumerable:!0,get:function(){return ln.connectable}});var fn=ee(6632);Object.defineProperty(J,"defer",{enumerable:!0,get:function(){return fn.defer}});var dn=ee(7209);Object.defineProperty(J,"empty",{enumerable:!0,get:function(){return dn.empty}});var hn=ee(8438);Object.defineProperty(J,"forkJoin",{enumerable:!0,get:function(){return hn.forkJoin}});var pn=ee(5294);Object.defineProperty(J,"from",{enumerable:!0,get:function(){return pn.from}});var vn=ee(6724);Object.defineProperty(J,"fromEvent",{enumerable:!0,get:function(){return vn.fromEvent}});var bn=ee(2620);Object.defineProperty(J,"fromEventPattern",{enumerable:!0,get:function(){return bn.fromEventPattern}});var yn=ee(3541);Object.defineProperty(J,"generate",{enumerable:!0,get:function(){return yn.generate}});var _n=ee(9832);Object.defineProperty(J,"iif",{enumerable:!0,get:function(){return _n.iif}});var mn=ee(8767);Object.defineProperty(J,"interval",{enumerable:!0,get:function(){return mn.interval}});var gn=ee(8732);Object.defineProperty(J,"merge",{enumerable:!0,get:function(){return gn.merge}});var wn=ee(6858);Object.defineProperty(J,"never",{enumerable:!0,get:function(){return wn.never}});var An=ee(8743);Object.defineProperty(J,"of",{enumerable:!0,get:function(){return An.of}});var Fn=ee(6467);Object.defineProperty(J,"onErrorResumeNext",{enumerable:!0,get:function(){return Fn.onErrorResumeNext}});var Bn=ee(393);Object.defineProperty(J,"pairs",{enumerable:!0,get:function(){return Bn.pairs}});var ei=ee(2298);Object.defineProperty(J,"partition",{enumerable:!0,get:function(){return ei.partition}});var si=ee(4143);Object.defineProperty(J,"race",{enumerable:!0,get:function(){return si.race}});var li=ee(2485);Object.defineProperty(J,"range",{enumerable:!0,get:function(){return li.range}});var fi=ee(6612);Object.defineProperty(J,"throwError",{enumerable:!0,get:function(){return fi.throwError}});var Si=ee(5461);Object.defineProperty(J,"timer",{enumerable:!0,get:function(){return Si.timer}});var ji=ee(6340);Object.defineProperty(J,"using",{enumerable:!0,get:function(){return ji.using}});var Fi=ee(1763);Object.defineProperty(J,"zip",{enumerable:!0,get:function(){return Fi.zip}});var xi=ee(4463);Object.defineProperty(J,"scheduled",{enumerable:!0,get:function(){return xi.scheduled}});var Ii=ee(7209);Object.defineProperty(J,"EMPTY",{enumerable:!0,get:function(){return Ii.EMPTY}});var Ni=ee(6858);Object.defineProperty(J,"NEVER",{enumerable:!0,get:function(){return Ni.NEVER}}),we(ee(2349),J);var Di=ee(7820);Object.defineProperty(J,"config",{enumerable:!0,get:function(){return Di.config}});var Ri=ee(6993);Object.defineProperty(J,"audit",{enumerable:!0,get:function(){return Ri.audit}});var Vi=ee(4116);Object.defineProperty(J,"auditTime",{enumerable:!0,get:function(){return Vi.auditTime}});var $i=ee(7190);Object.defineProperty(J,"buffer",{enumerable:!0,get:function(){return $i.buffer}});var zi=ee(6835);Object.defineProperty(J,"bufferCount",{enumerable:!0,get:function(){return zi.bufferCount}});var Qi=ee(5219);Object.defineProperty(J,"bufferTime",{enumerable:!0,get:function(){return Qi.bufferTime}});var Hi=ee(118);Object.defineProperty(J,"bufferToggle",{enumerable:!0,get:function(){return Hi.bufferToggle}});var Yi=ee(7514);Object.defineProperty(J,"bufferWhen",{enumerable:!0,get:function(){return Yi.bufferWhen}});var Zi=ee(8251);Object.defineProperty(J,"catchError",{enumerable:!0,get:function(){return Zi.catchError}});var Xi=ee(1424);Object.defineProperty(J,"combineAll",{enumerable:!0,get:function(){return Xi.combineAll}});var to=ee(2945);Object.defineProperty(J,"combineLatestAll",{enumerable:!0,get:function(){return to.combineLatestAll}});var no=ee(3928);Object.defineProperty(J,"combineLatestWith",{enumerable:!0,get:function(){return no.combineLatestWith}});var io=ee(861);Object.defineProperty(J,"concatAll",{enumerable:!0,get:function(){return io.concatAll}});var oo=ee(1012);Object.defineProperty(J,"concatMap",{enumerable:!0,get:function(){return oo.concatMap}});var uo=ee(1157);Object.defineProperty(J,"concatMapTo",{enumerable:!0,get:function(){return uo.concatMapTo}});var so=ee(3692);Object.defineProperty(J,"concatWith",{enumerable:!0,get:function(){return so.concatWith}});var ao=ee(2216);Object.defineProperty(J,"connect",{enumerable:!0,get:function(){return ao.connect}});var co=ee(8041);Object.defineProperty(J,"count",{enumerable:!0,get:function(){return co.count}});var ho=ee(2747);Object.defineProperty(J,"debounce",{enumerable:!0,get:function(){return ho.debounce}});var po=ee(3870);Object.defineProperty(J,"debounceTime",{enumerable:!0,get:function(){return po.debounceTime}});var vo=ee(7507);Object.defineProperty(J,"defaultIfEmpty",{enumerable:!0,get:function(){return vo.defaultIfEmpty}});var bo=ee(2409);Object.defineProperty(J,"delay",{enumerable:!0,get:function(){return bo.delay}});var _o=ee(5137);Object.defineProperty(J,"delayWhen",{enumerable:!0,get:function(){return _o.delayWhen}});var mo=ee(4126);Object.defineProperty(J,"dematerialize",{enumerable:!0,get:function(){return mo.dematerialize}});var wo=ee(5208);Object.defineProperty(J,"distinct",{enumerable:!0,get:function(){return wo.distinct}});var Eo=ee(9939);Object.defineProperty(J,"distinctUntilChanged",{enumerable:!0,get:function(){return Eo.distinctUntilChanged}});var Po=ee(183);Object.defineProperty(J,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Po.distinctUntilKeyChanged}});var Fo=ee(1195);Object.defineProperty(J,"elementAt",{enumerable:!0,get:function(){return Fo.elementAt}});var To=ee(3723);Object.defineProperty(J,"endWith",{enumerable:!0,get:function(){return To.endWith}});var Mo=ee(1909);Object.defineProperty(J,"every",{enumerable:!0,get:function(){return Mo.every}});var ko=ee(9228);Object.defineProperty(J,"exhaust",{enumerable:!0,get:function(){return ko.exhaust}});var No=ee(9765);Object.defineProperty(J,"exhaustAll",{enumerable:!0,get:function(){return No.exhaustAll}});var Co=ee(8748);Object.defineProperty(J,"exhaustMap",{enumerable:!0,get:function(){return Co.exhaustMap}});var Do=ee(8324);Object.defineProperty(J,"expand",{enumerable:!0,get:function(){return Do.expand}});var Lo=ee(2914);Object.defineProperty(J,"filter",{enumerable:!0,get:function(){return Lo.filter}});var qo=ee(9822);Object.defineProperty(J,"finalize",{enumerable:!0,get:function(){return qo.finalize}});var Bo=ee(2819);Object.defineProperty(J,"find",{enumerable:!0,get:function(){return Bo.find}});var Uo=ee(3367);Object.defineProperty(J,"findIndex",{enumerable:!0,get:function(){return Uo.findIndex}});var Wo=ee(1432);Object.defineProperty(J,"first",{enumerable:!0,get:function(){return Wo.first}});var Vo=ee(4956);Object.defineProperty(J,"groupBy",{enumerable:!0,get:function(){return Vo.groupBy}});var $o=ee(2507);Object.defineProperty(J,"ignoreElements",{enumerable:!0,get:function(){return $o.ignoreElements}});var zo=ee(6095);Object.defineProperty(J,"isEmpty",{enumerable:!0,get:function(){return zo.isEmpty}});var Ko=ee(3484);Object.defineProperty(J,"last",{enumerable:!0,get:function(){return Ko.last}});var gu=ee(4828);Object.defineProperty(J,"map",{enumerable:!0,get:function(){return gu.map}});var Fu=ee(1357);Object.defineProperty(J,"mapTo",{enumerable:!0,get:function(){return Fu.mapTo}});var Zu=ee(7967);Object.defineProperty(J,"materialize",{enumerable:!0,get:function(){return Zu.materialize}});var es=ee(4388);Object.defineProperty(J,"max",{enumerable:!0,get:function(){return es.max}});var ts=ee(1867);Object.defineProperty(J,"mergeAll",{enumerable:!0,get:function(){return ts.mergeAll}});var rs=ee(6977);Object.defineProperty(J,"flatMap",{enumerable:!0,get:function(){return rs.flatMap}});var ns=ee(1282);Object.defineProperty(J,"mergeMap",{enumerable:!0,get:function(){return ns.mergeMap}});var is=ee(6295);Object.defineProperty(J,"mergeMapTo",{enumerable:!0,get:function(){return is.mergeMapTo}});var os=ee(9527);Object.defineProperty(J,"mergeScan",{enumerable:!0,get:function(){return os.mergeScan}});var us=ee(5834);Object.defineProperty(J,"mergeWith",{enumerable:!0,get:function(){return us.mergeWith}});var ss=ee(1306);Object.defineProperty(J,"min",{enumerable:!0,get:function(){return ss.min}});var as=ee(9924);Object.defineProperty(J,"multicast",{enumerable:!0,get:function(){return as.multicast}});var cs=ee(2803);Object.defineProperty(J,"observeOn",{enumerable:!0,get:function(){return cs.observeOn}});var ls=ee(1997);Object.defineProperty(J,"onErrorResumeNextWith",{enumerable:!0,get:function(){return ls.onErrorResumeNextWith}});var fs=ee(4492);Object.defineProperty(J,"pairwise",{enumerable:!0,get:function(){return fs.pairwise}});var ds=ee(3391);Object.defineProperty(J,"pluck",{enumerable:!0,get:function(){return ds.pluck}});var hs=ee(297);Object.defineProperty(J,"publish",{enumerable:!0,get:function(){return hs.publish}});var ps=ee(6383);Object.defineProperty(J,"publishBehavior",{enumerable:!0,get:function(){return ps.publishBehavior}});var vs=ee(8229);Object.defineProperty(J,"publishLast",{enumerable:!0,get:function(){return vs.publishLast}});var bs=ee(8226);Object.defineProperty(J,"publishReplay",{enumerable:!0,get:function(){return bs.publishReplay}});var ys=ee(177);Object.defineProperty(J,"raceWith",{enumerable:!0,get:function(){return ys.raceWith}});var _s=ee(3818);Object.defineProperty(J,"reduce",{enumerable:!0,get:function(){return _s.reduce}});var ms=ee(7775);Object.defineProperty(J,"repeat",{enumerable:!0,get:function(){return ms.repeat}});var gs=ee(5567);Object.defineProperty(J,"repeatWhen",{enumerable:!0,get:function(){return gs.repeatWhen}});var Os=ee(4740);Object.defineProperty(J,"retry",{enumerable:!0,get:function(){return Os.retry}});var Ss=ee(264);Object.defineProperty(J,"retryWhen",{enumerable:!0,get:function(){return Ss.retryWhen}});var ws=ee(5884);Object.defineProperty(J,"refCount",{enumerable:!0,get:function(){return ws.refCount}});var Es=ee(6870);Object.defineProperty(J,"sample",{enumerable:!0,get:function(){return Es.sample}});var js=ee(5411);Object.defineProperty(J,"sampleTime",{enumerable:!0,get:function(){return js.sampleTime}});var As=ee(2457);Object.defineProperty(J,"scan",{enumerable:!0,get:function(){return As.scan}});var Ps=ee(5109);Object.defineProperty(J,"sequenceEqual",{enumerable:!0,get:function(){return Ps.sequenceEqual}});var Fs=ee(3329);Object.defineProperty(J,"share",{enumerable:!0,get:function(){return Fs.share}});var xs=ee(1738);Object.defineProperty(J,"shareReplay",{enumerable:!0,get:function(){return xs.shareReplay}});var Ts=ee(884);Object.defineProperty(J,"single",{enumerable:!0,get:function(){return Ts.single}});var Ms=ee(4411);Object.defineProperty(J,"skip",{enumerable:!0,get:function(){return Ms.skip}});var Is=ee(9355);Object.defineProperty(J,"skipLast",{enumerable:!0,get:function(){return Is.skipLast}});var ks=ee(2947);Object.defineProperty(J,"skipUntil",{enumerable:!0,get:function(){return ks.skipUntil}});var Ns=ee(9842);Object.defineProperty(J,"skipWhile",{enumerable:!0,get:function(){return Ns.skipWhile}});var Cs=ee(2778);Object.defineProperty(J,"startWith",{enumerable:!0,get:function(){return Cs.startWith}});var Ds=ee(4027);Object.defineProperty(J,"subscribeOn",{enumerable:!0,get:function(){return Ds.subscribeOn}});var Rs=ee(9061);Object.defineProperty(J,"switchAll",{enumerable:!0,get:function(){return Rs.switchAll}});var Ls=ee(6300);Object.defineProperty(J,"switchMap",{enumerable:!0,get:function(){return Ls.switchMap}});var qs=ee(1933);Object.defineProperty(J,"switchMapTo",{enumerable:!0,get:function(){return qs.switchMapTo}});var Bs=ee(1689);Object.defineProperty(J,"switchScan",{enumerable:!0,get:function(){return Bs.switchScan}});var Us=ee(6803);Object.defineProperty(J,"take",{enumerable:!0,get:function(){return Us.take}});var Ws=ee(787);Object.defineProperty(J,"takeLast",{enumerable:!0,get:function(){return Ws.takeLast}});var Vs=ee(4811);Object.defineProperty(J,"takeUntil",{enumerable:!0,get:function(){return Vs.takeUntil}});var $s=ee(7770);Object.defineProperty(J,"takeWhile",{enumerable:!0,get:function(){return $s.takeWhile}});var zs=ee(9967);Object.defineProperty(J,"tap",{enumerable:!0,get:function(){return zs.tap}});var Qs=ee(6516);Object.defineProperty(J,"throttle",{enumerable:!0,get:function(){return Qs.throttle}});var Hs=ee(5945);Object.defineProperty(J,"throttleTime",{enumerable:!0,get:function(){return Hs.throttleTime}});var Ys=ee(5956);Object.defineProperty(J,"throwIfEmpty",{enumerable:!0,get:function(){return Ys.throwIfEmpty}});var Gs=ee(9712);Object.defineProperty(J,"timeInterval",{enumerable:!0,get:function(){return Gs.timeInterval}});var Ks=ee(7517);Object.defineProperty(J,"timeout",{enumerable:!0,get:function(){return Ks.timeout}});var Zs=ee(2001);Object.defineProperty(J,"timeoutWith",{enumerable:!0,get:function(){return Zs.timeoutWith}});var Js=ee(8158);Object.defineProperty(J,"timestamp",{enumerable:!0,get:function(){return Js.timestamp}});var Xs=ee(2984);Object.defineProperty(J,"toArray",{enumerable:!0,get:function(){return Xs.toArray}});var na=ee(5492);Object.defineProperty(J,"window",{enumerable:!0,get:function(){return na.window}});var ia=ee(6817);Object.defineProperty(J,"windowCount",{enumerable:!0,get:function(){return ia.windowCount}});var ua=ee(6841);Object.defineProperty(J,"windowTime",{enumerable:!0,get:function(){return ua.windowTime}});var sa=ee(4880);Object.defineProperty(J,"windowToggle",{enumerable:!0,get:function(){return sa.windowToggle}});var ca=ee(3016);Object.defineProperty(J,"windowWhen",{enumerable:!0,get:function(){return ca.windowWhen}});var fa=ee(9163);Object.defineProperty(J,"withLatestFrom",{enumerable:!0,get:function(){return fa.withLatestFrom}});var ba=ee(5606);Object.defineProperty(J,"zipAll",{enumerable:!0,get:function(){return ba.zipAll}});var ya=ee(973);Object.defineProperty(J,"zipWith",{enumerable:!0,get:function(){return ya.zipWith}})},5366:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AsyncSubject=void 0;var Ee=function(U){function AsyncSubject(){var J=null!==U&&U.apply(this,arguments)||this;return J._value=null,J._hasValue=!1,J._isComplete=!1,J}return we(AsyncSubject,U),AsyncSubject.prototype._checkFinalizedStatuses=function(U){var J=this,ee=J.hasError,Se=J._hasValue,we=J._value,Ee=J.thrownError,je=J.isStopped,Ae=J._isComplete;ee?U.error(Ee):(je||Ae)&&(Se&&U.next(we),U.complete())},AsyncSubject.prototype.next=function(U){this.isStopped||(this._value=U,this._hasValue=!0)},AsyncSubject.prototype.complete=function(){var J=this,ee=J._hasValue,Se=J._value;J._isComplete||(this._isComplete=!0,ee&&U.prototype.next.call(this,Se),U.prototype.complete.call(this))},AsyncSubject}(ee(20).Subject);J.AsyncSubject=Ee},1222:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.BehaviorSubject=void 0;var Ee=function(U){function BehaviorSubject(J){var ee=U.call(this)||this;return ee._value=J,ee}return we(BehaviorSubject,U),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),BehaviorSubject.prototype._subscribe=function(J){var ee=U.prototype._subscribe.call(this,J);return!ee.closed&&J.next(this._value),ee},BehaviorSubject.prototype.getValue=function(){var U=this,J=U.hasError,ee=U.thrownError,Se=U._value;if(J)throw ee;return this._throwIfClosed(),Se},BehaviorSubject.prototype.next=function(J){U.prototype.next.call(this,this._value=J)},BehaviorSubject}(ee(20).Subject);J.BehaviorSubject=Ee},6145:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.observeNotification=J.Notification=J.NotificationKind=void 0;var Se=ee(7209),we=ee(8743),Ee=ee(6612),je=ee(4717);!function(U){U.NEXT="N",U.ERROR="E",U.COMPLETE="C"}(J.NotificationKind||(J.NotificationKind={}));var Ae=function(){function Notification(U,J,ee){this.kind=U,this.value=J,this.error=ee,this.hasValue="N"===U}return Notification.prototype.observe=function(U){return observeNotification(this,U)},Notification.prototype.do=function(U,J,ee){var Se=this,we=Se.kind,Ee=Se.value,je=Se.error;return"N"===we?null==U?void 0:U(Ee):"E"===we?null==J?void 0:J(je):null==ee?void 0:ee()},Notification.prototype.accept=function(U,J,ee){var Se;return je.isFunction(null===(Se=U)||void 0===Se?void 0:Se.next)?this.observe(U):this.do(U,J,ee)},Notification.prototype.toObservable=function(){var U=this,J=U.kind,ee=U.value,je=U.error,Ae="N"===J?we.of(ee):"E"===J?Ee.throwError((function(){return je})):"C"===J?Se.EMPTY:0;if(!Ae)throw new TypeError("Unexpected notification kind "+J);return Ae},Notification.createNext=function(U){return new Notification("N",U)},Notification.createError=function(U){return new Notification("E",void 0,U)},Notification.createComplete=function(){return Notification.completeNotification},Notification.completeNotification=new Notification("C"),Notification}();function observeNotification(U,J){var ee,Se,we,Ee=U,je=Ee.kind,Ae=Ee.value,Fe=Ee.error;if("string"!=typeof je)throw new TypeError('Invalid notification, missing "kind"');"N"===je?null===(ee=J.next)||void 0===ee||ee.call(J,Ae):"E"===je?null===(Se=J.error)||void 0===Se||Se.call(J,Fe):null===(we=J.complete)||void 0===we||we.call(J)}J.Notification=Ae,J.observeNotification=observeNotification},795:(U,J)=>{"use strict";function createNotification(U,J,ee){return{kind:U,value:J,error:ee}}Object.defineProperty(J,"__esModule",{value:!0}),J.createNotification=J.nextNotification=J.errorNotification=J.COMPLETE_NOTIFICATION=void 0,J.COMPLETE_NOTIFICATION=createNotification("C",void 0,void 0),J.errorNotification=function errorNotification(U){return createNotification("E",void 0,U)},J.nextNotification=function nextNotification(U){return createNotification("N",U,void 0)},J.createNotification=createNotification},2023:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.Observable=void 0;var Se=ee(4512),we=ee(7491),Ee=ee(2131),je=ee(2393),Ae=ee(7820),Fe=ee(4717),xe=ee(9916),Te=function(){function Observable(U){U&&(this._subscribe=U)}return Observable.prototype.lift=function(U){var J=new Observable;return J.source=this,J.operator=U,J},Observable.prototype.subscribe=function(U,J,ee){var Ee=this,je=function isSubscriber(U){return U&&U instanceof Se.Subscriber||function isObserver(U){return U&&Fe.isFunction(U.next)&&Fe.isFunction(U.error)&&Fe.isFunction(U.complete)}(U)&&we.isSubscription(U)}(U)?U:new Se.SafeSubscriber(U,J,ee);return xe.errorContext((function(){var U=Ee,J=U.operator,ee=U.source;je.add(J?J.call(je,ee):ee?Ee._subscribe(je):Ee._trySubscribe(je))})),je},Observable.prototype._trySubscribe=function(U){try{return this._subscribe(U)}catch(J){U.error(J)}},Observable.prototype.forEach=function(U,J){var ee=this;return new(J=getPromiseCtor(J))((function(J,we){var Ee=new Se.SafeSubscriber({next:function(J){try{U(J)}catch(U){we(U),Ee.unsubscribe()}},error:we,complete:J});ee.subscribe(Ee)}))},Observable.prototype._subscribe=function(U){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe(U)},Observable.prototype[Ee.observable]=function(){return this},Observable.prototype.pipe=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return je.pipeFromArray(U)(this)},Observable.prototype.toPromise=function(U){var J=this;return new(U=getPromiseCtor(U))((function(U,ee){var Se;J.subscribe((function(U){return Se=U}),(function(U){return ee(U)}),(function(){return U(Se)}))}))},Observable.create=function(U){return new Observable(U)},Observable}();function getPromiseCtor(U){var J;return null!==(J=null!=U?U:Ae.config.Promise)&&void 0!==J?J:Promise}J.Observable=Te},5129:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.ReplaySubject=void 0;var Ee=ee(20),je=ee(4575),Ae=function(U){function ReplaySubject(J,ee,Se){void 0===J&&(J=1/0),void 0===ee&&(ee=1/0),void 0===Se&&(Se=je.dateTimestampProvider);var we=U.call(this)||this;return we._bufferSize=J,we._windowTime=ee,we._timestampProvider=Se,we._buffer=[],we._infiniteTimeWindow=!0,we._infiniteTimeWindow=ee===1/0,we._bufferSize=Math.max(1,J),we._windowTime=Math.max(1,ee),we}return we(ReplaySubject,U),ReplaySubject.prototype.next=function(J){var ee=this,Se=ee.isStopped,we=ee._buffer,Ee=ee._infiniteTimeWindow,je=ee._timestampProvider,Ae=ee._windowTime;Se||(we.push(J),!Ee&&we.push(je.now()+Ae)),this._trimBuffer(),U.prototype.next.call(this,J)},ReplaySubject.prototype._subscribe=function(U){this._throwIfClosed(),this._trimBuffer();for(var J=this._innerSubscribe(U),ee=this._infiniteTimeWindow,Se=this._buffer.slice(),we=0;we<Se.length&&!U.closed;we+=ee?1:2)U.next(Se[we]);return this._checkFinalizedStatuses(U),J},ReplaySubject.prototype._trimBuffer=function(){var U=this,J=U._bufferSize,ee=U._timestampProvider,Se=U._buffer,we=U._infiniteTimeWindow,Ee=(we?1:2)*J;if(J<1/0&&Ee<Se.length&&Se.splice(0,Se.length-Ee),!we){for(var je=ee.now(),Ae=0,Fe=1;Fe<Se.length&&Se[Fe]<=je;Fe+=2)Ae=Fe;Ae&&Se.splice(0,Ae+1)}},ReplaySubject}(Ee.Subject);J.ReplaySubject=Ae},469:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.Scheduler=void 0;var Se=ee(4575),we=function(){function Scheduler(U,J){void 0===J&&(J=Scheduler.now),this.schedulerActionCtor=U,this.now=J}return Scheduler.prototype.schedule=function(U,J,ee){return void 0===J&&(J=0),new this.schedulerActionCtor(this,U).schedule(ee,J)},Scheduler.now=Se.dateTimestampProvider.now,Scheduler}();J.Scheduler=we},20:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)}),Ee=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.AnonymousSubject=J.Subject=void 0;var je=ee(2023),Ae=ee(7491),Fe=ee(8083),xe=ee(7394),Te=ee(9916),Ie=function(U){function Subject(){var J=U.call(this)||this;return J.closed=!1,J.currentObservers=null,J.observers=[],J.isStopped=!1,J.hasError=!1,J.thrownError=null,J}return we(Subject,U),Subject.prototype.lift=function(U){var J=new ke(this,this);return J.operator=U,J},Subject.prototype._throwIfClosed=function(){if(this.closed)throw new Fe.ObjectUnsubscribedError},Subject.prototype.next=function(U){var J=this;Te.errorContext((function(){var ee,Se;if(J._throwIfClosed(),!J.isStopped){J.currentObservers||(J.currentObservers=Array.from(J.observers));try{for(var we=Ee(J.currentObservers),je=we.next();!je.done;je=we.next()){je.value.next(U)}}catch(U){ee={error:U}}finally{try{je&&!je.done&&(Se=we.return)&&Se.call(we)}finally{if(ee)throw ee.error}}}}))},Subject.prototype.error=function(U){var J=this;Te.errorContext((function(){if(J._throwIfClosed(),!J.isStopped){J.hasError=J.isStopped=!0,J.thrownError=U;for(var ee=J.observers;ee.length;)ee.shift().error(U)}}))},Subject.prototype.complete=function(){var U=this;Te.errorContext((function(){if(U._throwIfClosed(),!U.isStopped){U.isStopped=!0;for(var J=U.observers;J.length;)J.shift().complete()}}))},Subject.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Subject.prototype,"observed",{get:function(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0},enumerable:!1,configurable:!0}),Subject.prototype._trySubscribe=function(J){return this._throwIfClosed(),U.prototype._trySubscribe.call(this,J)},Subject.prototype._subscribe=function(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)},Subject.prototype._innerSubscribe=function(U){var J=this,ee=this,Se=ee.hasError,we=ee.isStopped,Ee=ee.observers;return Se||we?Ae.EMPTY_SUBSCRIPTION:(this.currentObservers=null,Ee.push(U),new Ae.Subscription((function(){J.currentObservers=null,xe.arrRemove(Ee,U)})))},Subject.prototype._checkFinalizedStatuses=function(U){var J=this,ee=J.hasError,Se=J.thrownError,we=J.isStopped;ee?U.error(Se):we&&U.complete()},Subject.prototype.asObservable=function(){var U=new je.Observable;return U.source=this,U},Subject.create=function(U,J){return new ke(U,J)},Subject}(je.Observable);J.Subject=Ie;var ke=function(U){function AnonymousSubject(J,ee){var Se=U.call(this)||this;return Se.destination=J,Se.source=ee,Se}return we(AnonymousSubject,U),AnonymousSubject.prototype.next=function(U){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ee||ee.call(J,U)},AnonymousSubject.prototype.error=function(U){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ee||ee.call(J,U)},AnonymousSubject.prototype.complete=function(){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===J||J.call(U)},AnonymousSubject.prototype._subscribe=function(U){var J,ee;return null!==(ee=null===(J=this.source)||void 0===J?void 0:J.subscribe(U))&&void 0!==ee?ee:Ae.EMPTY_SUBSCRIPTION},AnonymousSubject}(Ie);J.AnonymousSubject=ke},4512:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.EMPTY_OBSERVER=J.SafeSubscriber=J.Subscriber=void 0;var Ee=ee(4717),je=ee(7491),Ae=ee(7820),Fe=ee(4696),xe=ee(6129),Te=ee(795),Ie=ee(6476),ke=ee(9916),Ce=function(U){function Subscriber(ee){var Se=U.call(this)||this;return Se.isStopped=!1,ee?(Se.destination=ee,je.isSubscription(ee)&&ee.add(Se)):Se.destination=J.EMPTY_OBSERVER,Se}return we(Subscriber,U),Subscriber.create=function(U,J,ee){return new Le(U,J,ee)},Subscriber.prototype.next=function(U){this.isStopped?handleStoppedNotification(Te.nextNotification(U),this):this._next(U)},Subscriber.prototype.error=function(U){this.isStopped?handleStoppedNotification(Te.errorNotification(U),this):(this.isStopped=!0,this._error(U))},Subscriber.prototype.complete=function(){this.isStopped?handleStoppedNotification(Te.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,U.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(U){this.destination.next(U)},Subscriber.prototype._error=function(U){try{this.destination.error(U)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(je.Subscription);J.Subscriber=Ce;var De=Function.prototype.bind;function bind(U,J){return De.call(U,J)}var Re=function(){function ConsumerObserver(U){this.partialObserver=U}return ConsumerObserver.prototype.next=function(U){var J=this.partialObserver;if(J.next)try{J.next(U)}catch(U){handleUnhandledError(U)}},ConsumerObserver.prototype.error=function(U){var J=this.partialObserver;if(J.error)try{J.error(U)}catch(U){handleUnhandledError(U)}else handleUnhandledError(U)},ConsumerObserver.prototype.complete=function(){var U=this.partialObserver;if(U.complete)try{U.complete()}catch(U){handleUnhandledError(U)}},ConsumerObserver}(),Le=function(U){function SafeSubscriber(J,ee,Se){var we,je,Fe=U.call(this)||this;Ee.isFunction(J)||!J?we={next:null!=J?J:void 0,error:null!=ee?ee:void 0,complete:null!=Se?Se:void 0}:Fe&&Ae.config.useDeprecatedNextContext?((je=Object.create(J)).unsubscribe=function(){return Fe.unsubscribe()},we={next:J.next&&bind(J.next,je),error:J.error&&bind(J.error,je),complete:J.complete&&bind(J.complete,je)}):we=J;return Fe.destination=new Re(we),Fe}return we(SafeSubscriber,U),SafeSubscriber}(Ce);function handleUnhandledError(U){Ae.config.useDeprecatedSynchronousErrorHandling?ke.captureError(U):Fe.reportUnhandledError(U)}function handleStoppedNotification(U,J){var ee=Ae.config.onStoppedNotification;ee&&Ie.timeoutProvider.setTimeout((function(){return ee(U,J)}))}J.SafeSubscriber=Le,J.EMPTY_OBSERVER={closed:!0,next:xe.noop,error:function defaultErrorHandler(U){throw U},complete:xe.noop}},7491:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")},we=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},Ee=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.isSubscription=J.EMPTY_SUBSCRIPTION=J.Subscription=void 0;var je=ee(4717),Ae=ee(665),Fe=ee(7394),xe=function(){function Subscription(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}var U;return Subscription.prototype.unsubscribe=function(){var U,J,ee,Fe,xe;if(!this.closed){this.closed=!0;var Te=this._parentage;if(Te)if(this._parentage=null,Array.isArray(Te))try{for(var Ie=Se(Te),ke=Ie.next();!ke.done;ke=Ie.next()){ke.value.remove(this)}}catch(J){U={error:J}}finally{try{ke&&!ke.done&&(J=Ie.return)&&J.call(Ie)}finally{if(U)throw U.error}}else Te.remove(this);var Ce=this.initialTeardown;if(je.isFunction(Ce))try{Ce()}catch(U){xe=U instanceof Ae.UnsubscriptionError?U.errors:[U]}var De=this._finalizers;if(De){this._finalizers=null;try{for(var Re=Se(De),Le=Re.next();!Le.done;Le=Re.next()){var qe=Le.value;try{execFinalizer(qe)}catch(U){xe=null!=xe?xe:[],U instanceof Ae.UnsubscriptionError?xe=Ee(Ee([],we(xe)),we(U.errors)):xe.push(U)}}}catch(U){ee={error:U}}finally{try{Le&&!Le.done&&(Fe=Re.return)&&Fe.call(Re)}finally{if(ee)throw ee.error}}}if(xe)throw new Ae.UnsubscriptionError(xe)}},Subscription.prototype.add=function(U){var J;if(U&&U!==this)if(this.closed)execFinalizer(U);else{if(U instanceof Subscription){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(U)}},Subscription.prototype._hasParent=function(U){var J=this._parentage;return J===U||Array.isArray(J)&&J.includes(U)},Subscription.prototype._addParent=function(U){var J=this._parentage;this._parentage=Array.isArray(J)?(J.push(U),J):J?[J,U]:U},Subscription.prototype._removeParent=function(U){var J=this._parentage;J===U?this._parentage=null:Array.isArray(J)&&Fe.arrRemove(J,U)},Subscription.prototype.remove=function(U){var J=this._finalizers;J&&Fe.arrRemove(J,U),U instanceof Subscription&&U._removeParent(this)},Subscription.EMPTY=((U=new Subscription).closed=!0,U),Subscription}();function execFinalizer(U){je.isFunction(U)?U():U.unsubscribe()}J.Subscription=xe,J.EMPTY_SUBSCRIPTION=xe.EMPTY,J.isSubscription=function isSubscription(U){return U instanceof xe||U&&"closed"in U&&je.isFunction(U.remove)&&je.isFunction(U.add)&&je.isFunction(U.unsubscribe)}},7820:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.config=void 0,J.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9853:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.firstValueFrom=void 0;var Se=ee(7676),we=ee(4512);J.firstValueFrom=function firstValueFrom(U,J){var ee="object"==typeof J;return new Promise((function(Ee,je){var Ae=new we.SafeSubscriber({next:function(U){Ee(U),Ae.unsubscribe()},error:je,complete:function(){ee?Ee(J.defaultValue):je(new Se.EmptyError)}});U.subscribe(Ae)}))}},1437:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.lastValueFrom=void 0;var Se=ee(7676);J.lastValueFrom=function lastValueFrom(U,J){var ee="object"==typeof J;return new Promise((function(we,Ee){var je,Ae=!1;U.subscribe({next:function(U){je=U,Ae=!0},error:Ee,complete:function(){Ae?we(je):ee?we(J.defaultValue):Ee(new Se.EmptyError)}})}))}},1507:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.ConnectableObservable=void 0;var Ee=ee(2023),je=ee(7491),Ae=ee(5884),Fe=ee(1266),xe=ee(5416),Te=function(U){function ConnectableObservable(J,ee){var Se=U.call(this)||this;return Se.source=J,Se.subjectFactory=ee,Se._subject=null,Se._refCount=0,Se._connection=null,xe.hasLift(J)&&(Se.lift=J.lift),Se}return we(ConnectableObservable,U),ConnectableObservable.prototype._subscribe=function(U){return this.getSubject().subscribe(U)},ConnectableObservable.prototype.getSubject=function(){var U=this._subject;return U&&!U.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype._teardown=function(){this._refCount=0;var U=this._connection;this._subject=this._connection=null,null==U||U.unsubscribe()},ConnectableObservable.prototype.connect=function(){var U=this,J=this._connection;if(!J){J=this._connection=new je.Subscription;var ee=this.getSubject();J.add(this.source.subscribe(Fe.createOperatorSubscriber(ee,void 0,(function(){U._teardown(),ee.complete()}),(function(J){U._teardown(),ee.error(J)}),(function(){return U._teardown()})))),J.closed&&(this._connection=null,J=je.Subscription.EMPTY)}return J},ConnectableObservable.prototype.refCount=function(){return Ae.refCount()(this)},ConnectableObservable}(Ee.Observable);J.ConnectableObservable=Te},570:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.bindCallback=void 0;var Se=ee(4534);J.bindCallback=function bindCallback(U,J,ee){return Se.bindCallbackInternals(!1,U,J,ee)}},4534:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.bindCallbackInternals=void 0;var Ee=ee(4568),je=ee(2023),Ae=ee(4027),Fe=ee(8240),xe=ee(2803),Te=ee(5366);J.bindCallbackInternals=function bindCallbackInternals(U,J,ee,Ie){if(ee){if(!Ee.isScheduler(ee))return function(){for(var Se=[],we=0;we<arguments.length;we++)Se[we]=arguments[we];return bindCallbackInternals(U,J,Ie).apply(this,Se).pipe(Fe.mapOneOrManyArgs(ee))};Ie=ee}return Ie?function(){for(var ee=[],Se=0;Se<arguments.length;Se++)ee[Se]=arguments[Se];return bindCallbackInternals(U,J).apply(this,ee).pipe(Ae.subscribeOn(Ie),xe.observeOn(Ie))}:function(){for(var ee=this,Ee=[],Ae=0;Ae<arguments.length;Ae++)Ee[Ae]=arguments[Ae];var Fe=new Te.AsyncSubject,xe=!0;return new je.Observable((function(je){var Ae=Fe.subscribe(je);if(xe){xe=!1;var Te=!1,Ie=!1;J.apply(ee,we(we([],Se(Ee)),[function(){for(var J=[],ee=0;ee<arguments.length;ee++)J[ee]=arguments[ee];if(U){var Se=J.shift();if(null!=Se)return void Fe.error(Se)}Fe.next(1<J.length?J:J[0]),Ie=!0,Te&&Fe.complete()}])),Ie&&Fe.complete(),Te=!0}return Ae}))}}},3678:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.bindNodeCallback=void 0;var Se=ee(4534);J.bindNodeCallback=function bindNodeCallback(U,J,ee){return Se.bindCallbackInternals(!0,U,J,ee)}},994:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatestInit=J.combineLatest=void 0;var Se=ee(2023),we=ee(3787),Ee=ee(5294),je=ee(9391),Ae=ee(8240),Fe=ee(1824),xe=ee(4950),Te=ee(1266),Ie=ee(5031);function combineLatestInit(U,J,ee){return void 0===ee&&(ee=je.identity),function(Se){maybeSchedule(J,(function(){for(var we=U.length,je=new Array(we),Ae=we,Fe=we,_loop_1=function(we){maybeSchedule(J,(function(){var xe=Ee.from(U[we],J),Ie=!1;xe.subscribe(Te.createOperatorSubscriber(Se,(function(U){je[we]=U,Ie||(Ie=!0,Fe--),Fe||Se.next(ee(je.slice()))}),(function(){--Ae||Se.complete()})))}),Se)},xe=0;xe<we;xe++)_loop_1(xe)}),Se)}}function maybeSchedule(U,J,ee){U?Ie.executeSchedule(ee,U,J):J()}J.combineLatest=function combineLatest(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Fe.popScheduler(U),Te=Fe.popResultSelector(U),Ie=we.argsArgArrayOrObject(U),ke=Ie.args,Ce=Ie.keys;if(0===ke.length)return Ee.from([],ee);var De=new Se.Observable(combineLatestInit(ke,ee,Ce?function(U){return xe.createObject(Ce,U)}:je.identity));return Te?De.pipe(Ae.mapOneOrManyArgs(Te)):De},J.combineLatestInit=combineLatestInit},2070:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.concat=void 0;var Se=ee(861),we=ee(1824),Ee=ee(5294);J.concat=function concat(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Se.concatAll()(Ee.from(U,we.popScheduler(U)))}},354:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.connectable=void 0;var Se=ee(20),we=ee(2023),Ee=ee(6632),je={connector:function(){return new Se.Subject},resetOnDisconnect:!0};J.connectable=function connectable(U,J){void 0===J&&(J=je);var ee=null,Se=J.connector,Ae=J.resetOnDisconnect,Fe=void 0===Ae||Ae,xe=Se(),Te=new we.Observable((function(U){return xe.subscribe(U)}));return Te.connect=function(){return ee&&!ee.closed||(ee=Ee.defer((function(){return U})).subscribe(xe),Fe&&ee.add((function(){return xe=Se()}))),ee},Te}},6632:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.defer=void 0;var Se=ee(2023),we=ee(2296);J.defer=function defer(U){return new Se.Observable((function(J){we.innerFrom(U()).subscribe(J)}))}},7007:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.animationFrames=void 0;var Se=ee(2023),we=ee(8487),Ee=ee(2074);function animationFramesFactory(U){return new Se.Observable((function(J){var ee=U||we.performanceTimestampProvider,Se=ee.now(),je=0,run=function(){J.closed||(je=Ee.animationFrameProvider.requestAnimationFrame((function(we){je=0;var Ee=ee.now();J.next({timestamp:U?Ee:we,elapsed:Ee-Se}),run()})))};return run(),function(){je&&Ee.animationFrameProvider.cancelAnimationFrame(je)}}))}J.animationFrames=function animationFrames(U){return U?animationFramesFactory(U):je};var je=animationFramesFactory()},7209:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.empty=J.EMPTY=void 0;var Se=ee(2023);J.EMPTY=new Se.Observable((function(U){return U.complete()})),J.empty=function empty(U){return U?function emptyScheduled(U){return new Se.Observable((function(J){return U.schedule((function(){return J.complete()}))}))}(U):J.EMPTY}},8438:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.forkJoin=void 0;var Se=ee(2023),we=ee(3787),Ee=ee(2296),je=ee(1824),Ae=ee(1266),Fe=ee(8240),xe=ee(4950);J.forkJoin=function forkJoin(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=je.popResultSelector(U),Te=we.argsArgArrayOrObject(U),Ie=Te.args,ke=Te.keys,Ce=new Se.Observable((function(U){var J=Ie.length;if(J)for(var ee=new Array(J),Se=J,we=J,_loop_1=function(J){var je=!1;Ee.innerFrom(Ie[J]).subscribe(Ae.createOperatorSubscriber(U,(function(U){je||(je=!0,we--),ee[J]=U}),(function(){return Se--}),void 0,(function(){Se&&je||(we||U.next(ke?xe.createObject(ke,ee):ee),U.complete())})))},je=0;je<J;je++)_loop_1(je);else U.complete()}));return ee?Ce.pipe(Fe.mapOneOrManyArgs(ee)):Ce}},5294:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.from=void 0;var Se=ee(4463),we=ee(2296);J.from=function from(U,J){return J?Se.scheduled(U,J):we.innerFrom(U)}},6724:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je};Object.defineProperty(J,"__esModule",{value:!0}),J.fromEvent=void 0;var we=ee(2296),Ee=ee(2023),je=ee(1282),Ae=ee(5547),Fe=ee(4717),xe=ee(8240),Te=["addListener","removeListener"],Ie=["addEventListener","removeEventListener"],ke=["on","off"];function toCommonHandlerRegistry(U,J){return function(ee){return function(Se){return U[ee](J,Se)}}}J.fromEvent=function fromEvent(U,J,ee,Ce){if(Fe.isFunction(ee)&&(Ce=ee,ee=void 0),Ce)return fromEvent(U,J,ee).pipe(xe.mapOneOrManyArgs(Ce));var De=Se(function isEventTarget(U){return Fe.isFunction(U.addEventListener)&&Fe.isFunction(U.removeEventListener)}(U)?Ie.map((function(Se){return function(we){return U[Se](J,we,ee)}})):function isNodeStyleEventEmitter(U){return Fe.isFunction(U.addListener)&&Fe.isFunction(U.removeListener)}(U)?Te.map(toCommonHandlerRegistry(U,J)):function isJQueryStyleEventEmitter(U){return Fe.isFunction(U.on)&&Fe.isFunction(U.off)}(U)?ke.map(toCommonHandlerRegistry(U,J)):[],2),Re=De[0],Le=De[1];if(!Re&&Ae.isArrayLike(U))return je.mergeMap((function(U){return fromEvent(U,J,ee)}))(we.innerFrom(U));if(!Re)throw new TypeError("Invalid event target");return new Ee.Observable((function(U){var handler=function(){for(var J=[],ee=0;ee<arguments.length;ee++)J[ee]=arguments[ee];return U.next(1<J.length?J:J[0])};return Re(handler),function(){return Le(handler)}}))}},2620:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.fromEventPattern=void 0;var Se=ee(2023),we=ee(4717),Ee=ee(8240);J.fromEventPattern=function fromEventPattern(U,J,ee){return ee?fromEventPattern(U,J).pipe(Ee.mapOneOrManyArgs(ee)):new Se.Observable((function(ee){var handler=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return ee.next(1===U.length?U[0]:U)},Se=U(handler);return we.isFunction(J)?function(){return J(handler,Se)}:void 0}))}},3123:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.fromSubscribable=void 0;var Se=ee(2023);J.fromSubscribable=function fromSubscribable(U){return new Se.Observable((function(J){return U.subscribe(J)}))}},3541:function(U,J,ee){"use strict";var Se=this&&this.__generator||function(U,J){var ee,Se,we,Ee,je={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return Ee={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function verb(Ee){return function(Ae){return function step(Ee){if(ee)throw new TypeError("Generator is already executing.");for(;je;)try{if(ee=1,Se&&(we=2&Ee[0]?Se.return:Ee[0]?Se.throw||((we=Se.return)&&we.call(Se),0):Se.next)&&!(we=we.call(Se,Ee[1])).done)return we;switch(Se=0,we&&(Ee=[2&Ee[0],we.value]),Ee[0]){case 0:case 1:we=Ee;break;case 4:return je.label++,{value:Ee[1],done:!1};case 5:je.label++,Se=Ee[1],Ee=[0];continue;case 7:Ee=je.ops.pop(),je.trys.pop();continue;default:if(!(we=je.trys,(we=we.length>0&&we[we.length-1])||6!==Ee[0]&&2!==Ee[0])){je=0;continue}if(3===Ee[0]&&(!we||Ee[1]>we[0]&&Ee[1]<we[3])){je.label=Ee[1];break}if(6===Ee[0]&&je.label<we[1]){je.label=we[1],we=Ee;break}if(we&&je.label<we[2]){je.label=we[2],je.ops.push(Ee);break}we[2]&&je.ops.pop(),je.trys.pop();continue}Ee=J.call(U,je)}catch(U){Ee=[6,U],Se=0}finally{ee=we=0}if(5&Ee[0])throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}([Ee,Ae])}}};Object.defineProperty(J,"__esModule",{value:!0}),J.generate=void 0;var we=ee(9391),Ee=ee(4568),je=ee(6632),Ae=ee(3585);J.generate=function generate(U,J,ee,Fe,xe){var Te,Ie,ke,Ce;function gen(){var U;return Se(this,(function(Se){switch(Se.label){case 0:U=Ce,Se.label=1;case 1:return J&&!J(U)?[3,4]:[4,ke(U)];case 2:Se.sent(),Se.label=3;case 3:return U=ee(U),[3,1];case 4:return[2]}}))}return 1===arguments.length?(Ce=(Te=U).initialState,J=Te.condition,ee=Te.iterate,Ie=Te.resultSelector,ke=void 0===Ie?we.identity:Ie,xe=Te.scheduler):(Ce=U,!Fe||Ee.isScheduler(Fe)?(ke=we.identity,xe=Fe):ke=Fe),je.defer(xe?function(){return Ae.scheduleIterable(gen(),xe)}:gen)}},9832:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.iif=void 0;var Se=ee(6632);J.iif=function iif(U,J,ee){return Se.defer((function(){return U()?J:ee}))}},2296:function(U,J,ee){"use strict";var Se=this&&this.__awaiter||function(U,J,ee,Se){return new(ee||(ee=Promise))((function(we,Ee){function fulfilled(U){try{step(Se.next(U))}catch(U){Ee(U)}}function rejected(U){try{step(Se.throw(U))}catch(U){Ee(U)}}function step(U){U.done?we(U.value):function adopt(U){return U instanceof ee?U:new ee((function(J){J(U)}))}(U.value).then(fulfilled,rejected)}step((Se=Se.apply(U,J||[])).next())}))},we=this&&this.__generator||function(U,J){var ee,Se,we,Ee,je={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return Ee={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function verb(Ee){return function(Ae){return function step(Ee){if(ee)throw new TypeError("Generator is already executing.");for(;je;)try{if(ee=1,Se&&(we=2&Ee[0]?Se.return:Ee[0]?Se.throw||((we=Se.return)&&we.call(Se),0):Se.next)&&!(we=we.call(Se,Ee[1])).done)return we;switch(Se=0,we&&(Ee=[2&Ee[0],we.value]),Ee[0]){case 0:case 1:we=Ee;break;case 4:return je.label++,{value:Ee[1],done:!1};case 5:je.label++,Se=Ee[1],Ee=[0];continue;case 7:Ee=je.ops.pop(),je.trys.pop();continue;default:if(!(we=je.trys,(we=we.length>0&&we[we.length-1])||6!==Ee[0]&&2!==Ee[0])){je=0;continue}if(3===Ee[0]&&(!we||Ee[1]>we[0]&&Ee[1]<we[3])){je.label=Ee[1];break}if(6===Ee[0]&&je.label<we[1]){je.label=we[1],we=Ee;break}if(we&&je.label<we[2]){je.label=we[2],je.ops.push(Ee);break}we[2]&&je.ops.pop(),je.trys.pop();continue}Ee=J.call(U,je)}catch(U){Ee=[6,U],Se=0}finally{ee=we=0}if(5&Ee[0])throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}([Ee,Ae])}}},Ee=this&&this.__asyncValues||function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,ee=U[Symbol.asyncIterator];return ee?ee.call(U):(U="function"==typeof je?je(U):U[Symbol.iterator](),J={},verb("next"),verb("throw"),verb("return"),J[Symbol.asyncIterator]=function(){return this},J);function verb(ee){J[ee]=U[ee]&&function(J){return new Promise((function(Se,we){(function settle(U,J,ee,Se){Promise.resolve(Se).then((function(J){U({value:J,done:ee})}),J)})(Se,we,(J=U[ee](J)).done,J.value)}))}}},je=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.fromReadableStreamLike=J.fromAsyncIterable=J.fromIterable=J.fromPromise=J.fromArrayLike=J.fromInteropObservable=J.innerFrom=void 0;var Ae=ee(5547),Fe=ee(452),xe=ee(2023),Te=ee(1801),Ie=ee(9451),ke=ee(3533),Ce=ee(6847),De=ee(3026),Re=ee(4717),Le=ee(4696),qe=ee(2131);function fromInteropObservable(U){return new xe.Observable((function(J){var ee=U[qe.observable]();if(Re.isFunction(ee.subscribe))return ee.subscribe(J);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function fromArrayLike(U){return new xe.Observable((function(J){for(var ee=0;ee<U.length&&!J.closed;ee++)J.next(U[ee]);J.complete()}))}function fromPromise(U){return new xe.Observable((function(J){U.then((function(U){J.closed||(J.next(U),J.complete())}),(function(U){return J.error(U)})).then(null,Le.reportUnhandledError)}))}function fromIterable(U){return new xe.Observable((function(J){var ee,Se;try{for(var we=je(U),Ee=we.next();!Ee.done;Ee=we.next()){var Ae=Ee.value;if(J.next(Ae),J.closed)return}}catch(U){ee={error:U}}finally{try{Ee&&!Ee.done&&(Se=we.return)&&Se.call(we)}finally{if(ee)throw ee.error}}J.complete()}))}function fromAsyncIterable(U){return new xe.Observable((function(J){(function process(U,J){var ee,je,Ae,Fe;return Se(this,void 0,void 0,(function(){var Se,xe;return we(this,(function(we){switch(we.label){case 0:we.trys.push([0,5,6,11]),ee=Ee(U),we.label=1;case 1:return[4,ee.next()];case 2:if((je=we.sent()).done)return[3,4];if(Se=je.value,J.next(Se),J.closed)return[2];we.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return xe=we.sent(),Ae={error:xe},[3,11];case 6:return we.trys.push([6,,9,10]),je&&!je.done&&(Fe=ee.return)?[4,Fe.call(ee)]:[3,8];case 7:we.sent(),we.label=8;case 8:return[3,10];case 9:if(Ae)throw Ae.error;return[7];case 10:return[7];case 11:return J.complete(),[2]}}))}))})(U,J).catch((function(U){return J.error(U)}))}))}function fromReadableStreamLike(U){return fromAsyncIterable(De.readableStreamLikeToAsyncGenerator(U))}J.innerFrom=function innerFrom(U){if(U instanceof xe.Observable)return U;if(null!=U){if(Te.isInteropObservable(U))return fromInteropObservable(U);if(Ae.isArrayLike(U))return fromArrayLike(U);if(Fe.isPromise(U))return fromPromise(U);if(Ie.isAsyncIterable(U))return fromAsyncIterable(U);if(Ce.isIterable(U))return fromIterable(U);if(De.isReadableStreamLike(U))return fromReadableStreamLike(U)}throw ke.createInvalidObservableTypeError(U)},J.fromInteropObservable=fromInteropObservable,J.fromArrayLike=fromArrayLike,J.fromPromise=fromPromise,J.fromIterable=fromIterable,J.fromAsyncIterable=fromAsyncIterable,J.fromReadableStreamLike=fromReadableStreamLike},8767:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.interval=void 0;var Se=ee(4386),we=ee(5461);J.interval=function interval(U,J){return void 0===U&&(U=0),void 0===J&&(J=Se.asyncScheduler),U<0&&(U=0),we.timer(U,U,J)}},8732:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.merge=void 0;var Se=ee(1867),we=ee(2296),Ee=ee(7209),je=ee(1824),Ae=ee(5294);J.merge=function merge(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=je.popScheduler(U),Fe=je.popNumber(U,1/0),xe=U;return xe.length?1===xe.length?we.innerFrom(xe[0]):Se.mergeAll(Fe)(Ae.from(xe,ee)):Ee.EMPTY}},6858:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.never=J.NEVER=void 0;var Se=ee(2023),we=ee(6129);J.NEVER=new Se.Observable(we.noop),J.never=function never(){return J.NEVER}},8743:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.of=void 0;var Se=ee(1824),we=ee(5294);J.of=function of(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Se.popScheduler(U);return we.from(U,ee)}},6467:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.onErrorResumeNext=void 0;var Se=ee(2023),we=ee(160),Ee=ee(1266),je=ee(6129),Ae=ee(2296);J.onErrorResumeNext=function onErrorResumeNext(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=we.argsOrArgArray(U);return new Se.Observable((function(U){var J=0,subscribeNext=function(){if(J<ee.length){var Se=void 0;try{Se=Ae.innerFrom(ee[J++])}catch(U){return void subscribeNext()}var we=new Ee.OperatorSubscriber(U,void 0,je.noop,je.noop);Se.subscribe(we),we.add(subscribeNext)}else U.complete()};subscribeNext()}))}},393:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.pairs=void 0;var Se=ee(5294);J.pairs=function pairs(U,J){return Se.from(Object.entries(U),J)}},2298:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.partition=void 0;var Se=ee(1276),we=ee(2914),Ee=ee(2296);J.partition=function partition(U,J,ee){return[we.filter(J,ee)(Ee.innerFrom(U)),we.filter(Se.not(J,ee))(Ee.innerFrom(U))]}},4143:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.raceInit=J.race=void 0;var Se=ee(2023),we=ee(2296),Ee=ee(160),je=ee(1266);function raceInit(U){return function(J){for(var ee=[],_loop_1=function(Se){ee.push(we.innerFrom(U[Se]).subscribe(je.createOperatorSubscriber(J,(function(U){if(ee){for(var we=0;we<ee.length;we++)we!==Se&&ee[we].unsubscribe();ee=null}J.next(U)}))))},Se=0;ee&&!J.closed&&Se<U.length;Se++)_loop_1(Se)}}J.race=function race(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return 1===(U=Ee.argsOrArgArray(U)).length?we.innerFrom(U[0]):new Se.Observable(raceInit(U))},J.raceInit=raceInit},2485:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.range=void 0;var Se=ee(2023),we=ee(7209);J.range=function range(U,J,ee){if(null==J&&(J=U,U=0),J<=0)return we.EMPTY;var Ee=J+U;return new Se.Observable(ee?function(J){var Se=U;return ee.schedule((function(){Se<Ee?(J.next(Se++),this.schedule()):J.complete()}))}:function(J){for(var ee=U;ee<Ee&&!J.closed;)J.next(ee++);J.complete()})}},6612:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.throwError=void 0;var Se=ee(2023),we=ee(4717);J.throwError=function throwError(U,J){var ee=we.isFunction(U)?U:function(){return U},init=function(U){return U.error(ee())};return new Se.Observable(J?function(U){return J.schedule(init,0,U)}:init)}},5461:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.timer=void 0;var Se=ee(2023),we=ee(4386),Ee=ee(4568),je=ee(6349);J.timer=function timer(U,J,ee){void 0===U&&(U=0),void 0===ee&&(ee=we.async);var Ae=-1;return null!=J&&(Ee.isScheduler(J)?ee=J:Ae=J),new Se.Observable((function(J){var Se=je.isValidDate(U)?+U-ee.now():U;Se<0&&(Se=0);var we=0;return ee.schedule((function(){J.closed||(J.next(we++),0<=Ae?this.schedule(void 0,Ae):J.complete())}),Se)}))}},6340:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.using=void 0;var Se=ee(2023),we=ee(2296),Ee=ee(7209);J.using=function using(U,J){return new Se.Observable((function(ee){var Se=U(),je=J(Se);return(je?we.innerFrom(je):Ee.EMPTY).subscribe(ee),function(){Se&&Se.unsubscribe()}}))}},1763:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.zip=void 0;var Ee=ee(2023),je=ee(2296),Ae=ee(160),Fe=ee(7209),xe=ee(1266),Te=ee(1824);J.zip=function zip(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Te.popResultSelector(U),Ie=Ae.argsOrArgArray(U);return Ie.length?new Ee.Observable((function(U){var J=Ie.map((function(){return[]})),Ee=Ie.map((function(){return!1}));U.add((function(){J=Ee=null}));for(var _loop_1=function(Ae){je.innerFrom(Ie[Ae]).subscribe(xe.createOperatorSubscriber(U,(function(je){if(J[Ae].push(je),J.every((function(U){return U.length}))){var Fe=J.map((function(U){return U.shift()}));U.next(ee?ee.apply(void 0,we([],Se(Fe))):Fe),J.some((function(U,J){return!U.length&&Ee[J]}))&&U.complete()}}),(function(){Ee[Ae]=!0,!J[Ae].length&&U.complete()})))},Ae=0;!U.closed&&Ae<Ie.length;Ae++)_loop_1(Ae);return function(){J=Ee=null}})):Fe.EMPTY}},1266:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.OperatorSubscriber=J.createOperatorSubscriber=void 0;var Ee=ee(4512);J.createOperatorSubscriber=function createOperatorSubscriber(U,J,ee,Se,we){return new je(U,J,ee,Se,we)};var je=function(U){function OperatorSubscriber(J,ee,Se,we,Ee,je){var Ae=U.call(this,J)||this;return Ae.onFinalize=Ee,Ae.shouldUnsubscribe=je,Ae._next=ee?function(U){try{ee(U)}catch(U){J.error(U)}}:U.prototype._next,Ae._error=we?function(U){try{we(U)}catch(U){J.error(U)}finally{this.unsubscribe()}}:U.prototype._error,Ae._complete=Se?function(){try{Se()}catch(U){J.error(U)}finally{this.unsubscribe()}}:U.prototype._complete,Ae}return we(OperatorSubscriber,U),OperatorSubscriber.prototype.unsubscribe=function(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ee=this.closed;U.prototype.unsubscribe.call(this),!ee&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}},OperatorSubscriber}(Ee.Subscriber);J.OperatorSubscriber=je},6993:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.audit=void 0;var Se=ee(5416),we=ee(2296),Ee=ee(1266);J.audit=function audit(U){return Se.operate((function(J,ee){var Se=!1,je=null,Ae=null,Fe=!1,endDuration=function(){if(null==Ae||Ae.unsubscribe(),Ae=null,Se){Se=!1;var U=je;je=null,ee.next(U)}Fe&&ee.complete()},cleanupDuration=function(){Ae=null,Fe&&ee.complete()};J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){Se=!0,je=J,Ae||we.innerFrom(U(J)).subscribe(Ae=Ee.createOperatorSubscriber(ee,endDuration,cleanupDuration))}),(function(){Fe=!0,(!Se||!Ae||Ae.closed)&&ee.complete()})))}))}},4116:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.auditTime=void 0;var Se=ee(4386),we=ee(6993),Ee=ee(5461);J.auditTime=function auditTime(U,J){return void 0===J&&(J=Se.asyncScheduler),we.audit((function(){return Ee.timer(U,J)}))}},7190:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.buffer=void 0;var Se=ee(5416),we=ee(6129),Ee=ee(1266),je=ee(2296);J.buffer=function buffer(U){return Se.operate((function(J,ee){var Se=[];return J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return Se.push(U)}),(function(){ee.next(Se),ee.complete()}))),je.innerFrom(U).subscribe(Ee.createOperatorSubscriber(ee,(function(){var U=Se;Se=[],ee.next(U)}),we.noop)),function(){Se=null}}))}},6835:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.bufferCount=void 0;var we=ee(5416),Ee=ee(1266),je=ee(7394);J.bufferCount=function bufferCount(U,J){return void 0===J&&(J=null),J=null!=J?J:U,we.operate((function(ee,we){var Ae=[],Fe=0;ee.subscribe(Ee.createOperatorSubscriber(we,(function(ee){var Ee,xe,Te,Ie,ke=null;Fe++%J==0&&Ae.push([]);try{for(var Ce=Se(Ae),De=Ce.next();!De.done;De=Ce.next()){(qe=De.value).push(ee),U<=qe.length&&(ke=null!=ke?ke:[]).push(qe)}}catch(U){Ee={error:U}}finally{try{De&&!De.done&&(xe=Ce.return)&&xe.call(Ce)}finally{if(Ee)throw Ee.error}}if(ke)try{for(var Re=Se(ke),Le=Re.next();!Le.done;Le=Re.next()){var qe=Le.value;je.arrRemove(Ae,qe),we.next(qe)}}catch(U){Te={error:U}}finally{try{Le&&!Le.done&&(Ie=Re.return)&&Ie.call(Re)}finally{if(Te)throw Te.error}}}),(function(){var U,J;try{for(var ee=Se(Ae),Ee=ee.next();!Ee.done;Ee=ee.next()){var je=Ee.value;we.next(je)}}catch(J){U={error:J}}finally{try{Ee&&!Ee.done&&(J=ee.return)&&J.call(ee)}finally{if(U)throw U.error}}we.complete()}),void 0,(function(){Ae=null})))}))}},5219:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.bufferTime=void 0;var we=ee(7491),Ee=ee(5416),je=ee(1266),Ae=ee(7394),Fe=ee(4386),xe=ee(1824),Te=ee(5031);J.bufferTime=function bufferTime(U){for(var J,ee,Ie=[],ke=1;ke<arguments.length;ke++)Ie[ke-1]=arguments[ke];var Ce=null!==(J=xe.popScheduler(Ie))&&void 0!==J?J:Fe.asyncScheduler,De=null!==(ee=Ie[0])&&void 0!==ee?ee:null,Re=Ie[1]||1/0;return Ee.operate((function(J,ee){var Ee=[],Fe=!1,emit=function(U){var J=U.buffer;U.subs.unsubscribe(),Ae.arrRemove(Ee,U),ee.next(J),Fe&&startBuffer()},startBuffer=function(){if(Ee){var J=new we.Subscription;ee.add(J);var Se={buffer:[],subs:J};Ee.push(Se),Te.executeSchedule(J,Ce,(function(){return emit(Se)}),U)}};null!==De&&De>=0?Te.executeSchedule(ee,Ce,startBuffer,De,!0):Fe=!0,startBuffer();var xe=je.createOperatorSubscriber(ee,(function(U){var J,ee,we=Ee.slice();try{for(var je=Se(we),Ae=je.next();!Ae.done;Ae=je.next()){var Fe=Ae.value,xe=Fe.buffer;xe.push(U),Re<=xe.length&&emit(Fe)}}catch(U){J={error:U}}finally{try{Ae&&!Ae.done&&(ee=je.return)&&ee.call(je)}finally{if(J)throw J.error}}}),(function(){for(;null==Ee?void 0:Ee.length;)ee.next(Ee.shift().buffer);null==xe||xe.unsubscribe(),ee.complete(),ee.unsubscribe()}),void 0,(function(){return Ee=null}));J.subscribe(xe)}))}},118:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.bufferToggle=void 0;var we=ee(7491),Ee=ee(5416),je=ee(2296),Ae=ee(1266),Fe=ee(6129),xe=ee(7394);J.bufferToggle=function bufferToggle(U,J){return Ee.operate((function(ee,Ee){var Te=[];je.innerFrom(U).subscribe(Ae.createOperatorSubscriber(Ee,(function(U){var ee=[];Te.push(ee);var Se=new we.Subscription;Se.add(je.innerFrom(J(U)).subscribe(Ae.createOperatorSubscriber(Ee,(function(){xe.arrRemove(Te,ee),Ee.next(ee),Se.unsubscribe()}),Fe.noop)))}),Fe.noop)),ee.subscribe(Ae.createOperatorSubscriber(Ee,(function(U){var J,ee;try{for(var we=Se(Te),Ee=we.next();!Ee.done;Ee=we.next()){Ee.value.push(U)}}catch(U){J={error:U}}finally{try{Ee&&!Ee.done&&(ee=we.return)&&ee.call(we)}finally{if(J)throw J.error}}}),(function(){for(;Te.length>0;)Ee.next(Te.shift());Ee.complete()})))}))}},7514:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.bufferWhen=void 0;var Se=ee(5416),we=ee(6129),Ee=ee(1266),je=ee(2296);J.bufferWhen=function bufferWhen(U){return Se.operate((function(J,ee){var Se=null,Ae=null,openBuffer=function(){null==Ae||Ae.unsubscribe();var J=Se;Se=[],J&&ee.next(J),je.innerFrom(U()).subscribe(Ae=Ee.createOperatorSubscriber(ee,openBuffer,we.noop))};openBuffer(),J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return null==Se?void 0:Se.push(U)}),(function(){Se&&ee.next(Se),ee.complete()}),void 0,(function(){return Se=Ae=null})))}))}},8251:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.catchError=void 0;var Se=ee(2296),we=ee(1266),Ee=ee(5416);J.catchError=function catchError(U){return Ee.operate((function(J,ee){var Ee,je=null,Ae=!1;je=J.subscribe(we.createOperatorSubscriber(ee,void 0,void 0,(function(we){Ee=Se.innerFrom(U(we,catchError(U)(J))),je?(je.unsubscribe(),je=null,Ee.subscribe(ee)):Ae=!0}))),Ae&&(je.unsubscribe(),je=null,Ee.subscribe(ee))}))}},1424:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.combineAll=void 0;var Se=ee(2945);J.combineAll=Se.combineLatestAll},2e3:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatest=void 0;var Ee=ee(994),je=ee(5416),Ae=ee(160),Fe=ee(8240),xe=ee(2393),Te=ee(1824);J.combineLatest=function combineLatest(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Te.popResultSelector(U);return ee?xe.pipe(combineLatest.apply(void 0,we([],Se(U))),Fe.mapOneOrManyArgs(ee)):je.operate((function(J,ee){Ee.combineLatestInit(we([J],Se(Ae.argsOrArgArray(U))))(ee)}))}},2945:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatestAll=void 0;var Se=ee(994),we=ee(587);J.combineLatestAll=function combineLatestAll(U){return we.joinAllInternals(Se.combineLatest,U)}},3928:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.combineLatestWith=void 0;var Ee=ee(2e3);J.combineLatestWith=function combineLatestWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.combineLatest.apply(void 0,we([],Se(U)))}},1812:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.concat=void 0;var Ee=ee(5416),je=ee(861),Ae=ee(1824),Fe=ee(5294);J.concat=function concat(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Ae.popScheduler(U);return Ee.operate((function(J,Ee){je.concatAll()(Fe.from(we([J],Se(U)),ee)).subscribe(Ee)}))}},861:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.concatAll=void 0;var Se=ee(1867);J.concatAll=function concatAll(){return Se.mergeAll(1)}},1012:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.concatMap=void 0;var Se=ee(1282),we=ee(4717);J.concatMap=function concatMap(U,J){return we.isFunction(J)?Se.mergeMap(U,J,1):Se.mergeMap(U,1)}},1157:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.concatMapTo=void 0;var Se=ee(1012),we=ee(4717);J.concatMapTo=function concatMapTo(U,J){return we.isFunction(J)?Se.concatMap((function(){return U}),J):Se.concatMap((function(){return U}))}},3692:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.concatWith=void 0;var Ee=ee(1812);J.concatWith=function concatWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.concat.apply(void 0,we([],Se(U)))}},2216:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.connect=void 0;var Se=ee(20),we=ee(2296),Ee=ee(5416),je=ee(3123),Ae={connector:function(){return new Se.Subject}};J.connect=function connect(U,J){void 0===J&&(J=Ae);var ee=J.connector;return Ee.operate((function(J,Se){var Ee=ee();we.innerFrom(U(je.fromSubscribable(Ee))).subscribe(Se),Se.add(J.subscribe(Ee))}))}},8041:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.count=void 0;var Se=ee(3818);J.count=function count(U){return Se.reduce((function(J,ee,Se){return!U||U(ee,Se)?J+1:J}),0)}},2747:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.debounce=void 0;var Se=ee(5416),we=ee(6129),Ee=ee(1266),je=ee(2296);J.debounce=function debounce(U){return Se.operate((function(J,ee){var Se=!1,Ae=null,Fe=null,emit=function(){if(null==Fe||Fe.unsubscribe(),Fe=null,Se){Se=!1;var U=Ae;Ae=null,ee.next(U)}};J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){null==Fe||Fe.unsubscribe(),Se=!0,Ae=J,Fe=Ee.createOperatorSubscriber(ee,emit,we.noop),je.innerFrom(U(J)).subscribe(Fe)}),(function(){emit(),ee.complete()}),void 0,(function(){Ae=Fe=null})))}))}},3870:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.debounceTime=void 0;var Se=ee(4386),we=ee(5416),Ee=ee(1266);J.debounceTime=function debounceTime(U,J){return void 0===J&&(J=Se.asyncScheduler),we.operate((function(ee,Se){var we=null,je=null,Ae=null,emit=function(){if(we){we.unsubscribe(),we=null;var U=je;je=null,Se.next(U)}};function emitWhenIdle(){var ee=Ae+U,Ee=J.now();if(Ee<ee)return we=this.schedule(void 0,ee-Ee),void Se.add(we);emit()}ee.subscribe(Ee.createOperatorSubscriber(Se,(function(ee){je=ee,Ae=J.now(),we||(we=J.schedule(emitWhenIdle,U),Se.add(we))}),(function(){emit(),Se.complete()}),void 0,(function(){je=we=null})))}))}},7507:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.defaultIfEmpty=void 0;var Se=ee(5416),we=ee(1266);J.defaultIfEmpty=function defaultIfEmpty(U){return Se.operate((function(J,ee){var Se=!1;J.subscribe(we.createOperatorSubscriber(ee,(function(U){Se=!0,ee.next(U)}),(function(){Se||ee.next(U),ee.complete()})))}))}},2409:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.delay=void 0;var Se=ee(4386),we=ee(5137),Ee=ee(5461);J.delay=function delay(U,J){void 0===J&&(J=Se.asyncScheduler);var ee=Ee.timer(U,J);return we.delayWhen((function(){return ee}))}},5137:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.delayWhen=void 0;var Se=ee(2070),we=ee(6803),Ee=ee(2507),je=ee(1357),Ae=ee(1282),Fe=ee(2296);J.delayWhen=function delayWhen(U,J){return J?function(ee){return Se.concat(J.pipe(we.take(1),Ee.ignoreElements()),ee.pipe(delayWhen(U)))}:Ae.mergeMap((function(J,ee){return Fe.innerFrom(U(J,ee)).pipe(we.take(1),je.mapTo(J))}))}},4126:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.dematerialize=void 0;var Se=ee(6145),we=ee(5416),Ee=ee(1266);J.dematerialize=function dematerialize(){return we.operate((function(U,J){U.subscribe(Ee.createOperatorSubscriber(J,(function(U){return Se.observeNotification(U,J)})))}))}},5208:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.distinct=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(6129),je=ee(2296);J.distinct=function distinct(U,J){return Se.operate((function(ee,Se){var Ae=new Set;ee.subscribe(we.createOperatorSubscriber(Se,(function(J){var ee=U?U(J):J;Ae.has(ee)||(Ae.add(ee),Se.next(J))}))),J&&je.innerFrom(J).subscribe(we.createOperatorSubscriber(Se,(function(){return Ae.clear()}),Ee.noop))}))}},9939:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.distinctUntilChanged=void 0;var Se=ee(9391),we=ee(5416),Ee=ee(1266);function defaultCompare(U,J){return U===J}J.distinctUntilChanged=function distinctUntilChanged(U,J){return void 0===J&&(J=Se.identity),U=null!=U?U:defaultCompare,we.operate((function(ee,Se){var we,je=!0;ee.subscribe(Ee.createOperatorSubscriber(Se,(function(ee){var Ee=J(ee);!je&&U(we,Ee)||(je=!1,we=Ee,Se.next(ee))})))}))}},183:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.distinctUntilKeyChanged=void 0;var Se=ee(9939);J.distinctUntilKeyChanged=function distinctUntilKeyChanged(U,J){return Se.distinctUntilChanged((function(ee,Se){return J?J(ee[U],Se[U]):ee[U]===Se[U]}))}},1195:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.elementAt=void 0;var Se=ee(9148),we=ee(2914),Ee=ee(5956),je=ee(7507),Ae=ee(6803);J.elementAt=function elementAt(U,J){if(U<0)throw new Se.ArgumentOutOfRangeError;var ee=arguments.length>=2;return function(Fe){return Fe.pipe(we.filter((function(J,ee){return ee===U})),Ae.take(1),ee?je.defaultIfEmpty(J):Ee.throwIfEmpty((function(){return new Se.ArgumentOutOfRangeError})))}}},3723:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.endWith=void 0;var Ee=ee(2070),je=ee(8743);J.endWith=function endWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return function(J){return Ee.concat(J,je.of.apply(void 0,we([],Se(U))))}}},1909:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.every=void 0;var Se=ee(5416),we=ee(1266);J.every=function every(U,J){return Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(we){U.call(J,we,Ee++,ee)||(Se.next(!1),Se.complete())}),(function(){Se.next(!0),Se.complete()})))}))}},9228:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.exhaust=void 0;var Se=ee(9765);J.exhaust=Se.exhaustAll},9765:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.exhaustAll=void 0;var Se=ee(8748),we=ee(9391);J.exhaustAll=function exhaustAll(){return Se.exhaustMap(we.identity)}},8748:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.exhaustMap=void 0;var Se=ee(4828),we=ee(2296),Ee=ee(5416),je=ee(1266);J.exhaustMap=function exhaustMap(U,J){return J?function(ee){return ee.pipe(exhaustMap((function(ee,Ee){return we.innerFrom(U(ee,Ee)).pipe(Se.map((function(U,Se){return J(ee,U,Ee,Se)})))})))}:Ee.operate((function(J,ee){var Se=0,Ee=null,Ae=!1;J.subscribe(je.createOperatorSubscriber(ee,(function(J){Ee||(Ee=je.createOperatorSubscriber(ee,void 0,(function(){Ee=null,Ae&&ee.complete()})),we.innerFrom(U(J,Se++)).subscribe(Ee))}),(function(){Ae=!0,!Ee&&ee.complete()})))}))}},8324:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.expand=void 0;var Se=ee(5416),we=ee(3754);J.expand=function expand(U,J,ee){return void 0===J&&(J=1/0),J=(J||0)<1?1/0:J,Se.operate((function(Se,Ee){return we.mergeInternals(Se,Ee,U,J,void 0,!0,ee)}))}},2914:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.filter=void 0;var Se=ee(5416),we=ee(1266);J.filter=function filter(U,J){return Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(ee){return U.call(J,ee,Ee++)&&Se.next(ee)})))}))}},9822:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.finalize=void 0;var Se=ee(5416);J.finalize=function finalize(U){return Se.operate((function(J,ee){try{J.subscribe(ee)}finally{ee.add(U)}}))}},2819:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createFind=J.find=void 0;var Se=ee(5416),we=ee(1266);function createFind(U,J,ee){var Se="index"===ee;return function(ee,Ee){var je=0;ee.subscribe(we.createOperatorSubscriber(Ee,(function(we){var Ae=je++;U.call(J,we,Ae,ee)&&(Ee.next(Se?Ae:we),Ee.complete())}),(function(){Ee.next(Se?-1:void 0),Ee.complete()})))}}J.find=function find(U,J){return Se.operate(createFind(U,J,"value"))},J.createFind=createFind},3367:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.findIndex=void 0;var Se=ee(5416),we=ee(2819);J.findIndex=function findIndex(U,J){return Se.operate(we.createFind(U,J,"index"))}},1432:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.first=void 0;var Se=ee(7676),we=ee(2914),Ee=ee(6803),je=ee(7507),Ae=ee(5956),Fe=ee(9391);J.first=function first(U,J){var ee=arguments.length>=2;return function(xe){return xe.pipe(U?we.filter((function(J,ee){return U(J,ee,xe)})):Fe.identity,Ee.take(1),ee?je.defaultIfEmpty(J):Ae.throwIfEmpty((function(){return new Se.EmptyError})))}}},6977:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.flatMap=void 0;var Se=ee(1282);J.flatMap=Se.mergeMap},4956:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.groupBy=void 0;var Se=ee(2023),we=ee(2296),Ee=ee(20),je=ee(5416),Ae=ee(1266);J.groupBy=function groupBy(U,J,ee,Fe){return je.operate((function(je,xe){var Te;J&&"function"!=typeof J?(ee=J.duration,Te=J.element,Fe=J.connector):Te=J;var Ie=new Map,notify=function(U){Ie.forEach(U),U(xe)},handleError=function(U){return notify((function(J){return J.error(U)}))},ke=0,Ce=!1,De=new Ae.OperatorSubscriber(xe,(function(J){try{var je=U(J),Re=Ie.get(je);if(!Re){Ie.set(je,Re=Fe?Fe():new Ee.Subject);var Le=function createGroupedObservable(U,J){var ee=new Se.Observable((function(U){ke++;var ee=J.subscribe(U);return function(){ee.unsubscribe(),0==--ke&&Ce&&De.unsubscribe()}}));return ee.key=U,ee}(je,Re);if(xe.next(Le),ee){var qe=Ae.createOperatorSubscriber(Re,(function(){Re.complete(),null==qe||qe.unsubscribe()}),void 0,void 0,(function(){return Ie.delete(je)}));De.add(we.innerFrom(ee(Le)).subscribe(qe))}}Re.next(Te?Te(J):J)}catch(U){handleError(U)}}),(function(){return notify((function(U){return U.complete()}))}),handleError,(function(){return Ie.clear()}),(function(){return Ce=!0,0===ke}));je.subscribe(De)}))}},2507:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ignoreElements=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(6129);J.ignoreElements=function ignoreElements(){return Se.operate((function(U,J){U.subscribe(we.createOperatorSubscriber(J,Ee.noop))}))}},6095:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isEmpty=void 0;var Se=ee(5416),we=ee(1266);J.isEmpty=function isEmpty(){return Se.operate((function(U,J){U.subscribe(we.createOperatorSubscriber(J,(function(){J.next(!1),J.complete()}),(function(){J.next(!0),J.complete()})))}))}},587:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.joinAllInternals=void 0;var Se=ee(9391),we=ee(8240),Ee=ee(2393),je=ee(1282),Ae=ee(2984);J.joinAllInternals=function joinAllInternals(U,J){return Ee.pipe(Ae.toArray(),je.mergeMap((function(J){return U(J)})),J?we.mapOneOrManyArgs(J):Se.identity)}},3484:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.last=void 0;var Se=ee(7676),we=ee(2914),Ee=ee(787),je=ee(5956),Ae=ee(7507),Fe=ee(9391);J.last=function last(U,J){var ee=arguments.length>=2;return function(xe){return xe.pipe(U?we.filter((function(J,ee){return U(J,ee,xe)})):Fe.identity,Ee.takeLast(1),ee?Ae.defaultIfEmpty(J):je.throwIfEmpty((function(){return new Se.EmptyError})))}}},4828:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.map=void 0;var Se=ee(5416),we=ee(1266);J.map=function map(U,J){return Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(ee){Se.next(U.call(J,ee,Ee++))})))}))}},1357:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mapTo=void 0;var Se=ee(4828);J.mapTo=function mapTo(U){return Se.map((function(){return U}))}},7967:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.materialize=void 0;var Se=ee(6145),we=ee(5416),Ee=ee(1266);J.materialize=function materialize(){return we.operate((function(U,J){U.subscribe(Ee.createOperatorSubscriber(J,(function(U){J.next(Se.Notification.createNext(U))}),(function(){J.next(Se.Notification.createComplete()),J.complete()}),(function(U){J.next(Se.Notification.createError(U)),J.complete()})))}))}},4388:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.max=void 0;var Se=ee(3818),we=ee(4717);J.max=function max(U){return Se.reduce(we.isFunction(U)?function(J,ee){return U(J,ee)>0?J:ee}:function(U,J){return U>J?U:J})}},1550:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.merge=void 0;var Ee=ee(5416),je=ee(160),Ae=ee(1867),Fe=ee(1824),xe=ee(5294);J.merge=function merge(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Fe.popScheduler(U),Te=Fe.popNumber(U,1/0);return U=je.argsOrArgArray(U),Ee.operate((function(J,Ee){Ae.mergeAll(Te)(xe.from(we([J],Se(U)),ee)).subscribe(Ee)}))}},1867:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mergeAll=void 0;var Se=ee(1282),we=ee(9391);J.mergeAll=function mergeAll(U){return void 0===U&&(U=1/0),Se.mergeMap(we.identity,U)}},3754:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mergeInternals=void 0;var Se=ee(2296),we=ee(5031),Ee=ee(1266);J.mergeInternals=function mergeInternals(U,J,ee,je,Ae,Fe,xe,Te){var Ie=[],ke=0,Ce=0,De=!1,checkComplete=function(){!De||Ie.length||ke||J.complete()},outerNext=function(U){return ke<je?doInnerSub(U):Ie.push(U)},doInnerSub=function(U){Fe&&J.next(U),ke++;var Te=!1;Se.innerFrom(ee(U,Ce++)).subscribe(Ee.createOperatorSubscriber(J,(function(U){null==Ae||Ae(U),Fe?outerNext(U):J.next(U)}),(function(){Te=!0}),void 0,(function(){if(Te)try{ke--;for(var _loop_1=function(){var U=Ie.shift();xe?we.executeSchedule(J,xe,(function(){return doInnerSub(U)})):doInnerSub(U)};Ie.length&&ke<je;)_loop_1();checkComplete()}catch(U){J.error(U)}})))};return U.subscribe(Ee.createOperatorSubscriber(J,outerNext,(function(){De=!0,checkComplete()}))),function(){null==Te||Te()}}},1282:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mergeMap=void 0;var Se=ee(4828),we=ee(2296),Ee=ee(5416),je=ee(3754),Ae=ee(4717);J.mergeMap=function mergeMap(U,J,ee){return void 0===ee&&(ee=1/0),Ae.isFunction(J)?mergeMap((function(ee,Ee){return Se.map((function(U,Se){return J(ee,U,Ee,Se)}))(we.innerFrom(U(ee,Ee)))}),ee):("number"==typeof J&&(ee=J),Ee.operate((function(J,Se){return je.mergeInternals(J,Se,U,ee)})))}},6295:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mergeMapTo=void 0;var Se=ee(1282),we=ee(4717);J.mergeMapTo=function mergeMapTo(U,J,ee){return void 0===ee&&(ee=1/0),we.isFunction(J)?Se.mergeMap((function(){return U}),J,ee):("number"==typeof J&&(ee=J),Se.mergeMap((function(){return U}),ee))}},9527:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mergeScan=void 0;var Se=ee(5416),we=ee(3754);J.mergeScan=function mergeScan(U,J,ee){return void 0===ee&&(ee=1/0),Se.operate((function(Se,Ee){var je=J;return we.mergeInternals(Se,Ee,(function(J,ee){return U(je,J,ee)}),ee,(function(U){je=U}),!1,void 0,(function(){return je=null}))}))}},5834:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.mergeWith=void 0;var Ee=ee(1550);J.mergeWith=function mergeWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.merge.apply(void 0,we([],Se(U)))}},1306:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.min=void 0;var Se=ee(3818),we=ee(4717);J.min=function min(U){return Se.reduce(we.isFunction(U)?function(J,ee){return U(J,ee)<0?J:ee}:function(U,J){return U<J?U:J})}},9924:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.multicast=void 0;var Se=ee(1507),we=ee(4717),Ee=ee(2216);J.multicast=function multicast(U,J){var ee=we.isFunction(U)?U:function(){return U};return we.isFunction(J)?Ee.connect(J,{connector:ee}):function(U){return new Se.ConnectableObservable(U,ee)}}},2803:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.observeOn=void 0;var Se=ee(5031),we=ee(5416),Ee=ee(1266);J.observeOn=function observeOn(U,J){return void 0===J&&(J=0),we.operate((function(ee,we){ee.subscribe(Ee.createOperatorSubscriber(we,(function(ee){return Se.executeSchedule(we,U,(function(){return we.next(ee)}),J)}),(function(){return Se.executeSchedule(we,U,(function(){return we.complete()}),J)}),(function(ee){return Se.executeSchedule(we,U,(function(){return we.error(ee)}),J)})))}))}},1997:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.onErrorResumeNext=J.onErrorResumeNextWith=void 0;var Ee=ee(160),je=ee(6467);function onErrorResumeNextWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Ee.argsOrArgArray(U);return function(U){return je.onErrorResumeNext.apply(void 0,we([U],Se(ee)))}}J.onErrorResumeNextWith=onErrorResumeNextWith,J.onErrorResumeNext=onErrorResumeNextWith},4492:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.pairwise=void 0;var Se=ee(5416),we=ee(1266);J.pairwise=function pairwise(){return Se.operate((function(U,J){var ee,Se=!1;U.subscribe(we.createOperatorSubscriber(J,(function(U){var we=ee;ee=U,Se&&J.next([we,U]),Se=!0})))}))}},3391:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.pluck=void 0;var Se=ee(4828);J.pluck=function pluck(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=U.length;if(0===ee)throw new Error("list of properties cannot be empty.");return Se.map((function(J){for(var Se=J,we=0;we<ee;we++){var Ee=null==Se?void 0:Se[U[we]];if(void 0===Ee)return;Se=Ee}return Se}))}},297:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.publish=void 0;var Se=ee(20),we=ee(9924),Ee=ee(2216);J.publish=function publish(U){return U?function(J){return Ee.connect(U)(J)}:function(U){return we.multicast(new Se.Subject)(U)}}},6383:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.publishBehavior=void 0;var Se=ee(1222),we=ee(1507);J.publishBehavior=function publishBehavior(U){return function(J){var ee=new Se.BehaviorSubject(U);return new we.ConnectableObservable(J,(function(){return ee}))}}},8229:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.publishLast=void 0;var Se=ee(5366),we=ee(1507);J.publishLast=function publishLast(){return function(U){var J=new Se.AsyncSubject;return new we.ConnectableObservable(U,(function(){return J}))}}},8226:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.publishReplay=void 0;var Se=ee(5129),we=ee(9924),Ee=ee(4717);J.publishReplay=function publishReplay(U,J,ee,je){ee&&!Ee.isFunction(ee)&&(je=ee);var Ae=Ee.isFunction(ee)?ee:void 0;return function(ee){return we.multicast(new Se.ReplaySubject(U,J,je),Ae)(ee)}}},177:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.raceWith=void 0;var Ee=ee(4143),je=ee(5416),Ae=ee(9391);J.raceWith=function raceWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return U.length?je.operate((function(J,ee){Ee.raceInit(we([J],Se(U)))(ee)})):Ae.identity}},3818:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.reduce=void 0;var Se=ee(7071),we=ee(5416);J.reduce=function reduce(U,J){return we.operate(Se.scanInternals(U,J,arguments.length>=2,!1,!0))}},5884:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.refCount=void 0;var Se=ee(5416),we=ee(1266);J.refCount=function refCount(){return Se.operate((function(U,J){var ee=null;U._refCount++;var Se=we.createOperatorSubscriber(J,void 0,void 0,void 0,(function(){if(!U||U._refCount<=0||0<--U._refCount)ee=null;else{var Se=U._connection,we=ee;ee=null,!Se||we&&Se!==we||Se.unsubscribe(),J.unsubscribe()}}));U.subscribe(Se),Se.closed||(ee=U.connect())}))}},7775:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.repeat=void 0;var Se=ee(7209),we=ee(5416),Ee=ee(1266),je=ee(2296),Ae=ee(5461);J.repeat=function repeat(U){var J,ee,Fe=1/0;return null!=U&&("object"==typeof U?(J=U.count,Fe=void 0===J?1/0:J,ee=U.delay):Fe=U),Fe<=0?function(){return Se.EMPTY}:we.operate((function(U,J){var Se,we=0,resubscribe=function(){if(null==Se||Se.unsubscribe(),Se=null,null!=ee){var U="number"==typeof ee?Ae.timer(ee):je.innerFrom(ee(we)),Fe=Ee.createOperatorSubscriber(J,(function(){Fe.unsubscribe(),subscribeToSource()}));U.subscribe(Fe)}else subscribeToSource()},subscribeToSource=function(){var ee=!1;Se=U.subscribe(Ee.createOperatorSubscriber(J,void 0,(function(){++we<Fe?Se?resubscribe():ee=!0:J.complete()}))),ee&&resubscribe()};subscribeToSource()}))}},5567:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.repeatWhen=void 0;var Se=ee(2296),we=ee(20),Ee=ee(5416),je=ee(1266);J.repeatWhen=function repeatWhen(U){return Ee.operate((function(J,ee){var Ee,Ae,Fe=!1,xe=!1,Te=!1,checkComplete=function(){return Te&&xe&&(ee.complete(),!0)},subscribeForRepeatWhen=function(){Te=!1,Ee=J.subscribe(je.createOperatorSubscriber(ee,void 0,(function(){Te=!0,!checkComplete()&&(Ae||(Ae=new we.Subject,Se.innerFrom(U(Ae)).subscribe(je.createOperatorSubscriber(ee,(function(){Ee?subscribeForRepeatWhen():Fe=!0}),(function(){xe=!0,checkComplete()})))),Ae).next()}))),Fe&&(Ee.unsubscribe(),Ee=null,Fe=!1,subscribeForRepeatWhen())};subscribeForRepeatWhen()}))}},4740:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.retry=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(9391),je=ee(5461),Ae=ee(2296);J.retry=function retry(U){var J;void 0===U&&(U=1/0);var ee=(J=U&&"object"==typeof U?U:{count:U}).count,Fe=void 0===ee?1/0:ee,xe=J.delay,Te=J.resetOnSuccess,Ie=void 0!==Te&&Te;return Fe<=0?Ee.identity:Se.operate((function(U,J){var ee,Se=0,subscribeForRetry=function(){var Ee=!1;ee=U.subscribe(we.createOperatorSubscriber(J,(function(U){Ie&&(Se=0),J.next(U)}),void 0,(function(U){if(Se++<Fe){var resub_1=function(){ee?(ee.unsubscribe(),ee=null,subscribeForRetry()):Ee=!0};if(null!=xe){var Te="number"==typeof xe?je.timer(xe):Ae.innerFrom(xe(U,Se)),Ie=we.createOperatorSubscriber(J,(function(){Ie.unsubscribe(),resub_1()}),(function(){J.complete()}));Te.subscribe(Ie)}else resub_1()}else J.error(U)}))),Ee&&(ee.unsubscribe(),ee=null,subscribeForRetry())};subscribeForRetry()}))}},264:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.retryWhen=void 0;var Se=ee(2296),we=ee(20),Ee=ee(5416),je=ee(1266);J.retryWhen=function retryWhen(U){return Ee.operate((function(J,ee){var Ee,Ae,Fe=!1,subscribeForRetryWhen=function(){Ee=J.subscribe(je.createOperatorSubscriber(ee,void 0,void 0,(function(J){Ae||(Ae=new we.Subject,Se.innerFrom(U(Ae)).subscribe(je.createOperatorSubscriber(ee,(function(){return Ee?subscribeForRetryWhen():Fe=!0})))),Ae&&Ae.next(J)}))),Fe&&(Ee.unsubscribe(),Ee=null,Fe=!1,subscribeForRetryWhen())};subscribeForRetryWhen()}))}},6870:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.sample=void 0;var Se=ee(2296),we=ee(5416),Ee=ee(6129),je=ee(1266);J.sample=function sample(U){return we.operate((function(J,ee){var we=!1,Ae=null;J.subscribe(je.createOperatorSubscriber(ee,(function(U){we=!0,Ae=U}))),Se.innerFrom(U).subscribe(je.createOperatorSubscriber(ee,(function(){if(we){we=!1;var U=Ae;Ae=null,ee.next(U)}}),Ee.noop))}))}},5411:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.sampleTime=void 0;var Se=ee(4386),we=ee(6870),Ee=ee(8767);J.sampleTime=function sampleTime(U,J){return void 0===J&&(J=Se.asyncScheduler),we.sample(Ee.interval(U,J))}},2457:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scan=void 0;var Se=ee(5416),we=ee(7071);J.scan=function scan(U,J){return Se.operate(we.scanInternals(U,J,arguments.length>=2,!0))}},7071:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scanInternals=void 0;var Se=ee(1266);J.scanInternals=function scanInternals(U,J,ee,we,Ee){return function(je,Ae){var Fe=ee,xe=J,Te=0;je.subscribe(Se.createOperatorSubscriber(Ae,(function(J){var ee=Te++;xe=Fe?U(xe,J,ee):(Fe=!0,J),we&&Ae.next(xe)}),Ee&&function(){Fe&&Ae.next(xe),Ae.complete()}))}}},5109:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.sequenceEqual=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296);J.sequenceEqual=function sequenceEqual(U,J){return void 0===J&&(J=function(U,J){return U===J}),Se.operate((function(ee,Se){var je={buffer:[],complete:!1},Ae={buffer:[],complete:!1},emit=function(U){Se.next(U),Se.complete()},createSubscriber=function(U,ee){var Ee=we.createOperatorSubscriber(Se,(function(Se){var we=ee.buffer,Ee=ee.complete;0===we.length?Ee?emit(!1):U.buffer.push(Se):!J(Se,we.shift())&&emit(!1)}),(function(){U.complete=!0;var J=ee.complete,Se=ee.buffer;J&&emit(0===Se.length),null==Ee||Ee.unsubscribe()}));return Ee};ee.subscribe(createSubscriber(je,Ae)),Ee.innerFrom(U).subscribe(createSubscriber(Ae,je))}))}},3329:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.share=void 0;var Ee=ee(2296),je=ee(20),Ae=ee(4512),Fe=ee(5416);function handleReset(U,J){for(var ee=[],je=2;je<arguments.length;je++)ee[je-2]=arguments[je];if(!0!==J){if(!1!==J){var Fe=new Ae.SafeSubscriber({next:function(){Fe.unsubscribe(),U()}});return Ee.innerFrom(J.apply(void 0,we([],Se(ee)))).subscribe(Fe)}}else U()}J.share=function share(U){void 0===U&&(U={});var J=U.connector,ee=void 0===J?function(){return new je.Subject}:J,Se=U.resetOnError,we=void 0===Se||Se,xe=U.resetOnComplete,Te=void 0===xe||xe,Ie=U.resetOnRefCountZero,ke=void 0===Ie||Ie;return function(U){var J,Se,je,xe=0,Ie=!1,Ce=!1,cancelReset=function(){null==Se||Se.unsubscribe(),Se=void 0},reset=function(){cancelReset(),J=je=void 0,Ie=Ce=!1},resetAndUnsubscribe=function(){var U=J;reset(),null==U||U.unsubscribe()};return Fe.operate((function(U,Fe){xe++,Ce||Ie||cancelReset();var De=je=null!=je?je:ee();Fe.add((function(){0!==--xe||Ce||Ie||(Se=handleReset(resetAndUnsubscribe,ke))})),De.subscribe(Fe),!J&&xe>0&&(J=new Ae.SafeSubscriber({next:function(U){return De.next(U)},error:function(U){Ce=!0,cancelReset(),Se=handleReset(reset,we,U),De.error(U)},complete:function(){Ie=!0,cancelReset(),Se=handleReset(reset,Te),De.complete()}}),Ee.innerFrom(U).subscribe(J))}))(U)}}},1738:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.shareReplay=void 0;var Se=ee(5129),we=ee(3329);J.shareReplay=function shareReplay(U,J,ee){var Ee,je,Ae,Fe,xe=!1;return U&&"object"==typeof U?(Ee=U.bufferSize,Fe=void 0===Ee?1/0:Ee,je=U.windowTime,J=void 0===je?1/0:je,xe=void 0!==(Ae=U.refCount)&&Ae,ee=U.scheduler):Fe=null!=U?U:1/0,we.share({connector:function(){return new Se.ReplaySubject(Fe,J,ee)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xe})}},884:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.single=void 0;var Se=ee(7676),we=ee(8168),Ee=ee(2318),je=ee(5416),Ae=ee(1266);J.single=function single(U){return je.operate((function(J,ee){var je,Fe=!1,xe=!1,Te=0;J.subscribe(Ae.createOperatorSubscriber(ee,(function(Se){xe=!0,U&&!U(Se,Te++,J)||(Fe&&ee.error(new we.SequenceError("Too many matching values")),Fe=!0,je=Se)}),(function(){Fe?(ee.next(je),ee.complete()):ee.error(xe?new Ee.NotFoundError("No matching values"):new Se.EmptyError)})))}))}},4411:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.skip=void 0;var Se=ee(2914);J.skip=function skip(U){return Se.filter((function(J,ee){return U<=ee}))}},9355:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.skipLast=void 0;var Se=ee(9391),we=ee(5416),Ee=ee(1266);J.skipLast=function skipLast(U){return U<=0?Se.identity:we.operate((function(J,ee){var Se=new Array(U),we=0;return J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){var Ee=we++;if(Ee<U)Se[Ee]=J;else{var je=Ee%U,Ae=Se[je];Se[je]=J,ee.next(Ae)}}))),function(){Se=null}}))}},2947:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.skipUntil=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296),je=ee(6129);J.skipUntil=function skipUntil(U){return Se.operate((function(J,ee){var Se=!1,Ae=we.createOperatorSubscriber(ee,(function(){null==Ae||Ae.unsubscribe(),Se=!0}),je.noop);Ee.innerFrom(U).subscribe(Ae),J.subscribe(we.createOperatorSubscriber(ee,(function(U){return Se&&ee.next(U)})))}))}},9842:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.skipWhile=void 0;var Se=ee(5416),we=ee(1266);J.skipWhile=function skipWhile(U){return Se.operate((function(J,ee){var Se=!1,Ee=0;J.subscribe(we.createOperatorSubscriber(ee,(function(J){return(Se||(Se=!U(J,Ee++)))&&ee.next(J)})))}))}},2778:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.startWith=void 0;var Se=ee(2070),we=ee(1824),Ee=ee(5416);J.startWith=function startWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=we.popScheduler(U);return Ee.operate((function(J,we){(ee?Se.concat(U,J,ee):Se.concat(U,J)).subscribe(we)}))}},4027:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.subscribeOn=void 0;var Se=ee(5416);J.subscribeOn=function subscribeOn(U,J){return void 0===J&&(J=0),Se.operate((function(ee,Se){Se.add(U.schedule((function(){return ee.subscribe(Se)}),J))}))}},9061:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.switchAll=void 0;var Se=ee(6300),we=ee(9391);J.switchAll=function switchAll(){return Se.switchMap(we.identity)}},6300:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.switchMap=void 0;var Se=ee(2296),we=ee(5416),Ee=ee(1266);J.switchMap=function switchMap(U,J){return we.operate((function(ee,we){var je=null,Ae=0,Fe=!1,checkComplete=function(){return Fe&&!je&&we.complete()};ee.subscribe(Ee.createOperatorSubscriber(we,(function(ee){null==je||je.unsubscribe();var Fe=0,xe=Ae++;Se.innerFrom(U(ee,xe)).subscribe(je=Ee.createOperatorSubscriber(we,(function(U){return we.next(J?J(ee,U,xe,Fe++):U)}),(function(){je=null,checkComplete()})))}),(function(){Fe=!0,checkComplete()})))}))}},1933:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.switchMapTo=void 0;var Se=ee(6300),we=ee(4717);J.switchMapTo=function switchMapTo(U,J){return we.isFunction(J)?Se.switchMap((function(){return U}),J):Se.switchMap((function(){return U}))}},1689:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.switchScan=void 0;var Se=ee(6300),we=ee(5416);J.switchScan=function switchScan(U,J){return we.operate((function(ee,we){var Ee=J;return Se.switchMap((function(J,ee){return U(Ee,J,ee)}),(function(U,J){return Ee=J,J}))(ee).subscribe(we),function(){Ee=null}}))}},6803:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.take=void 0;var Se=ee(7209),we=ee(5416),Ee=ee(1266);J.take=function take(U){return U<=0?function(){return Se.EMPTY}:we.operate((function(J,ee){var Se=0;J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){++Se<=U&&(ee.next(J),U<=Se&&ee.complete())})))}))}},787:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.takeLast=void 0;var we=ee(7209),Ee=ee(5416),je=ee(1266);J.takeLast=function takeLast(U){return U<=0?function(){return we.EMPTY}:Ee.operate((function(J,ee){var we=[];J.subscribe(je.createOperatorSubscriber(ee,(function(J){we.push(J),U<we.length&&we.shift()}),(function(){var U,J;try{for(var Ee=Se(we),je=Ee.next();!je.done;je=Ee.next()){var Ae=je.value;ee.next(Ae)}}catch(J){U={error:J}}finally{try{je&&!je.done&&(J=Ee.return)&&J.call(Ee)}finally{if(U)throw U.error}}ee.complete()}),void 0,(function(){we=null})))}))}},4811:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.takeUntil=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296),je=ee(6129);J.takeUntil=function takeUntil(U){return Se.operate((function(J,ee){Ee.innerFrom(U).subscribe(we.createOperatorSubscriber(ee,(function(){return ee.complete()}),je.noop)),!ee.closed&&J.subscribe(ee)}))}},7770:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.takeWhile=void 0;var Se=ee(5416),we=ee(1266);J.takeWhile=function takeWhile(U,J){return void 0===J&&(J=!1),Se.operate((function(ee,Se){var Ee=0;ee.subscribe(we.createOperatorSubscriber(Se,(function(ee){var we=U(ee,Ee++);(we||J)&&Se.next(ee),!we&&Se.complete()})))}))}},9967:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.tap=void 0;var Se=ee(4717),we=ee(5416),Ee=ee(1266),je=ee(9391);J.tap=function tap(U,J,ee){var Ae=Se.isFunction(U)||J||ee?{next:U,error:J,complete:ee}:U;return Ae?we.operate((function(U,J){var ee;null===(ee=Ae.subscribe)||void 0===ee||ee.call(Ae);var Se=!0;U.subscribe(Ee.createOperatorSubscriber(J,(function(U){var ee;null===(ee=Ae.next)||void 0===ee||ee.call(Ae,U),J.next(U)}),(function(){var U;Se=!1,null===(U=Ae.complete)||void 0===U||U.call(Ae),J.complete()}),(function(U){var ee;Se=!1,null===(ee=Ae.error)||void 0===ee||ee.call(Ae,U),J.error(U)}),(function(){var U,J;Se&&(null===(U=Ae.unsubscribe)||void 0===U||U.call(Ae)),null===(J=Ae.finalize)||void 0===J||J.call(Ae)})))})):je.identity}},6516:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.throttle=void 0;var Se=ee(5416),we=ee(1266),Ee=ee(2296);J.throttle=function throttle(U,J){return Se.operate((function(ee,Se){var je=null!=J?J:{},Ae=je.leading,Fe=void 0===Ae||Ae,xe=je.trailing,Te=void 0!==xe&&xe,Ie=!1,ke=null,Ce=null,De=!1,endThrottling=function(){null==Ce||Ce.unsubscribe(),Ce=null,Te&&(send(),De&&Se.complete())},cleanupThrottling=function(){Ce=null,De&&Se.complete()},startThrottle=function(J){return Ce=Ee.innerFrom(U(J)).subscribe(we.createOperatorSubscriber(Se,endThrottling,cleanupThrottling))},send=function(){if(Ie){Ie=!1;var U=ke;ke=null,Se.next(U),!De&&startThrottle(U)}};ee.subscribe(we.createOperatorSubscriber(Se,(function(U){Ie=!0,ke=U,(!Ce||Ce.closed)&&(Fe?send():startThrottle(U))}),(function(){De=!0,(!(Te&&Ie&&Ce)||Ce.closed)&&Se.complete()})))}))}},5945:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.throttleTime=void 0;var Se=ee(4386),we=ee(6516),Ee=ee(5461);J.throttleTime=function throttleTime(U,J,ee){void 0===J&&(J=Se.asyncScheduler);var je=Ee.timer(U,J);return we.throttle((function(){return je}),ee)}},5956:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.throwIfEmpty=void 0;var Se=ee(7676),we=ee(5416),Ee=ee(1266);function defaultErrorFactory(){return new Se.EmptyError}J.throwIfEmpty=function throwIfEmpty(U){return void 0===U&&(U=defaultErrorFactory),we.operate((function(J,ee){var Se=!1;J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){Se=!0,ee.next(U)}),(function(){return Se?ee.complete():ee.error(U())})))}))}},9712:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.TimeInterval=J.timeInterval=void 0;var Se=ee(4386),we=ee(5416),Ee=ee(1266);J.timeInterval=function timeInterval(U){return void 0===U&&(U=Se.asyncScheduler),we.operate((function(J,ee){var Se=U.now();J.subscribe(Ee.createOperatorSubscriber(ee,(function(J){var we=U.now(),Ee=we-Se;Se=we,ee.next(new je(J,Ee))})))}))};var je=function je(U,J){this.value=U,this.interval=J};J.TimeInterval=je},7517:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.timeout=J.TimeoutError=void 0;var Se=ee(4386),we=ee(6349),Ee=ee(5416),je=ee(2296),Ae=ee(6871),Fe=ee(1266),xe=ee(5031);function timeoutErrorFactory(U){throw new J.TimeoutError(U)}J.TimeoutError=Ae.createErrorClass((function(U){return function TimeoutErrorImpl(J){void 0===J&&(J=null),U(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=J}})),J.timeout=function timeout(U,J){var ee=we.isValidDate(U)?{first:U}:"number"==typeof U?{each:U}:U,Ae=ee.first,Te=ee.each,Ie=ee.with,ke=void 0===Ie?timeoutErrorFactory:Ie,Ce=ee.scheduler,De=void 0===Ce?null!=J?J:Se.asyncScheduler:Ce,Re=ee.meta,Le=void 0===Re?null:Re;if(null==Ae&&null==Te)throw new TypeError("No timeout provided.");return Ee.operate((function(U,J){var ee,Se,we=null,Ee=0,startTimer=function(U){Se=xe.executeSchedule(J,De,(function(){try{ee.unsubscribe(),je.innerFrom(ke({meta:Le,lastValue:we,seen:Ee})).subscribe(J)}catch(U){J.error(U)}}),U)};ee=U.subscribe(Fe.createOperatorSubscriber(J,(function(U){null==Se||Se.unsubscribe(),Ee++,J.next(we=U),Te>0&&startTimer(Te)}),void 0,void 0,(function(){(null==Se?void 0:Se.closed)||null==Se||Se.unsubscribe(),we=null}))),!Ee&&startTimer(null!=Ae?"number"==typeof Ae?Ae:+Ae-De.now():Te)}))}},2001:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.timeoutWith=void 0;var Se=ee(4386),we=ee(6349),Ee=ee(7517);J.timeoutWith=function timeoutWith(U,J,ee){var je,Ae,Fe;if(ee=null!=ee?ee:Se.async,we.isValidDate(U)?je=U:"number"==typeof U&&(Ae=U),!J)throw new TypeError("No observable provided to switch to");if(Fe=function(){return J},null==je&&null==Ae)throw new TypeError("No timeout provided.");return Ee.timeout({first:je,each:Ae,scheduler:ee,with:Fe})}},8158:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.timestamp=void 0;var Se=ee(4575),we=ee(4828);J.timestamp=function timestamp(U){return void 0===U&&(U=Se.dateTimestampProvider),we.map((function(J){return{value:J,timestamp:U.now()}}))}},2984:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.toArray=void 0;var Se=ee(3818),we=ee(5416),arrReducer=function(U,J){return U.push(J),U};J.toArray=function toArray(){return we.operate((function(U,J){Se.reduce(arrReducer,[])(U).subscribe(J)}))}},5492:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.window=void 0;var Se=ee(20),we=ee(5416),Ee=ee(1266),je=ee(6129),Ae=ee(2296);J.window=function window(U){return we.operate((function(J,ee){var we=new Se.Subject;ee.next(we.asObservable());var errorHandler=function(U){we.error(U),ee.error(U)};return J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return null==we?void 0:we.next(U)}),(function(){we.complete(),ee.complete()}),errorHandler)),Ae.innerFrom(U).subscribe(Ee.createOperatorSubscriber(ee,(function(){we.complete(),ee.next(we=new Se.Subject)}),je.noop,errorHandler)),function(){null==we||we.unsubscribe(),we=null}}))}},6817:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.windowCount=void 0;var we=ee(20),Ee=ee(5416),je=ee(1266);J.windowCount=function windowCount(U,J){void 0===J&&(J=0);var ee=J>0?J:U;return Ee.operate((function(J,Ee){var Ae=[new we.Subject],Fe=0;Ee.next(Ae[0].asObservable()),J.subscribe(je.createOperatorSubscriber(Ee,(function(J){var je,xe;try{for(var Te=Se(Ae),Ie=Te.next();!Ie.done;Ie=Te.next()){Ie.value.next(J)}}catch(U){je={error:U}}finally{try{Ie&&!Ie.done&&(xe=Te.return)&&xe.call(Te)}finally{if(je)throw je.error}}var ke=Fe-U+1;if(ke>=0&&ke%ee==0&&Ae.shift().complete(),++Fe%ee==0){var Ce=new we.Subject;Ae.push(Ce),Ee.next(Ce.asObservable())}}),(function(){for(;Ae.length>0;)Ae.shift().complete();Ee.complete()}),(function(U){for(;Ae.length>0;)Ae.shift().error(U);Ee.error(U)}),(function(){Ae=null})))}))}},6841:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.windowTime=void 0;var Se=ee(20),we=ee(4386),Ee=ee(7491),je=ee(5416),Ae=ee(1266),Fe=ee(7394),xe=ee(1824),Te=ee(5031);J.windowTime=function windowTime(U){for(var J,ee,Ie=[],ke=1;ke<arguments.length;ke++)Ie[ke-1]=arguments[ke];var Ce=null!==(J=xe.popScheduler(Ie))&&void 0!==J?J:we.asyncScheduler,De=null!==(ee=Ie[0])&&void 0!==ee?ee:null,Re=Ie[1]||1/0;return je.operate((function(J,ee){var we=[],je=!1,closeWindow=function(U){var J=U.window,ee=U.subs;J.complete(),ee.unsubscribe(),Fe.arrRemove(we,U),je&&startWindow()},startWindow=function(){if(we){var J=new Ee.Subscription;ee.add(J);var je=new Se.Subject,Ae={window:je,subs:J,seen:0};we.push(Ae),ee.next(je.asObservable()),Te.executeSchedule(J,Ce,(function(){return closeWindow(Ae)}),U)}};null!==De&&De>=0?Te.executeSchedule(ee,Ce,startWindow,De,!0):je=!0,startWindow();var loop=function(U){return we.slice().forEach(U)},terminate=function(U){loop((function(J){var ee=J.window;return U(ee)})),U(ee),ee.unsubscribe()};return J.subscribe(Ae.createOperatorSubscriber(ee,(function(U){loop((function(J){J.window.next(U),Re<=++J.seen&&closeWindow(J)}))}),(function(){return terminate((function(U){return U.complete()}))}),(function(U){return terminate((function(J){return J.error(U)}))}))),function(){we=null}}))}},4880:function(U,J,ee){"use strict";var Se=this&&this.__values||function(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0}),J.windowToggle=void 0;var we=ee(20),Ee=ee(7491),je=ee(5416),Ae=ee(2296),Fe=ee(1266),xe=ee(6129),Te=ee(7394);J.windowToggle=function windowToggle(U,J){return je.operate((function(ee,je){var Ie=[],handleError=function(U){for(;0<Ie.length;)Ie.shift().error(U);je.error(U)};Ae.innerFrom(U).subscribe(Fe.createOperatorSubscriber(je,(function(U){var ee=new we.Subject;Ie.push(ee);var Se,ke=new Ee.Subscription;try{Se=Ae.innerFrom(J(U))}catch(U){return void handleError(U)}je.next(ee.asObservable()),ke.add(Se.subscribe(Fe.createOperatorSubscriber(je,(function(){Te.arrRemove(Ie,ee),ee.complete(),ke.unsubscribe()}),xe.noop,handleError)))}),xe.noop)),ee.subscribe(Fe.createOperatorSubscriber(je,(function(U){var J,ee,we=Ie.slice();try{for(var Ee=Se(we),je=Ee.next();!je.done;je=Ee.next()){je.value.next(U)}}catch(U){J={error:U}}finally{try{je&&!je.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(J)throw J.error}}}),(function(){for(;0<Ie.length;)Ie.shift().complete();je.complete()}),handleError,(function(){for(;0<Ie.length;)Ie.shift().unsubscribe()})))}))}},3016:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.windowWhen=void 0;var Se=ee(20),we=ee(5416),Ee=ee(1266),je=ee(2296);J.windowWhen=function windowWhen(U){return we.operate((function(J,ee){var we,Ae,handleError=function(U){we.error(U),ee.error(U)},openWindow=function(){var J;null==Ae||Ae.unsubscribe(),null==we||we.complete(),we=new Se.Subject,ee.next(we.asObservable());try{J=je.innerFrom(U())}catch(U){return void handleError(U)}J.subscribe(Ae=Ee.createOperatorSubscriber(ee,openWindow,openWindow,handleError))};openWindow(),J.subscribe(Ee.createOperatorSubscriber(ee,(function(U){return we.next(U)}),(function(){we.complete(),ee.complete()}),handleError,(function(){null==Ae||Ae.unsubscribe(),we=null})))}))}},9163:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.withLatestFrom=void 0;var Ee=ee(5416),je=ee(1266),Ae=ee(2296),Fe=ee(9391),xe=ee(6129),Te=ee(1824);J.withLatestFrom=function withLatestFrom(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var ee=Te.popResultSelector(U);return Ee.operate((function(J,Ee){for(var Te=U.length,Ie=new Array(Te),ke=U.map((function(){return!1})),Ce=!1,_loop_1=function(J){Ae.innerFrom(U[J]).subscribe(je.createOperatorSubscriber(Ee,(function(U){Ie[J]=U,Ce||ke[J]||(ke[J]=!0,(Ce=ke.every(Fe.identity))&&(ke=null))}),xe.noop))},De=0;De<Te;De++)_loop_1(De);J.subscribe(je.createOperatorSubscriber(Ee,(function(U){if(Ce){var J=we([U],Se(Ie));Ee.next(ee?ee.apply(void 0,we([],Se(J))):J)}})))}))}},2681:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.zip=void 0;var Ee=ee(1763),je=ee(5416);J.zip=function zip(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return je.operate((function(J,ee){Ee.zip.apply(void 0,we([J],Se(U))).subscribe(ee)}))}},5606:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.zipAll=void 0;var Se=ee(1763),we=ee(587);J.zipAll=function zipAll(U){return we.joinAllInternals(Se.zip,U)}},973:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.zipWith=void 0;var Ee=ee(2681);J.zipWith=function zipWith(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return Ee.zip.apply(void 0,we([],Se(U)))}},8762:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleArray=void 0;var Se=ee(2023);J.scheduleArray=function scheduleArray(U,J){return new Se.Observable((function(ee){var Se=0;return J.schedule((function(){Se===U.length?ee.complete():(ee.next(U[Se++]),ee.closed||this.schedule())}))}))}},3741:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleAsyncIterable=void 0;var Se=ee(2023),we=ee(5031);J.scheduleAsyncIterable=function scheduleAsyncIterable(U,J){if(!U)throw new Error("Iterable cannot be null");return new Se.Observable((function(ee){we.executeSchedule(ee,J,(function(){var Se=U[Symbol.asyncIterator]();we.executeSchedule(ee,J,(function(){Se.next().then((function(U){U.done?ee.complete():ee.next(U.value)}))}),0,!0)}))}))}},3585:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleIterable=void 0;var Se=ee(2023),we=ee(3967),Ee=ee(4717),je=ee(5031);J.scheduleIterable=function scheduleIterable(U,J){return new Se.Observable((function(ee){var Se;return je.executeSchedule(ee,J,(function(){Se=U[we.iterator](),je.executeSchedule(ee,J,(function(){var U,J,we;try{J=(U=Se.next()).value,we=U.done}catch(U){return void ee.error(U)}we?ee.complete():ee.next(J)}),0,!0)})),function(){return Ee.isFunction(null==Se?void 0:Se.return)&&Se.return()}}))}},4502:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleObservable=void 0;var Se=ee(2296),we=ee(2803),Ee=ee(4027);J.scheduleObservable=function scheduleObservable(U,J){return Se.innerFrom(U).pipe(Ee.subscribeOn(J),we.observeOn(J))}},2366:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.schedulePromise=void 0;var Se=ee(2296),we=ee(2803),Ee=ee(4027);J.schedulePromise=function schedulePromise(U,J){return Se.innerFrom(U).pipe(Ee.subscribeOn(J),we.observeOn(J))}},9136:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scheduleReadableStreamLike=void 0;var Se=ee(3741),we=ee(3026);J.scheduleReadableStreamLike=function scheduleReadableStreamLike(U,J){return Se.scheduleAsyncIterable(we.readableStreamLikeToAsyncGenerator(U),J)}},4463:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.scheduled=void 0;var Se=ee(4502),we=ee(2366),Ee=ee(8762),je=ee(3585),Ae=ee(3741),Fe=ee(1801),xe=ee(452),Te=ee(5547),Ie=ee(6847),ke=ee(9451),Ce=ee(3533),De=ee(3026),Re=ee(9136);J.scheduled=function scheduled(U,J){if(null!=U){if(Fe.isInteropObservable(U))return Se.scheduleObservable(U,J);if(Te.isArrayLike(U))return Ee.scheduleArray(U,J);if(xe.isPromise(U))return we.schedulePromise(U,J);if(ke.isAsyncIterable(U))return Ae.scheduleAsyncIterable(U,J);if(Ie.isIterable(U))return je.scheduleIterable(U,J);if(De.isReadableStreamLike(U))return Re.scheduleReadableStreamLike(U,J)}throw Ce.createInvalidObservableTypeError(U)}},7638:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.Action=void 0;var Ee=function(U){function Action(J,ee){return U.call(this)||this}return we(Action,U),Action.prototype.schedule=function(U,J){return void 0===J&&(J=0),this},Action}(ee(7491).Subscription);J.Action=Ee},9769:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AnimationFrameAction=void 0;var Ee=ee(1080),je=ee(2074),Ae=function(U){function AnimationFrameAction(J,ee){var Se=U.call(this,J,ee)||this;return Se.scheduler=J,Se.work=ee,Se}return we(AnimationFrameAction,U),AnimationFrameAction.prototype.requestAsyncId=function(J,ee,Se){return void 0===Se&&(Se=0),null!==Se&&Se>0?U.prototype.requestAsyncId.call(this,J,ee,Se):(J.actions.push(this),J._scheduled||(J._scheduled=je.animationFrameProvider.requestAnimationFrame((function(){return J.flush(void 0)}))))},AnimationFrameAction.prototype.recycleAsyncId=function(J,ee,Se){var we;if(void 0===Se&&(Se=0),null!=Se?Se>0:this.delay>0)return U.prototype.recycleAsyncId.call(this,J,ee,Se);var Ee=J.actions;null!=ee&&(null===(we=Ee[Ee.length-1])||void 0===we?void 0:we.id)!==ee&&(je.animationFrameProvider.cancelAnimationFrame(ee),J._scheduled=void 0)},AnimationFrameAction}(Ee.AsyncAction);J.AnimationFrameAction=Ae},8010:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AnimationFrameScheduler=void 0;var Ee=function(U){function AnimationFrameScheduler(){return null!==U&&U.apply(this,arguments)||this}return we(AnimationFrameScheduler,U),AnimationFrameScheduler.prototype.flush=function(U){this._active=!0;var J=this._scheduled;this._scheduled=void 0;var ee,Se=this.actions;U=U||Se.shift();do{if(ee=U.execute(U.state,U.delay))break}while((U=Se[0])&&U.id===J&&Se.shift());if(this._active=!1,ee){for(;(U=Se[0])&&U.id===J&&Se.shift();)U.unsubscribe();throw ee}},AnimationFrameScheduler}(ee(1017).AsyncScheduler);J.AnimationFrameScheduler=Ee},2039:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AsapAction=void 0;var Ee=ee(1080),je=ee(6854),Ae=function(U){function AsapAction(J,ee){var Se=U.call(this,J,ee)||this;return Se.scheduler=J,Se.work=ee,Se}return we(AsapAction,U),AsapAction.prototype.requestAsyncId=function(J,ee,Se){return void 0===Se&&(Se=0),null!==Se&&Se>0?U.prototype.requestAsyncId.call(this,J,ee,Se):(J.actions.push(this),J._scheduled||(J._scheduled=je.immediateProvider.setImmediate(J.flush.bind(J,void 0))))},AsapAction.prototype.recycleAsyncId=function(J,ee,Se){var we;if(void 0===Se&&(Se=0),null!=Se?Se>0:this.delay>0)return U.prototype.recycleAsyncId.call(this,J,ee,Se);var Ee=J.actions;null!=ee&&(null===(we=Ee[Ee.length-1])||void 0===we?void 0:we.id)!==ee&&(je.immediateProvider.clearImmediate(ee),J._scheduled===ee&&(J._scheduled=void 0))},AsapAction}(Ee.AsyncAction);J.AsapAction=Ae},1436:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AsapScheduler=void 0;var Ee=function(U){function AsapScheduler(){return null!==U&&U.apply(this,arguments)||this}return we(AsapScheduler,U),AsapScheduler.prototype.flush=function(U){this._active=!0;var J=this._scheduled;this._scheduled=void 0;var ee,Se=this.actions;U=U||Se.shift();do{if(ee=U.execute(U.state,U.delay))break}while((U=Se[0])&&U.id===J&&Se.shift());if(this._active=!1,ee){for(;(U=Se[0])&&U.id===J&&Se.shift();)U.unsubscribe();throw ee}},AsapScheduler}(ee(1017).AsyncScheduler);J.AsapScheduler=Ee},1080:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AsyncAction=void 0;var Ee=ee(7638),je=ee(2320),Ae=ee(7394),Fe=function(U){function AsyncAction(J,ee){var Se=U.call(this,J,ee)||this;return Se.scheduler=J,Se.work=ee,Se.pending=!1,Se}return we(AsyncAction,U),AsyncAction.prototype.schedule=function(U,J){var ee;if(void 0===J&&(J=0),this.closed)return this;this.state=U;var Se=this.id,we=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(we,Se,J)),this.pending=!0,this.delay=J,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(we,this.id,J),this},AsyncAction.prototype.requestAsyncId=function(U,J,ee){return void 0===ee&&(ee=0),je.intervalProvider.setInterval(U.flush.bind(U,this),ee)},AsyncAction.prototype.recycleAsyncId=function(U,J,ee){if(void 0===ee&&(ee=0),null!=ee&&this.delay===ee&&!1===this.pending)return J;null!=J&&je.intervalProvider.clearInterval(J)},AsyncAction.prototype.execute=function(U,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var ee=this._execute(U,J);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(U,J){var ee,Se=!1;try{this.work(U)}catch(U){Se=!0,ee=U||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ee},AsyncAction.prototype.unsubscribe=function(){if(!this.closed){var J=this.id,ee=this.scheduler,Se=ee.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ae.arrRemove(Se,this),null!=J&&(this.id=this.recycleAsyncId(ee,J,null)),this.delay=null,U.prototype.unsubscribe.call(this)}},AsyncAction}(Ee.Action);J.AsyncAction=Fe},1017:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.AsyncScheduler=void 0;var Ee=ee(469),je=function(U){function AsyncScheduler(J,ee){void 0===ee&&(ee=Ee.Scheduler.now);var Se=U.call(this,J,ee)||this;return Se.actions=[],Se._active=!1,Se}return we(AsyncScheduler,U),AsyncScheduler.prototype.flush=function(U){var J=this.actions;if(this._active)J.push(U);else{var ee;this._active=!0;do{if(ee=U.execute(U.state,U.delay))break}while(U=J.shift());if(this._active=!1,ee){for(;U=J.shift();)U.unsubscribe();throw ee}}},AsyncScheduler}(Ee.Scheduler);J.AsyncScheduler=je},9755:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.QueueAction=void 0;var Ee=function(U){function QueueAction(J,ee){var Se=U.call(this,J,ee)||this;return Se.scheduler=J,Se.work=ee,Se}return we(QueueAction,U),QueueAction.prototype.schedule=function(J,ee){return void 0===ee&&(ee=0),ee>0?U.prototype.schedule.call(this,J,ee):(this.delay=ee,this.state=J,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(J,ee){return ee>0||this.closed?U.prototype.execute.call(this,J,ee):this._execute(J,ee)},QueueAction.prototype.requestAsyncId=function(J,ee,Se){return void 0===Se&&(Se=0),null!=Se&&Se>0||null==Se&&this.delay>0?U.prototype.requestAsyncId.call(this,J,ee,Se):(J.flush(this),0)},QueueAction}(ee(1080).AsyncAction);J.QueueAction=Ee},3528:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.QueueScheduler=void 0;var Ee=function(U){function QueueScheduler(){return null!==U&&U.apply(this,arguments)||this}return we(QueueScheduler,U),QueueScheduler}(ee(1017).AsyncScheduler);J.QueueScheduler=Ee},1031:function(U,J,ee){"use strict";var Se,we=this&&this.__extends||(Se=function(U,J){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},Se(U,J)},function(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}Se(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)});Object.defineProperty(J,"__esModule",{value:!0}),J.VirtualAction=J.VirtualTimeScheduler=void 0;var Ee=ee(1080),je=ee(7491),Ae=function(U){function VirtualTimeScheduler(J,ee){void 0===J&&(J=Fe),void 0===ee&&(ee=1/0);var Se=U.call(this,J,(function(){return Se.frame}))||this;return Se.maxFrames=ee,Se.frame=0,Se.index=-1,Se}return we(VirtualTimeScheduler,U),VirtualTimeScheduler.prototype.flush=function(){for(var U,J,ee=this.actions,Se=this.maxFrames;(J=ee[0])&&J.delay<=Se&&(ee.shift(),this.frame=J.delay,!(U=J.execute(J.state,J.delay))););if(U){for(;J=ee.shift();)J.unsubscribe();throw U}},VirtualTimeScheduler.frameTimeFactor=10,VirtualTimeScheduler}(ee(1017).AsyncScheduler);J.VirtualTimeScheduler=Ae;var Fe=function(U){function VirtualAction(J,ee,Se){void 0===Se&&(Se=J.index+=1);var we=U.call(this,J,ee)||this;return we.scheduler=J,we.work=ee,we.index=Se,we.active=!0,we.index=J.index=Se,we}return we(VirtualAction,U),VirtualAction.prototype.schedule=function(J,ee){if(void 0===ee&&(ee=0),Number.isFinite(ee)){if(!this.id)return U.prototype.schedule.call(this,J,ee);this.active=!1;var Se=new VirtualAction(this.scheduler,this.work);return this.add(Se),Se.schedule(J,ee)}return je.Subscription.EMPTY},VirtualAction.prototype.requestAsyncId=function(U,J,ee){void 0===ee&&(ee=0),this.delay=U.frame+ee;var Se=U.actions;return Se.push(this),Se.sort(VirtualAction.sortActions),1},VirtualAction.prototype.recycleAsyncId=function(U,J,ee){void 0===ee&&(ee=0)},VirtualAction.prototype._execute=function(J,ee){if(!0===this.active)return U.prototype._execute.call(this,J,ee)},VirtualAction.sortActions=function(U,J){return U.delay===J.delay?U.index===J.index?0:U.index>J.index?1:-1:U.delay>J.delay?1:-1},VirtualAction}(Ee.AsyncAction);J.VirtualAction=Fe},747:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.animationFrame=J.animationFrameScheduler=void 0;var Se=ee(9769),we=ee(8010);J.animationFrameScheduler=new we.AnimationFrameScheduler(Se.AnimationFrameAction),J.animationFrame=J.animationFrameScheduler},2074:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.animationFrameProvider=void 0;var Ee=ee(7491);J.animationFrameProvider={schedule:function(U){var ee=requestAnimationFrame,Se=cancelAnimationFrame,we=J.animationFrameProvider.delegate;we&&(ee=we.requestAnimationFrame,Se=we.cancelAnimationFrame);var je=ee((function(J){Se=void 0,U(J)}));return new Ee.Subscription((function(){return null==Se?void 0:Se(je)}))},requestAnimationFrame:function(){for(var U=[],ee=0;ee<arguments.length;ee++)U[ee]=arguments[ee];var Ee=J.animationFrameProvider.delegate;return((null==Ee?void 0:Ee.requestAnimationFrame)||requestAnimationFrame).apply(void 0,we([],Se(U)))},cancelAnimationFrame:function(){for(var U=[],ee=0;ee<arguments.length;ee++)U[ee]=arguments[ee];var Ee=J.animationFrameProvider.delegate;return((null==Ee?void 0:Ee.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,we([],Se(U)))},delegate:void 0}},5717:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.asap=J.asapScheduler=void 0;var Se=ee(2039),we=ee(1436);J.asapScheduler=new we.AsapScheduler(Se.AsapAction),J.asap=J.asapScheduler},4386:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.async=J.asyncScheduler=void 0;var Se=ee(1080),we=ee(1017);J.asyncScheduler=new we.AsyncScheduler(Se.AsyncAction),J.async=J.asyncScheduler},4575:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.dateTimestampProvider=void 0,J.dateTimestampProvider={now:function(){return(J.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},6854:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.immediateProvider=void 0;var Ee=ee(4016),je=Ee.Immediate.setImmediate,Ae=Ee.Immediate.clearImmediate;J.immediateProvider={setImmediate:function(){for(var U=[],ee=0;ee<arguments.length;ee++)U[ee]=arguments[ee];var Ee=J.immediateProvider.delegate;return((null==Ee?void 0:Ee.setImmediate)||je).apply(void 0,we([],Se(U)))},clearImmediate:function(U){var ee=J.immediateProvider.delegate;return((null==ee?void 0:ee.clearImmediate)||Ae)(U)},delegate:void 0}},2320:function(U,J){"use strict";var ee=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},Se=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.intervalProvider=void 0,J.intervalProvider={setInterval:function(U,we){for(var Ee=[],je=2;je<arguments.length;je++)Ee[je-2]=arguments[je];var Ae=J.intervalProvider.delegate;return(null==Ae?void 0:Ae.setInterval)?Ae.setInterval.apply(Ae,Se([U,we],ee(Ee))):setInterval.apply(void 0,Se([U,we],ee(Ee)))},clearInterval:function(U){var ee=J.intervalProvider.delegate;return((null==ee?void 0:ee.clearInterval)||clearInterval)(U)},delegate:void 0}},8487:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.performanceTimestampProvider=void 0,J.performanceTimestampProvider={now:function(){return(J.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},3505:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.queue=J.queueScheduler=void 0;var Se=ee(9755),we=ee(3528);J.queueScheduler=new we.QueueScheduler(Se.QueueAction),J.queue=J.queueScheduler},6476:function(U,J){"use strict";var ee=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},Se=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.timeoutProvider=void 0,J.timeoutProvider={setTimeout:function(U,we){for(var Ee=[],je=2;je<arguments.length;je++)Ee[je-2]=arguments[je];var Ae=J.timeoutProvider.delegate;return(null==Ae?void 0:Ae.setTimeout)?Ae.setTimeout.apply(Ae,Se([U,we],ee(Ee))):setTimeout.apply(void 0,Se([U,we],ee(Ee)))},clearTimeout:function(U){var ee=J.timeoutProvider.delegate;return((null==ee?void 0:ee.clearTimeout)||clearTimeout)(U)},delegate:void 0}},3967:(U,J)=>{"use strict";function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(J,"__esModule",{value:!0}),J.iterator=J.getSymbolIterator=void 0,J.getSymbolIterator=getSymbolIterator,J.iterator=getSymbolIterator()},2131:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.observable=void 0,J.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2349:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0})},9148:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ArgumentOutOfRangeError=void 0;var Se=ee(6871);J.ArgumentOutOfRangeError=Se.createErrorClass((function(U){return function ArgumentOutOfRangeErrorImpl(){U(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},7676:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.EmptyError=void 0;var Se=ee(6871);J.EmptyError=Se.createErrorClass((function(U){return function EmptyErrorImpl(){U(this),this.name="EmptyError",this.message="no elements in sequence"}}))},4016:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.TestTools=J.Immediate=void 0;var ee,Se=1,we={};function findAndClearHandle(U){return U in we&&(delete we[U],!0)}J.Immediate={setImmediate:function(U){var J=Se++;return we[J]=!0,ee||(ee=Promise.resolve()),ee.then((function(){return findAndClearHandle(J)&&U()})),J},clearImmediate:function(U){findAndClearHandle(U)}},J.TestTools={pending:function(){return Object.keys(we).length}}},2318:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.NotFoundError=void 0;var Se=ee(6871);J.NotFoundError=Se.createErrorClass((function(U){return function NotFoundErrorImpl(J){U(this),this.name="NotFoundError",this.message=J}}))},8083:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ObjectUnsubscribedError=void 0;var Se=ee(6871);J.ObjectUnsubscribedError=Se.createErrorClass((function(U){return function ObjectUnsubscribedErrorImpl(){U(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},8168:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.SequenceError=void 0;var Se=ee(6871);J.SequenceError=Se.createErrorClass((function(U){return function SequenceErrorImpl(J){U(this),this.name="SequenceError",this.message=J}}))},665:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.UnsubscriptionError=void 0;var Se=ee(6871);J.UnsubscriptionError=Se.createErrorClass((function(U){return function UnsubscriptionErrorImpl(J){U(this),this.message=J?J.length+" errors occurred during unsubscription:\n"+J.map((function(U,J){return J+1+") "+U.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=J}}))},1824:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.popNumber=J.popScheduler=J.popResultSelector=void 0;var Se=ee(4717),we=ee(4568);function last(U){return U[U.length-1]}J.popResultSelector=function popResultSelector(U){return Se.isFunction(last(U))?U.pop():void 0},J.popScheduler=function popScheduler(U){return we.isScheduler(last(U))?U.pop():void 0},J.popNumber=function popNumber(U,J){return"number"==typeof last(U)?U.pop():J}},3787:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.argsArgArrayOrObject=void 0;var ee=Array.isArray,Se=Object.getPrototypeOf,we=Object.prototype,Ee=Object.keys;J.argsArgArrayOrObject=function argsArgArrayOrObject(U){if(1===U.length){var J=U[0];if(ee(J))return{args:J,keys:null};if(function isPOJO(U){return U&&"object"==typeof U&&Se(U)===we}(J)){var je=Ee(J);return{args:je.map((function(U){return J[U]})),keys:je}}}return{args:U,keys:null}}},160:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.argsOrArgArray=void 0;var ee=Array.isArray;J.argsOrArgArray=function argsOrArgArray(U){return 1===U.length&&ee(U[0])?U[0]:U}},7394:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.arrRemove=void 0,J.arrRemove=function arrRemove(U,J){if(U){var ee=U.indexOf(J);0<=ee&&U.splice(ee,1)}}},6871:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createErrorClass=void 0,J.createErrorClass=function createErrorClass(U){var J=U((function(U){Error.call(U),U.stack=(new Error).stack}));return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}},4950:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createObject=void 0,J.createObject=function createObject(U,J){return U.reduce((function(U,ee,Se){return U[ee]=J[Se],U}),{})}},9916:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.captureError=J.errorContext=void 0;var Se=ee(7820),we=null;J.errorContext=function errorContext(U){if(Se.config.useDeprecatedSynchronousErrorHandling){var J=!we;if(J&&(we={errorThrown:!1,error:null}),U(),J){var ee=we,Ee=ee.errorThrown,je=ee.error;if(we=null,Ee)throw je}}else U()},J.captureError=function captureError(U){Se.config.useDeprecatedSynchronousErrorHandling&&we&&(we.errorThrown=!0,we.error=U)}},5031:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.executeSchedule=void 0,J.executeSchedule=function executeSchedule(U,J,ee,Se,we){void 0===Se&&(Se=0),void 0===we&&(we=!1);var Ee=J.schedule((function(){ee(),we?U.add(this.schedule(null,Se)):this.unsubscribe()}),Se);if(U.add(Ee),!we)return Ee}},9391:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.identity=void 0,J.identity=function identity(U){return U}},5547:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isArrayLike=void 0,J.isArrayLike=function(U){return U&&"number"==typeof U.length&&"function"!=typeof U}},9451:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isAsyncIterable=void 0;var Se=ee(4717);J.isAsyncIterable=function isAsyncIterable(U){return Symbol.asyncIterator&&Se.isFunction(null==U?void 0:U[Symbol.asyncIterator])}},6349:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isValidDate=void 0,J.isValidDate=function isValidDate(U){return U instanceof Date&&!isNaN(U)}},4717:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isFunction=void 0,J.isFunction=function isFunction(U){return"function"==typeof U}},1801:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isInteropObservable=void 0;var Se=ee(2131),we=ee(4717);J.isInteropObservable=function isInteropObservable(U){return we.isFunction(U[Se.observable])}},6847:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isIterable=void 0;var Se=ee(3967),we=ee(4717);J.isIterable=function isIterable(U){return we.isFunction(null==U?void 0:U[Se.iterator])}},5644:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isObservable=void 0;var Se=ee(2023),we=ee(4717);J.isObservable=function isObservable(U){return!!U&&(U instanceof Se.Observable||we.isFunction(U.lift)&&we.isFunction(U.subscribe))}},452:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isPromise=void 0;var Se=ee(4717);J.isPromise=function isPromise(U){return Se.isFunction(null==U?void 0:U.then)}},3026:function(U,J,ee){"use strict";var Se=this&&this.__generator||function(U,J){var ee,Se,we,Ee,je={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return Ee={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function verb(Ee){return function(Ae){return function step(Ee){if(ee)throw new TypeError("Generator is already executing.");for(;je;)try{if(ee=1,Se&&(we=2&Ee[0]?Se.return:Ee[0]?Se.throw||((we=Se.return)&&we.call(Se),0):Se.next)&&!(we=we.call(Se,Ee[1])).done)return we;switch(Se=0,we&&(Ee=[2&Ee[0],we.value]),Ee[0]){case 0:case 1:we=Ee;break;case 4:return je.label++,{value:Ee[1],done:!1};case 5:je.label++,Se=Ee[1],Ee=[0];continue;case 7:Ee=je.ops.pop(),je.trys.pop();continue;default:if(!(we=je.trys,(we=we.length>0&&we[we.length-1])||6!==Ee[0]&&2!==Ee[0])){je=0;continue}if(3===Ee[0]&&(!we||Ee[1]>we[0]&&Ee[1]<we[3])){je.label=Ee[1];break}if(6===Ee[0]&&je.label<we[1]){je.label=we[1],we=Ee;break}if(we&&je.label<we[2]){je.label=we[2],je.ops.push(Ee);break}we[2]&&je.ops.pop(),je.trys.pop();continue}Ee=J.call(U,je)}catch(U){Ee=[6,U],Se=0}finally{ee=we=0}if(5&Ee[0])throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}([Ee,Ae])}}},we=this&&this.__await||function(U){return this instanceof we?(this.v=U,this):new we(U)},Ee=this&&this.__asyncGenerator||function(U,J,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Ee=ee.apply(U,J||[]),je=[];return Se={},verb("next"),verb("throw"),verb("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function verb(U){Ee[U]&&(Se[U]=function(J){return new Promise((function(ee,Se){je.push([U,J,ee,Se])>1||resume(U,J)}))})}function resume(U,J){try{!function step(U){U.value instanceof we?Promise.resolve(U.value.v).then(fulfill,reject):settle(je[0][2],U)}(Ee[U](J))}catch(U){settle(je[0][3],U)}}function fulfill(U){resume("next",U)}function reject(U){resume("throw",U)}function settle(U,J){U(J),je.shift(),je.length&&resume(je[0][0],je[0][1])}};Object.defineProperty(J,"__esModule",{value:!0}),J.isReadableStreamLike=J.readableStreamLikeToAsyncGenerator=void 0;var je=ee(4717);J.readableStreamLikeToAsyncGenerator=function readableStreamLikeToAsyncGenerator(U){return Ee(this,arguments,(function readableStreamLikeToAsyncGenerator_1(){var J,ee,Ee;return Se(this,(function(Se){switch(Se.label){case 0:J=U.getReader(),Se.label=1;case 1:Se.trys.push([1,,9,10]),Se.label=2;case 2:return[4,we(J.read())];case 3:return ee=Se.sent(),Ee=ee.value,ee.done?[4,we(void 0)]:[3,5];case 4:return[2,Se.sent()];case 5:return[4,we(Ee)];case 6:return[4,Se.sent()];case 7:return Se.sent(),[3,2];case 8:return[3,10];case 9:return J.releaseLock(),[7];case 10:return[2]}}))}))},J.isReadableStreamLike=function isReadableStreamLike(U){return je.isFunction(null==U?void 0:U.getReader)}},4568:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.isScheduler=void 0;var Se=ee(4717);J.isScheduler=function isScheduler(U){return U&&Se.isFunction(U.schedule)}},5416:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.operate=J.hasLift=void 0;var Se=ee(4717);function hasLift(U){return Se.isFunction(null==U?void 0:U.lift)}J.hasLift=hasLift,J.operate=function operate(U){return function(J){if(hasLift(J))return J.lift((function(J){try{return U(J,this)}catch(U){this.error(U)}}));throw new TypeError("Unable to lift unknown Observable type")}}},8240:function(U,J,ee){"use strict";var Se=this&&this.__read||function(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je},we=this&&this.__spreadArray||function(U,J){for(var ee=0,Se=J.length,we=U.length;ee<Se;ee++,we++)U[we]=J[ee];return U};Object.defineProperty(J,"__esModule",{value:!0}),J.mapOneOrManyArgs=void 0;var Ee=ee(4828),je=Array.isArray;J.mapOneOrManyArgs=function mapOneOrManyArgs(U){return Ee.map((function(J){return function callOrApply(U,J){return je(J)?U.apply(void 0,we([],Se(J))):U(J)}(U,J)}))}},6129:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.noop=void 0,J.noop=function noop(){}},1276:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.not=void 0,J.not=function not(U,J){return function(ee,Se){return!U.call(J,ee,Se)}}},2393:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.pipeFromArray=J.pipe=void 0;var Se=ee(9391);function pipeFromArray(U){return 0===U.length?Se.identity:1===U.length?U[0]:function piped(J){return U.reduce((function(U,J){return J(U)}),J)}}J.pipe=function pipe(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];return pipeFromArray(U)},J.pipeFromArray=pipeFromArray},4696:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.reportUnhandledError=void 0;var Se=ee(7820),we=ee(6476);J.reportUnhandledError=function reportUnhandledError(U){we.timeoutProvider.setTimeout((function(){var J=Se.config.onUnhandledError;if(!J)throw U;J(U)}))}},3533:(U,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createInvalidObservableTypeError=void 0,J.createInvalidObservableTypeError=function createInvalidObservableTypeError(U){return new TypeError("You provided "+(null!==U&&"object"==typeof U?"an invalid object":"'"+U+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},6568:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const Se=ee(4629),we=ee(9276);Se.__exportStar(ee(4960),J);class ExportedSquidProject extends we.SquidProject{}J.default=new ExportedSquidProject},1410:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ExampleService=void 0;const Se=ee(4629),we=ee(9276);class ExampleService extends we.SquidService{allowAccessToBuiltInDb(){return!0}async askQuestion(U){var J,ee;const Se=await this.squid.ai().executeAiQuery("built_in_db",U);return console.log(`\n      Question: ${U}\n      Query: ${null!==(J=Se.executedQuery)&&void 0!==J?J:"No query executed"}\n      Explanation: ${null!==(ee=Se.explanation)&&void 0!==ee?ee:"No Explanation"}`),Se.answer}}J.ExampleService=ExampleService,Se.__decorate([(0,we.secureDatabase)("all","built_in_db"),Se.__metadata("design:type",Function),Se.__metadata("design:paramtypes",[]),Se.__metadata("design:returntype",Boolean)],ExampleService.prototype,"allowAccessToBuiltInDb",null),Se.__decorate([(0,we.executable)(),Se.__metadata("design:type",Function),Se.__metadata("design:paramtypes",[String]),Se.__metadata("design:returntype",Promise)],ExampleService.prototype,"askQuestion",null)},4960:(U,J,ee)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});ee(4629).__exportStar(ee(1410),J)},5472:U=>{"use strict";U.exports=function isValidUTF8(U){const J=U.length;let ee=0;for(;ee<J;)if(128&U[ee])if(192==(224&U[ee])){if(ee+1===J||128!=(192&U[ee+1])||192==(254&U[ee]))return!1;ee+=2}else if(224==(240&U[ee])){if(ee+2>=J||128!=(192&U[ee+1])||128!=(192&U[ee+2])||224===U[ee]&&128==(224&U[ee+1])||237===U[ee]&&160==(224&U[ee+1]))return!1;ee+=3}else{if(240!=(248&U[ee]))return!1;if(ee+3>=J||128!=(192&U[ee+1])||128!=(192&U[ee+2])||128!=(192&U[ee+3])||240===U[ee]&&128==(240&U[ee+1])||244===U[ee]&&U[ee+1]>143||U[ee]>244)return!1;ee+=4}else ee++;return!0}},6664:(U,J,ee)=>{"use strict";try{U.exports=ee(853)(__dirname)}catch(J){U.exports=ee(5472)}},5431:(U,J,ee)=>{"use strict";const Se=ee(9048);Se.createWebSocketStream=ee(3491),Se.Server=ee(7542),Se.Receiver=ee(898),Se.Sender=ee(9638),Se.WebSocket=Se,Se.WebSocketServer=Se.Server,U.exports=Se},3718:(U,J,ee)=>{"use strict";const{EMPTY_BUFFER:Se}=ee(8906),we=Buffer[Symbol.species];function _mask(U,J,ee,Se,we){for(let Ee=0;Ee<we;Ee++)ee[Se+Ee]=U[Ee]^J[3&Ee]}function _unmask(U,J){for(let ee=0;ee<U.length;ee++)U[ee]^=J[3&ee]}if(U.exports={concat:function concat(U,J){if(0===U.length)return Se;if(1===U.length)return U[0];const ee=Buffer.allocUnsafe(J);let Ee=0;for(let J=0;J<U.length;J++){const Se=U[J];ee.set(Se,Ee),Ee+=Se.length}return Ee<J?new we(ee.buffer,ee.byteOffset,Ee):ee},mask:_mask,toArrayBuffer:function toArrayBuffer(U){return U.length===U.buffer.byteLength?U.buffer:U.buffer.slice(U.byteOffset,U.byteOffset+U.length)},toBuffer:function toBuffer(U){if(toBuffer.readOnly=!0,Buffer.isBuffer(U))return U;let J;return U instanceof ArrayBuffer?J=new we(U):ArrayBuffer.isView(U)?J=new we(U.buffer,U.byteOffset,U.byteLength):(J=Buffer.from(U),toBuffer.readOnly=!1),J},unmask:_unmask},!process.env.WS_NO_BUFFER_UTIL)try{const J=ee(3175);U.exports.mask=function(U,ee,Se,we,Ee){Ee<48?_mask(U,ee,Se,we,Ee):J.mask(U,ee,Se,we,Ee)},U.exports.unmask=function(U,ee){U.length<32?_unmask(U,ee):J.unmask(U,ee)}}catch(U){}},8906:U=>{"use strict";const J=["nodebuffer","arraybuffer","fragments"],ee="undefined"!=typeof Blob;ee&&J.push("blob"),U.exports={BINARY_TYPES:J,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:ee,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},7145:(U,J,ee)=>{"use strict";const{kForOnEventAttribute:Se,kListener:we}=ee(8906),Ee=Symbol("kCode"),je=Symbol("kData"),Ae=Symbol("kError"),Fe=Symbol("kMessage"),xe=Symbol("kReason"),Te=Symbol("kTarget"),Ie=Symbol("kType"),ke=Symbol("kWasClean");class Event{constructor(U){this[Te]=null,this[Ie]=U}get target(){return this[Te]}get type(){return this[Ie]}}Object.defineProperty(Event.prototype,"target",{enumerable:!0}),Object.defineProperty(Event.prototype,"type",{enumerable:!0});class CloseEvent extends Event{constructor(U,J={}){super(U),this[Ee]=void 0===J.code?0:J.code,this[xe]=void 0===J.reason?"":J.reason,this[ke]=void 0!==J.wasClean&&J.wasClean}get code(){return this[Ee]}get reason(){return this[xe]}get wasClean(){return this[ke]}}Object.defineProperty(CloseEvent.prototype,"code",{enumerable:!0}),Object.defineProperty(CloseEvent.prototype,"reason",{enumerable:!0}),Object.defineProperty(CloseEvent.prototype,"wasClean",{enumerable:!0});class ErrorEvent extends Event{constructor(U,J={}){super(U),this[Ae]=void 0===J.error?null:J.error,this[Fe]=void 0===J.message?"":J.message}get error(){return this[Ae]}get message(){return this[Fe]}}Object.defineProperty(ErrorEvent.prototype,"error",{enumerable:!0}),Object.defineProperty(ErrorEvent.prototype,"message",{enumerable:!0});class MessageEvent extends Event{constructor(U,J={}){super(U),this[je]=void 0===J.data?null:J.data}get data(){return this[je]}}Object.defineProperty(MessageEvent.prototype,"data",{enumerable:!0});const Ce={addEventListener(U,J,ee={}){for(const Ee of this.listeners(U))if(!ee[Se]&&Ee[we]===J&&!Ee[Se])return;let Ee;if("message"===U)Ee=function onMessage(U,ee){const Se=new MessageEvent("message",{data:ee?U:U.toString()});Se[Te]=this,callListener(J,this,Se)};else if("close"===U)Ee=function onClose(U,ee){const Se=new CloseEvent("close",{code:U,reason:ee.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});Se[Te]=this,callListener(J,this,Se)};else if("error"===U)Ee=function onError(U){const ee=new ErrorEvent("error",{error:U,message:U.message});ee[Te]=this,callListener(J,this,ee)};else{if("open"!==U)return;Ee=function onOpen(){const U=new Event("open");U[Te]=this,callListener(J,this,U)}}Ee[Se]=!!ee[Se],Ee[we]=J,ee.once?this.once(U,Ee):this.on(U,Ee)},removeEventListener(U,J){for(const ee of this.listeners(U))if(ee[we]===J&&!ee[Se]){this.removeListener(U,ee);break}}};function callListener(U,J,ee){"object"==typeof U&&U.handleEvent?U.handleEvent.call(U,ee):U.call(J,ee)}U.exports={CloseEvent,ErrorEvent,Event,EventTarget:Ce,MessageEvent}},9730:(U,J,ee)=>{"use strict";const{tokenChars:Se}=ee(5132);function push(U,J,ee){void 0===U[J]?U[J]=[ee]:U[J].push(ee)}U.exports={format:function format(U){return Object.keys(U).map((J=>{let ee=U[J];return Array.isArray(ee)||(ee=[ee]),ee.map((U=>[J].concat(Object.keys(U).map((J=>{let ee=U[J];return Array.isArray(ee)||(ee=[ee]),ee.map((U=>!0===U?J:`${J}=${U}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function parse(U){const J=Object.create(null);let ee,we,Ee=Object.create(null),je=!1,Ae=!1,Fe=!1,xe=-1,Te=-1,Ie=-1,ke=0;for(;ke<U.length;ke++)if(Te=U.charCodeAt(ke),void 0===ee)if(-1===Ie&&1===Se[Te])-1===xe&&(xe=ke);else if(0===ke||32!==Te&&9!==Te){if(59!==Te&&44!==Te)throw new SyntaxError(`Unexpected character at index ${ke}`);{if(-1===xe)throw new SyntaxError(`Unexpected character at index ${ke}`);-1===Ie&&(Ie=ke);const Se=U.slice(xe,Ie);44===Te?(push(J,Se,Ee),Ee=Object.create(null)):ee=Se,xe=Ie=-1}}else-1===Ie&&-1!==xe&&(Ie=ke);else if(void 0===we)if(-1===Ie&&1===Se[Te])-1===xe&&(xe=ke);else if(32===Te||9===Te)-1===Ie&&-1!==xe&&(Ie=ke);else if(59===Te||44===Te){if(-1===xe)throw new SyntaxError(`Unexpected character at index ${ke}`);-1===Ie&&(Ie=ke),push(Ee,U.slice(xe,Ie),!0),44===Te&&(push(J,ee,Ee),Ee=Object.create(null),ee=void 0),xe=Ie=-1}else{if(61!==Te||-1===xe||-1!==Ie)throw new SyntaxError(`Unexpected character at index ${ke}`);we=U.slice(xe,ke),xe=Ie=-1}else if(Ae){if(1!==Se[Te])throw new SyntaxError(`Unexpected character at index ${ke}`);-1===xe?xe=ke:je||(je=!0),Ae=!1}else if(Fe)if(1===Se[Te])-1===xe&&(xe=ke);else if(34===Te&&-1!==xe)Fe=!1,Ie=ke;else{if(92!==Te)throw new SyntaxError(`Unexpected character at index ${ke}`);Ae=!0}else if(34===Te&&61===U.charCodeAt(ke-1))Fe=!0;else if(-1===Ie&&1===Se[Te])-1===xe&&(xe=ke);else if(-1===xe||32!==Te&&9!==Te){if(59!==Te&&44!==Te)throw new SyntaxError(`Unexpected character at index ${ke}`);{if(-1===xe)throw new SyntaxError(`Unexpected character at index ${ke}`);-1===Ie&&(Ie=ke);let Se=U.slice(xe,Ie);je&&(Se=Se.replace(/\\/g,""),je=!1),push(Ee,we,Se),44===Te&&(push(J,ee,Ee),Ee=Object.create(null),ee=void 0),we=void 0,xe=Ie=-1}}else-1===Ie&&(Ie=ke);if(-1===xe||Fe||32===Te||9===Te)throw new SyntaxError("Unexpected end of input");-1===Ie&&(Ie=ke);const Ce=U.slice(xe,Ie);return void 0===ee?push(J,Ce,Ee):(void 0===we?push(Ee,Ce,!0):push(Ee,we,je?Ce.replace(/\\/g,""):Ce),push(J,ee,Ee)),J}}},1779:U=>{"use strict";const J=Symbol("kDone"),ee=Symbol("kRun");U.exports=class Limiter{constructor(U){this[J]=()=>{this.pending--,this[ee]()},this.concurrency=U||1/0,this.jobs=[],this.pending=0}add(U){this.jobs.push(U),this[ee]()}[ee](){if(this.pending!==this.concurrency&&this.jobs.length){const U=this.jobs.shift();this.pending++,U(this[J])}}}},2287:(U,J,ee)=>{"use strict";const Se=ee(3106),we=ee(3718),Ee=ee(1779),{kStatusCode:je}=ee(8906),Ae=Buffer[Symbol.species],Fe=Buffer.from([0,0,255,255]),xe=Symbol("permessage-deflate"),Te=Symbol("total-length"),Ie=Symbol("callback"),ke=Symbol("buffers"),Ce=Symbol("error");let De;function deflateOnData(U){this[ke].push(U),this[Te]+=U.length}function inflateOnData(U){this[Te]+=U.length,this[xe]._maxPayload<1||this[Te]<=this[xe]._maxPayload?this[ke].push(U):(this[Ce]=new RangeError("Max payload size exceeded"),this[Ce].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Ce][je]=1009,this.removeListener("data",inflateOnData),this.reset())}function inflateOnError(U){this[xe]._inflate=null,U[je]=1007,this[Ie](U)}U.exports=class PerMessageDeflate{constructor(U,J,ee){if(this._maxPayload=0|ee,this._options=U||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!J,this._deflate=null,this._inflate=null,this.params=null,!De){const U=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;De=new Ee(U)}}static get extensionName(){return"permessage-deflate"}offer(){const U={};return this._options.serverNoContextTakeover&&(U.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(U.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(U.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?U.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(U.client_max_window_bits=!0),U}accept(U){return U=this.normalizeParams(U),this.params=this._isServer?this.acceptAsServer(U):this.acceptAsClient(U),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const U=this._deflate[Ie];this._deflate.close(),this._deflate=null,U&&U(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(U){const J=this._options,ee=U.find((U=>!(!1===J.serverNoContextTakeover&&U.server_no_context_takeover||U.server_max_window_bits&&(!1===J.serverMaxWindowBits||"number"==typeof J.serverMaxWindowBits&&J.serverMaxWindowBits>U.server_max_window_bits)||"number"==typeof J.clientMaxWindowBits&&!U.client_max_window_bits)));if(!ee)throw new Error("None of the extension offers can be accepted");return J.serverNoContextTakeover&&(ee.server_no_context_takeover=!0),J.clientNoContextTakeover&&(ee.client_no_context_takeover=!0),"number"==typeof J.serverMaxWindowBits&&(ee.server_max_window_bits=J.serverMaxWindowBits),"number"==typeof J.clientMaxWindowBits?ee.client_max_window_bits=J.clientMaxWindowBits:!0!==ee.client_max_window_bits&&!1!==J.clientMaxWindowBits||delete ee.client_max_window_bits,ee}acceptAsClient(U){const J=U[0];if(!1===this._options.clientNoContextTakeover&&J.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(J.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&J.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(J.client_max_window_bits=this._options.clientMaxWindowBits);return J}normalizeParams(U){return U.forEach((U=>{Object.keys(U).forEach((J=>{let ee=U[J];if(ee.length>1)throw new Error(`Parameter "${J}" must have only a single value`);if(ee=ee[0],"client_max_window_bits"===J){if(!0!==ee){const U=+ee;if(!Number.isInteger(U)||U<8||U>15)throw new TypeError(`Invalid value for parameter "${J}": ${ee}`);ee=U}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${J}": ${ee}`)}else if("server_max_window_bits"===J){const U=+ee;if(!Number.isInteger(U)||U<8||U>15)throw new TypeError(`Invalid value for parameter "${J}": ${ee}`);ee=U}else{if("client_no_context_takeover"!==J&&"server_no_context_takeover"!==J)throw new Error(`Unknown parameter "${J}"`);if(!0!==ee)throw new TypeError(`Invalid value for parameter "${J}": ${ee}`)}U[J]=ee}))})),U}decompress(U,J,ee){De.add((Se=>{this._decompress(U,J,((U,J)=>{Se(),ee(U,J)}))}))}compress(U,J,ee){De.add((Se=>{this._compress(U,J,((U,J)=>{Se(),ee(U,J)}))}))}_decompress(U,J,ee){const Ee=this._isServer?"client":"server";if(!this._inflate){const U=`${Ee}_max_window_bits`,J="number"!=typeof this.params[U]?Se.Z_DEFAULT_WINDOWBITS:this.params[U];this._inflate=Se.createInflateRaw({...this._options.zlibInflateOptions,windowBits:J}),this._inflate[xe]=this,this._inflate[Te]=0,this._inflate[ke]=[],this._inflate.on("error",inflateOnError),this._inflate.on("data",inflateOnData)}this._inflate[Ie]=ee,this._inflate.write(U),J&&this._inflate.write(Fe),this._inflate.flush((()=>{const U=this._inflate[Ce];if(U)return this._inflate.close(),this._inflate=null,void ee(U);const Se=we.concat(this._inflate[ke],this._inflate[Te]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Te]=0,this._inflate[ke]=[],J&&this.params[`${Ee}_no_context_takeover`]&&this._inflate.reset()),ee(null,Se)}))}_compress(U,J,ee){const Ee=this._isServer?"server":"client";if(!this._deflate){const U=`${Ee}_max_window_bits`,J="number"!=typeof this.params[U]?Se.Z_DEFAULT_WINDOWBITS:this.params[U];this._deflate=Se.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:J}),this._deflate[Te]=0,this._deflate[ke]=[],this._deflate.on("data",deflateOnData)}this._deflate[Ie]=ee,this._deflate.write(U),this._deflate.flush(Se.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let U=we.concat(this._deflate[ke],this._deflate[Te]);J&&(U=new Ae(U.buffer,U.byteOffset,U.length-4)),this._deflate[Ie]=null,this._deflate[Te]=0,this._deflate[ke]=[],J&&this.params[`${Ee}_no_context_takeover`]&&this._deflate.reset(),ee(null,U)}))}}},898:(U,J,ee)=>{"use strict";const{Writable:Se}=ee(2203),we=ee(2287),{BINARY_TYPES:Ee,EMPTY_BUFFER:je,kStatusCode:Ae,kWebSocket:Fe}=ee(8906),{concat:xe,toArrayBuffer:Te,unmask:Ie}=ee(3718),{isValidStatusCode:ke,isValidUTF8:Ce}=ee(5132),De=Buffer[Symbol.species];U.exports=class Receiver extends Se{constructor(U={}){super(),this._allowSynchronousEvents=void 0===U.allowSynchronousEvents||U.allowSynchronousEvents,this._binaryType=U.binaryType||Ee[0],this._extensions=U.extensions||{},this._isServer=!!U.isServer,this._maxPayload=0|U.maxPayload,this._skipUTF8Validation=!!U.skipUTF8Validation,this[Fe]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(U,J,ee){if(8===this._opcode&&0==this._state)return ee();this._bufferedBytes+=U.length,this._buffers.push(U),this.startLoop(ee)}consume(U){if(this._bufferedBytes-=U,U===this._buffers[0].length)return this._buffers.shift();if(U<this._buffers[0].length){const J=this._buffers[0];return this._buffers[0]=new De(J.buffer,J.byteOffset+U,J.length-U),new De(J.buffer,J.byteOffset,U)}const J=Buffer.allocUnsafe(U);do{const ee=this._buffers[0],Se=J.length-U;U>=ee.length?J.set(this._buffers.shift(),Se):(J.set(new Uint8Array(ee.buffer,ee.byteOffset,U),Se),this._buffers[0]=new De(ee.buffer,ee.byteOffset+U,ee.length-U)),U-=ee.length}while(U>0);return J}startLoop(U){this._loop=!0;do{switch(this._state){case 0:this.getInfo(U);break;case 1:this.getPayloadLength16(U);break;case 2:this.getPayloadLength64(U);break;case 3:this.getMask();break;case 4:this.getData(U);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||U()}getInfo(U){if(this._bufferedBytes<2)return void(this._loop=!1);const J=this.consume(2);if(48&J[0]){return void U(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"))}const ee=!(64&~J[0]);if(!ee||this._extensions[we.extensionName]){if(this._fin=!(128&~J[0]),this._opcode=15&J[0],this._payloadLength=127&J[1],0===this._opcode){if(ee){return void U(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}if(!this._fragmented){return void U(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"))}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){return void U(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"))}this._compressed=ee}else{if(!(this._opcode>7&&this._opcode<11)){return void U(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"))}if(!this._fin){return void U(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"))}if(ee){return void U(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){return void U(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~J[1]),this._isServer){if(!this._masked){return void U(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}}else if(this._masked){return void U(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"))}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(U)}else{U(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}}getPayloadLength16(U){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(U))}getPayloadLength64(U){if(this._bufferedBytes<8)return void(this._loop=!1);const J=this.consume(8),ee=J.readUInt32BE(0);if(ee>Math.pow(2,21)-1){U(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"))}else this._payloadLength=ee*Math.pow(2,32)+J.readUInt32BE(4),this.haveLength(U)}haveLength(U){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){U(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"))}else this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(U){let J=je;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);J=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Ie(J,this._mask)}if(this._opcode>7)this.controlMessage(J,U);else{if(this._compressed)return this._state=5,void this.decompress(J,U);J.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(J)),this.dataMessage(U)}}decompress(U,J){this._extensions[we.extensionName].decompress(U,this._fin,((U,ee)=>{if(U)return J(U);if(ee.length){if(this._messageLength+=ee.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const U=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void J(U)}this._fragments.push(ee)}this.dataMessage(J),0===this._state&&this.startLoop(J)}))}dataMessage(U){if(!this._fin)return void(this._state=0);const J=this._messageLength,ee=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let Se;Se="nodebuffer"===this._binaryType?xe(ee,J):"arraybuffer"===this._binaryType?Te(xe(ee,J)):"blob"===this._binaryType?new Blob(ee):ee,this._allowSynchronousEvents?(this.emit("message",Se,!0),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",Se,!0),this._state=0,this.startLoop(U)})))}else{const Se=xe(ee,J);if(!this._skipUTF8Validation&&!Ce(Se)){const J=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void U(J)}5===this._state||this._allowSynchronousEvents?(this.emit("message",Se,!1),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",Se,!1),this._state=0,this.startLoop(U)})))}}controlMessage(U,J){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",U),this._state=0):(this._state=6,setImmediate((()=>{this.emit(9===this._opcode?"ping":"pong",U),this._state=0,this.startLoop(J)})));else{if(0===U.length)this._loop=!1,this.emit("conclude",1005,je),this.end();else{const ee=U.readUInt16BE(0);if(!ke(ee)){const U=this.createError(RangeError,`invalid status code ${ee}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void J(U)}const Se=new De(U.buffer,U.byteOffset+2,U.length-2);if(!this._skipUTF8Validation&&!Ce(Se)){const U=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void J(U)}this._loop=!1,this.emit("conclude",ee,Se),this.end()}this._state=0}}createError(U,J,ee,Se,we){this._loop=!1,this._errored=!0;const Ee=new U(ee?`Invalid WebSocket frame: ${J}`:J);return Error.captureStackTrace(Ee,this.createError),Ee.code=we,Ee[Ae]=Se,Ee}}},9638:(U,J,ee)=>{"use strict";const{Duplex:Se}=ee(2203),{randomFillSync:we}=ee(6982),Ee=ee(2287),{EMPTY_BUFFER:je,kWebSocket:Ae,NOOP:Fe}=ee(8906),{isBlob:xe,isValidStatusCode:Te}=ee(5132),{mask:Ie,toBuffer:ke}=ee(3718),Ce=Symbol("kByteLength"),De=Buffer.alloc(4),Re=8192;let Le,qe=Re;class Sender{constructor(U,J,ee){this._extensions=J||{},ee&&(this._generateMask=ee,this._maskBuffer=Buffer.alloc(4)),this._socket=U,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=Fe,this[Ae]=void 0}static frame(U,J){let ee,Se,Ee=!1,je=2,Ae=!1;J.mask&&(ee=J.maskBuffer||De,J.generateMask?J.generateMask(ee):(qe===Re&&(void 0===Le&&(Le=Buffer.alloc(Re)),we(Le,0,Re),qe=0),ee[0]=Le[qe++],ee[1]=Le[qe++],ee[2]=Le[qe++],ee[3]=Le[qe++]),Ae=!(ee[0]|ee[1]|ee[2]|ee[3]),je=6),"string"==typeof U?Se=J.mask&&!Ae||void 0===J[Ce]?(U=Buffer.from(U)).length:J[Ce]:(Se=U.length,Ee=J.mask&&J.readOnly&&!Ae);let Fe=Se;Se>=65536?(je+=8,Fe=127):Se>125&&(je+=2,Fe=126);const xe=Buffer.allocUnsafe(Ee?Se+je:je);return xe[0]=J.fin?128|J.opcode:J.opcode,J.rsv1&&(xe[0]|=64),xe[1]=Fe,126===Fe?xe.writeUInt16BE(Se,2):127===Fe&&(xe[2]=xe[3]=0,xe.writeUIntBE(Se,4,6)),J.mask?(xe[1]|=128,xe[je-4]=ee[0],xe[je-3]=ee[1],xe[je-2]=ee[2],xe[je-1]=ee[3],Ae?[xe,U]:Ee?(Ie(U,ee,xe,je,Se),[xe]):(Ie(U,ee,U,0,Se),[xe,U])):[xe,U]}close(U,J,ee,Se){let we;if(void 0===U)we=je;else{if("number"!=typeof U||!Te(U))throw new TypeError("First argument must be a valid error code number");if(void 0!==J&&J.length){const ee=Buffer.byteLength(J);if(ee>123)throw new RangeError("The message must not be greater than 123 bytes");we=Buffer.allocUnsafe(2+ee),we.writeUInt16BE(U,0),"string"==typeof J?we.write(J,2):we.set(J,2)}else we=Buffer.allocUnsafe(2),we.writeUInt16BE(U,0)}const Ee={[Ce]:we.length,fin:!0,generateMask:this._generateMask,mask:ee,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,we,!1,Ee,Se]):this.sendFrame(Sender.frame(we,Ee),Se)}ping(U,J,ee){let Se,we;if("string"==typeof U?(Se=Buffer.byteLength(U),we=!1):xe(U)?(Se=U.size,we=!1):(Se=(U=ke(U)).length,we=ke.readOnly),Se>125)throw new RangeError("The data size must not be greater than 125 bytes");const Ee={[Ce]:Se,fin:!0,generateMask:this._generateMask,mask:J,maskBuffer:this._maskBuffer,opcode:9,readOnly:we,rsv1:!1};xe(U)?0!==this._state?this.enqueue([this.getBlobData,U,!1,Ee,ee]):this.getBlobData(U,!1,Ee,ee):0!==this._state?this.enqueue([this.dispatch,U,!1,Ee,ee]):this.sendFrame(Sender.frame(U,Ee),ee)}pong(U,J,ee){let Se,we;if("string"==typeof U?(Se=Buffer.byteLength(U),we=!1):xe(U)?(Se=U.size,we=!1):(Se=(U=ke(U)).length,we=ke.readOnly),Se>125)throw new RangeError("The data size must not be greater than 125 bytes");const Ee={[Ce]:Se,fin:!0,generateMask:this._generateMask,mask:J,maskBuffer:this._maskBuffer,opcode:10,readOnly:we,rsv1:!1};xe(U)?0!==this._state?this.enqueue([this.getBlobData,U,!1,Ee,ee]):this.getBlobData(U,!1,Ee,ee):0!==this._state?this.enqueue([this.dispatch,U,!1,Ee,ee]):this.sendFrame(Sender.frame(U,Ee),ee)}send(U,J,ee){const Se=this._extensions[Ee.extensionName];let we,je,Ae=J.binary?2:1,Fe=J.compress;"string"==typeof U?(we=Buffer.byteLength(U),je=!1):xe(U)?(we=U.size,je=!1):(we=(U=ke(U)).length,je=ke.readOnly),this._firstFragment?(this._firstFragment=!1,Fe&&Se&&Se.params[Se._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(Fe=we>=Se._threshold),this._compress=Fe):(Fe=!1,Ae=0),J.fin&&(this._firstFragment=!0);const Te={[Ce]:we,fin:J.fin,generateMask:this._generateMask,mask:J.mask,maskBuffer:this._maskBuffer,opcode:Ae,readOnly:je,rsv1:Fe};xe(U)?0!==this._state?this.enqueue([this.getBlobData,U,this._compress,Te,ee]):this.getBlobData(U,this._compress,Te,ee):0!==this._state?this.enqueue([this.dispatch,U,this._compress,Te,ee]):this.dispatch(U,this._compress,Te,ee)}getBlobData(U,J,ee,Se){this._bufferedBytes+=ee[Ce],this._state=2,U.arrayBuffer().then((U=>{if(this._socket.destroyed){const U=new Error("The socket was closed while the blob was being read");return void process.nextTick(callCallbacks,this,U,Se)}this._bufferedBytes-=ee[Ce];const we=ke(U);J?this.dispatch(we,J,ee,Se):(this._state=0,this.sendFrame(Sender.frame(we,ee),Se),this.dequeue())})).catch((U=>{process.nextTick(onError,this,U,Se)}))}dispatch(U,J,ee,Se){if(!J)return void this.sendFrame(Sender.frame(U,ee),Se);const we=this._extensions[Ee.extensionName];this._bufferedBytes+=ee[Ce],this._state=1,we.compress(U,ee.fin,((U,J)=>{if(this._socket.destroyed){callCallbacks(this,new Error("The socket was closed while data was being compressed"),Se)}else this._bufferedBytes-=ee[Ce],this._state=0,ee.readOnly=!1,this.sendFrame(Sender.frame(J,ee),Se),this.dequeue()}))}dequeue(){for(;0===this._state&&this._queue.length;){const U=this._queue.shift();this._bufferedBytes-=U[3][Ce],Reflect.apply(U[0],this,U.slice(1))}}enqueue(U){this._bufferedBytes+=U[3][Ce],this._queue.push(U)}sendFrame(U,J){2===U.length?(this._socket.cork(),this._socket.write(U[0]),this._socket.write(U[1],J),this._socket.uncork()):this._socket.write(U[0],J)}}function callCallbacks(U,J,ee){"function"==typeof ee&&ee(J);for(let ee=0;ee<U._queue.length;ee++){const Se=U._queue[ee],we=Se[Se.length-1];"function"==typeof we&&we(J)}}function onError(U,J,ee){callCallbacks(U,J,ee),U.onerror(J)}U.exports=Sender},3491:(U,J,ee)=>{"use strict";const{Duplex:Se}=ee(2203);function emitClose(U){U.emit("close")}function duplexOnEnd(){!this.destroyed&&this._writableState.finished&&this.destroy()}function duplexOnError(U){this.removeListener("error",duplexOnError),this.destroy(),0===this.listenerCount("error")&&this.emit("error",U)}U.exports=function createWebSocketStream(U,J){let ee=!0;const we=new Se({...J,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return U.on("message",(function message(J,ee){const Se=!ee&&we._readableState.objectMode?J.toString():J;we.push(Se)||U.pause()})),U.once("error",(function error(U){we.destroyed||(ee=!1,we.destroy(U))})),U.once("close",(function close(){we.destroyed||we.push(null)})),we._destroy=function(J,Se){if(U.readyState===U.CLOSED)return Se(J),void process.nextTick(emitClose,we);let Ee=!1;U.once("error",(function error(U){Ee=!0,Se(U)})),U.once("close",(function close(){Ee||Se(J),process.nextTick(emitClose,we)})),ee&&U.terminate()},we._final=function(J){U.readyState!==U.CONNECTING?null!==U._socket&&(U._socket._writableState.finished?(J(),we._readableState.endEmitted&&we.destroy()):(U._socket.once("finish",(function finish(){J()})),U.close())):U.once("open",(function open(){we._final(J)}))},we._read=function(){U.isPaused&&U.resume()},we._write=function(J,ee,Se){U.readyState!==U.CONNECTING?U.send(J,Se):U.once("open",(function open(){we._write(J,ee,Se)}))},we.on("end",duplexOnEnd),we.on("error",duplexOnError),we}},5081:(U,J,ee)=>{"use strict";const{tokenChars:Se}=ee(5132);U.exports={parse:function parse(U){const J=new Set;let ee=-1,we=-1,Ee=0;for(;Ee<U.length;Ee++){const je=U.charCodeAt(Ee);if(-1===we&&1===Se[je])-1===ee&&(ee=Ee);else if(0===Ee||32!==je&&9!==je){if(44!==je)throw new SyntaxError(`Unexpected character at index ${Ee}`);{if(-1===ee)throw new SyntaxError(`Unexpected character at index ${Ee}`);-1===we&&(we=Ee);const Se=U.slice(ee,we);if(J.has(Se))throw new SyntaxError(`The "${Se}" subprotocol is duplicated`);J.add(Se),ee=we=-1}}else-1===we&&-1!==ee&&(we=Ee)}if(-1===ee||-1!==we)throw new SyntaxError("Unexpected end of input");const je=U.slice(ee,Ee);if(J.has(je))throw new SyntaxError(`The "${je}" subprotocol is duplicated`);return J.add(je),J}}},5132:(U,J,ee)=>{"use strict";const{isUtf8:Se}=ee(181),{hasBlob:we}=ee(8906);function _isValidUTF8(U){const J=U.length;let ee=0;for(;ee<J;)if(128&U[ee])if(192==(224&U[ee])){if(ee+1===J||128!=(192&U[ee+1])||192==(254&U[ee]))return!1;ee+=2}else if(224==(240&U[ee])){if(ee+2>=J||128!=(192&U[ee+1])||128!=(192&U[ee+2])||224===U[ee]&&128==(224&U[ee+1])||237===U[ee]&&160==(224&U[ee+1]))return!1;ee+=3}else{if(240!=(248&U[ee]))return!1;if(ee+3>=J||128!=(192&U[ee+1])||128!=(192&U[ee+2])||128!=(192&U[ee+3])||240===U[ee]&&128==(240&U[ee+1])||244===U[ee]&&U[ee+1]>143||U[ee]>244)return!1;ee+=4}else ee++;return!0}if(U.exports={isBlob:function isBlob(U){return we&&"object"==typeof U&&"function"==typeof U.arrayBuffer&&"string"==typeof U.type&&"function"==typeof U.stream&&("Blob"===U[Symbol.toStringTag]||"File"===U[Symbol.toStringTag])},isValidStatusCode:function isValidStatusCode(U){return U>=1e3&&U<=1014&&1004!==U&&1005!==U&&1006!==U||U>=3e3&&U<=4999},isValidUTF8:_isValidUTF8,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},Se)U.exports.isValidUTF8=function(U){return U.length<24?_isValidUTF8(U):Se(U)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const J=ee(6664);U.exports.isValidUTF8=function(U){return U.length<32?_isValidUTF8(U):J(U)}}catch(U){}},7542:(U,J,ee)=>{"use strict";const Se=ee(4434),we=ee(8611),{Duplex:Ee}=ee(2203),{createHash:je}=ee(6982),Ae=ee(9730),Fe=ee(2287),xe=ee(5081),Te=ee(9048),{GUID:Ie,kWebSocket:ke}=ee(8906),Ce=/^[+/0-9A-Za-z]{22}==$/;function emitClose(U){U._state=2,U.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(U,J,ee,Se){ee=ee||we.STATUS_CODES[J],Se={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(ee),...Se},U.once("finish",U.destroy),U.end(`HTTP/1.1 ${J} ${we.STATUS_CODES[J]}\r\n`+Object.keys(Se).map((U=>`${U}: ${Se[U]}`)).join("\r\n")+"\r\n\r\n"+ee)}function abortHandshakeOrEmitwsClientError(U,J,ee,Se,we){if(U.listenerCount("wsClientError")){const Se=new Error(we);Error.captureStackTrace(Se,abortHandshakeOrEmitwsClientError),U.emit("wsClientError",Se,ee,J)}else abortHandshake(ee,Se,we)}U.exports=class WebSocketServer extends Se{constructor(U,J){if(super(),null==(U={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Te,...U}).port&&!U.server&&!U.noServer||null!=U.port&&(U.server||U.noServer)||U.server&&U.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=U.port?(this._server=we.createServer(((U,J)=>{const ee=we.STATUS_CODES[426];J.writeHead(426,{"Content-Length":ee.length,"Content-Type":"text/plain"}),J.end(ee)})),this._server.listen(U.port,U.host,U.backlog,J)):U.server&&(this._server=U.server),this._server){const U=this.emit.bind(this,"connection");this._removeListeners=function addListeners(U,J){for(const ee of Object.keys(J))U.on(ee,J[ee]);return function removeListeners(){for(const ee of Object.keys(J))U.removeListener(ee,J[ee])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(J,ee,Se)=>{this.handleUpgrade(J,ee,Se,U)}})}!0===U.perMessageDeflate&&(U.perMessageDeflate={}),U.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=U,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(U){if(2===this._state)return U&&this.once("close",(()=>{U(new Error("The server is not running"))})),void process.nextTick(emitClose,this);if(U&&this.once("close",U),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(emitClose,this);else{const U=this._server;this._removeListeners(),this._removeListeners=this._server=null,U.close((()=>{emitClose(this)}))}}shouldHandle(U){if(this.options.path){const J=U.url.indexOf("?");if((-1!==J?U.url.slice(0,J):U.url)!==this.options.path)return!1}return!0}handleUpgrade(U,J,ee,Se){J.on("error",socketOnError);const we=U.headers["sec-websocket-key"],Ee=U.headers.upgrade,je=+U.headers["sec-websocket-version"];if("GET"!==U.method){return void abortHandshakeOrEmitwsClientError(this,U,J,405,"Invalid HTTP method")}if(void 0===Ee||"websocket"!==Ee.toLowerCase()){return void abortHandshakeOrEmitwsClientError(this,U,J,400,"Invalid Upgrade header")}if(void 0===we||!Ce.test(we)){return void abortHandshakeOrEmitwsClientError(this,U,J,400,"Missing or invalid Sec-WebSocket-Key header")}if(8!==je&&13!==je){return void abortHandshakeOrEmitwsClientError(this,U,J,400,"Missing or invalid Sec-WebSocket-Version header")}if(!this.shouldHandle(U))return void abortHandshake(J,400);const Te=U.headers["sec-websocket-protocol"];let Ie=new Set;if(void 0!==Te)try{Ie=xe.parse(Te)}catch(ee){return void abortHandshakeOrEmitwsClientError(this,U,J,400,"Invalid Sec-WebSocket-Protocol header")}const ke=U.headers["sec-websocket-extensions"],De={};if(this.options.perMessageDeflate&&void 0!==ke){const ee=new Fe(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const U=Ae.parse(ke);U[Fe.extensionName]&&(ee.accept(U[Fe.extensionName]),De[Fe.extensionName]=ee)}catch(ee){return void abortHandshakeOrEmitwsClientError(this,U,J,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const Ee={origin:U.headers[""+(8===je?"sec-websocket-origin":"origin")],secure:!(!U.socket.authorized&&!U.socket.encrypted),req:U};if(2===this.options.verifyClient.length)return void this.options.verifyClient(Ee,((Ee,je,Ae,Fe)=>{if(!Ee)return abortHandshake(J,je||401,Ae,Fe);this.completeUpgrade(De,we,Ie,U,J,ee,Se)}));if(!this.options.verifyClient(Ee))return abortHandshake(J,401)}this.completeUpgrade(De,we,Ie,U,J,ee,Se)}completeUpgrade(U,J,ee,Se,we,Ee,xe){if(!we.readable||!we.writable)return we.destroy();if(we[ke])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return abortHandshake(we,503);const Te=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${je("sha1").update(J+Ie).digest("base64")}`],Ce=new this.options.WebSocket(null,void 0,this.options);if(ee.size){const U=this.options.handleProtocols?this.options.handleProtocols(ee,Se):ee.values().next().value;U&&(Te.push(`Sec-WebSocket-Protocol: ${U}`),Ce._protocol=U)}if(U[Fe.extensionName]){const J=U[Fe.extensionName].params,ee=Ae.format({[Fe.extensionName]:[J]});Te.push(`Sec-WebSocket-Extensions: ${ee}`),Ce._extensions=U}this.emit("headers",Te,Se),we.write(Te.concat("\r\n").join("\r\n")),we.removeListener("error",socketOnError),Ce.setSocket(we,Ee,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(Ce),Ce.on("close",(()=>{this.clients.delete(Ce),this._shouldEmitClose&&!this.clients.size&&process.nextTick(emitClose,this)}))),xe(Ce,Se)}}},9048:(U,J,ee)=>{"use strict";const Se=ee(4434),we=ee(5692),Ee=ee(8611),je=ee(9278),Ae=ee(4756),{randomBytes:Fe,createHash:xe}=ee(6982),{Duplex:Te,Readable:Ie}=ee(2203),{URL:ke}=ee(7016),Ce=ee(2287),De=ee(898),Re=ee(9638),{isBlob:Le}=ee(5132),{BINARY_TYPES:qe,EMPTY_BUFFER:$e,GUID:ht,kForOnEventAttribute:_t,kListener:gt,kStatusCode:Dt,kWebSocket:Vt,NOOP:Ht}=ee(8906),{EventTarget:{addEventListener:Yt,removeEventListener:Gt}}=ee(7145),{format:gr,parse:Yr}=ee(9730),{toBuffer:Jr}=ee(3718),en=3e4,tn=Symbol("kAborted"),rn=[8,13],nn=["CONNECTING","OPEN","CLOSING","CLOSED"],on=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class WebSocket extends Se{constructor(U,J,ee){super(),this._binaryType=qe[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=$e,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=WebSocket.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==U?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===J?J=[]:Array.isArray(J)||("object"==typeof J&&null!==J?(ee=J,J=[]):J=[J]),initAsClient(this,U,J,ee)):(this._autoPong=ee.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(U){qe.includes(U)&&(this._binaryType=U,this._receiver&&(this._receiver._binaryType=U))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(U,J,ee){const Se=new De({allowSynchronousEvents:ee.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:ee.maxPayload,skipUTF8Validation:ee.skipUTF8Validation}),we=new Re(U,this._extensions,ee.generateMask);this._receiver=Se,this._sender=we,this._socket=U,Se[Vt]=this,we[Vt]=this,U[Vt]=this,Se.on("conclude",receiverOnConclude),Se.on("drain",receiverOnDrain),Se.on("error",receiverOnError),Se.on("message",receiverOnMessage),Se.on("ping",receiverOnPing),Se.on("pong",receiverOnPong),we.onerror=senderOnError,U.setTimeout&&U.setTimeout(0),U.setNoDelay&&U.setNoDelay(),J.length>0&&U.unshift(J),U.on("close",socketOnClose),U.on("data",socketOnData),U.on("end",socketOnEnd),U.on("error",socketOnError),this._readyState=WebSocket.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=WebSocket.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[Ce.extensionName]&&this._extensions[Ce.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=WebSocket.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(U,J){if(this.readyState!==WebSocket.CLOSED)if(this.readyState!==WebSocket.CONNECTING)this.readyState!==WebSocket.CLOSING?(this._readyState=WebSocket.CLOSING,this._sender.close(U,J,!this._isServer,(U=>{U||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),setCloseTimer(this)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const U="WebSocket was closed before the connection was established";abortHandshake(this,this._req,U)}}pause(){this.readyState!==WebSocket.CONNECTING&&this.readyState!==WebSocket.CLOSED&&(this._paused=!0,this._socket.pause())}ping(U,J,ee){if(this.readyState===WebSocket.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof U?(ee=U,U=J=void 0):"function"==typeof J&&(ee=J,J=void 0),"number"==typeof U&&(U=U.toString()),this.readyState===WebSocket.OPEN?(void 0===J&&(J=!this._isServer),this._sender.ping(U||$e,J,ee)):sendAfterClose(this,U,ee)}pong(U,J,ee){if(this.readyState===WebSocket.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof U?(ee=U,U=J=void 0):"function"==typeof J&&(ee=J,J=void 0),"number"==typeof U&&(U=U.toString()),this.readyState===WebSocket.OPEN?(void 0===J&&(J=!this._isServer),this._sender.pong(U||$e,J,ee)):sendAfterClose(this,U,ee)}resume(){this.readyState!==WebSocket.CONNECTING&&this.readyState!==WebSocket.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(U,J,ee){if(this.readyState===WebSocket.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof J&&(ee=J,J={}),"number"==typeof U&&(U=U.toString()),this.readyState!==WebSocket.OPEN)return void sendAfterClose(this,U,ee);const Se={binary:"string"!=typeof U,mask:!this._isServer,compress:!0,fin:!0,...J};this._extensions[Ce.extensionName]||(Se.compress=!1),this._sender.send(U||$e,Se,ee)}terminate(){if(this.readyState!==WebSocket.CLOSED)if(this.readyState!==WebSocket.CONNECTING)this._socket&&(this._readyState=WebSocket.CLOSING,this._socket.destroy());else{const U="WebSocket was closed before the connection was established";abortHandshake(this,this._req,U)}}}function initAsClient(U,J,ee,Se){const je={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:rn[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...Se,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(U._autoPong=je.autoPong,!rn.includes(je.protocolVersion))throw new RangeError(`Unsupported protocol version: ${je.protocolVersion} (supported versions: ${rn.join(", ")})`);let Ae;if(J instanceof ke)Ae=J;else try{Ae=new ke(J)}catch(U){throw new SyntaxError(`Invalid URL: ${J}`)}"http:"===Ae.protocol?Ae.protocol="ws:":"https:"===Ae.protocol&&(Ae.protocol="wss:"),U._url=Ae.href;const Te="wss:"===Ae.protocol,Ie="ws+unix:"===Ae.protocol;let De;if("ws:"===Ae.protocol||Te||Ie?Ie&&!Ae.pathname?De="The URL's pathname is empty":Ae.hash&&(De="The URL contains a fragment identifier"):De='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',De){const J=new SyntaxError(De);if(0===U._redirects)throw J;return void emitErrorAndClose(U,J)}const Re=Te?443:80,Le=Fe(16).toString("base64"),qe=Te?we.request:Ee.request,$e=new Set;let _t,gt;if(je.createConnection=je.createConnection||(Te?tlsConnect:netConnect),je.defaultPort=je.defaultPort||Re,je.port=Ae.port||Re,je.host=Ae.hostname.startsWith("[")?Ae.hostname.slice(1,-1):Ae.hostname,je.headers={...je.headers,"Sec-WebSocket-Version":je.protocolVersion,"Sec-WebSocket-Key":Le,Connection:"Upgrade",Upgrade:"websocket"},je.path=Ae.pathname+Ae.search,je.timeout=je.handshakeTimeout,je.perMessageDeflate&&(_t=new Ce(!0!==je.perMessageDeflate?je.perMessageDeflate:{},!1,je.maxPayload),je.headers["Sec-WebSocket-Extensions"]=gr({[Ce.extensionName]:_t.offer()})),ee.length){for(const U of ee){if("string"!=typeof U||!on.test(U)||$e.has(U))throw new SyntaxError("An invalid or duplicated subprotocol was specified");$e.add(U)}je.headers["Sec-WebSocket-Protocol"]=ee.join(",")}if(je.origin&&(je.protocolVersion<13?je.headers["Sec-WebSocket-Origin"]=je.origin:je.headers.Origin=je.origin),(Ae.username||Ae.password)&&(je.auth=`${Ae.username}:${Ae.password}`),Ie){const U=je.path.split(":");je.socketPath=U[0],je.path=U[1]}if(je.followRedirects){if(0===U._redirects){U._originalIpc=Ie,U._originalSecure=Te,U._originalHostOrSocketPath=Ie?je.socketPath:Ae.host;const J=Se&&Se.headers;if(Se={...Se,headers:{}},J)for(const[U,ee]of Object.entries(J))Se.headers[U.toLowerCase()]=ee}else if(0===U.listenerCount("redirect")){const J=Ie?!!U._originalIpc&&je.socketPath===U._originalHostOrSocketPath:!U._originalIpc&&Ae.host===U._originalHostOrSocketPath;(!J||U._originalSecure&&!Te)&&(delete je.headers.authorization,delete je.headers.cookie,J||delete je.headers.host,je.auth=void 0)}je.auth&&!Se.headers.authorization&&(Se.headers.authorization="Basic "+Buffer.from(je.auth).toString("base64")),gt=U._req=qe(je),U._redirects&&U.emit("redirect",U.url,gt)}else gt=U._req=qe(je);je.timeout&&gt.on("timeout",(()=>{abortHandshake(U,gt,"Opening handshake has timed out")})),gt.on("error",(J=>{null===gt||gt[tn]||(gt=U._req=null,emitErrorAndClose(U,J))})),gt.on("response",(we=>{const Ee=we.headers.location,Ae=we.statusCode;if(Ee&&je.followRedirects&&Ae>=300&&Ae<400){if(++U._redirects>je.maxRedirects)return void abortHandshake(U,gt,"Maximum redirects exceeded");let we;gt.abort();try{we=new ke(Ee,J)}catch(J){const ee=new SyntaxError(`Invalid URL: ${Ee}`);return void emitErrorAndClose(U,ee)}initAsClient(U,we,ee,Se)}else U.emit("unexpected-response",gt,we)||abortHandshake(U,gt,`Unexpected server response: ${we.statusCode}`)})),gt.on("upgrade",((J,ee,Se)=>{if(U.emit("upgrade",J),U.readyState!==WebSocket.CONNECTING)return;gt=U._req=null;const we=J.headers.upgrade;if(void 0===we||"websocket"!==we.toLowerCase())return void abortHandshake(U,ee,"Invalid Upgrade header");const Ee=xe("sha1").update(Le+ht).digest("base64");if(J.headers["sec-websocket-accept"]!==Ee)return void abortHandshake(U,ee,"Invalid Sec-WebSocket-Accept header");const Ae=J.headers["sec-websocket-protocol"];let Fe;if(void 0!==Ae?$e.size?$e.has(Ae)||(Fe="Server sent an invalid subprotocol"):Fe="Server sent a subprotocol but none was requested":$e.size&&(Fe="Server sent no subprotocol"),Fe)return void abortHandshake(U,ee,Fe);Ae&&(U._protocol=Ae);const Te=J.headers["sec-websocket-extensions"];if(void 0!==Te){if(!_t){return void abortHandshake(U,ee,"Server sent a Sec-WebSocket-Extensions header but no extension was requested")}let J;try{J=Yr(Te)}catch(J){return void abortHandshake(U,ee,"Invalid Sec-WebSocket-Extensions header")}const Se=Object.keys(J);if(1!==Se.length||Se[0]!==Ce.extensionName){return void abortHandshake(U,ee,"Server indicated an extension that was not requested")}try{_t.accept(J[Ce.extensionName])}catch(J){return void abortHandshake(U,ee,"Invalid Sec-WebSocket-Extensions header")}U._extensions[Ce.extensionName]=_t}U.setSocket(ee,Se,{allowSynchronousEvents:je.allowSynchronousEvents,generateMask:je.generateMask,maxPayload:je.maxPayload,skipUTF8Validation:je.skipUTF8Validation})})),je.finishRequest?je.finishRequest(gt,U):gt.end()}function emitErrorAndClose(U,J){U._readyState=WebSocket.CLOSING,U._errorEmitted=!0,U.emit("error",J),U.emitClose()}function netConnect(U){return U.path=U.socketPath,je.connect(U)}function tlsConnect(U){return U.path=void 0,U.servername||""===U.servername||(U.servername=je.isIP(U.host)?"":U.host),Ae.connect(U)}function abortHandshake(U,J,ee){U._readyState=WebSocket.CLOSING;const Se=new Error(ee);Error.captureStackTrace(Se,abortHandshake),J.setHeader?(J[tn]=!0,J.abort(),J.socket&&!J.socket.destroyed&&J.socket.destroy(),process.nextTick(emitErrorAndClose,U,Se)):(J.destroy(Se),J.once("error",U.emit.bind(U,"error")),J.once("close",U.emitClose.bind(U)))}function sendAfterClose(U,J,ee){if(J){const ee=Le(J)?J.size:Jr(J).length;U._socket?U._sender._bufferedBytes+=ee:U._bufferedAmount+=ee}if(ee){const J=new Error(`WebSocket is not open: readyState ${U.readyState} (${nn[U.readyState]})`);process.nextTick(ee,J)}}function receiverOnConclude(U,J){const ee=this[Vt];ee._closeFrameReceived=!0,ee._closeMessage=J,ee._closeCode=U,void 0!==ee._socket[Vt]&&(ee._socket.removeListener("data",socketOnData),process.nextTick(resume,ee._socket),1005===U?ee.close():ee.close(U,J))}function receiverOnDrain(){const U=this[Vt];U.isPaused||U._socket.resume()}function receiverOnError(U){const J=this[Vt];void 0!==J._socket[Vt]&&(J._socket.removeListener("data",socketOnData),process.nextTick(resume,J._socket),J.close(U[Dt])),J._errorEmitted||(J._errorEmitted=!0,J.emit("error",U))}function receiverOnFinish(){this[Vt].emitClose()}function receiverOnMessage(U,J){this[Vt].emit("message",U,J)}function receiverOnPing(U){const J=this[Vt];J._autoPong&&J.pong(U,!this._isServer,Ht),J.emit("ping",U)}function receiverOnPong(U){this[Vt].emit("pong",U)}function resume(U){U.resume()}function senderOnError(U){const J=this[Vt];J.readyState!==WebSocket.CLOSED&&(J.readyState===WebSocket.OPEN&&(J._readyState=WebSocket.CLOSING,setCloseTimer(J)),this._socket.end(),J._errorEmitted||(J._errorEmitted=!0,J.emit("error",U)))}function setCloseTimer(U){U._closeTimer=setTimeout(U._socket.destroy.bind(U._socket),en)}function socketOnClose(){const U=this[Vt];let J;this.removeListener("close",socketOnClose),this.removeListener("data",socketOnData),this.removeListener("end",socketOnEnd),U._readyState=WebSocket.CLOSING,this._readableState.endEmitted||U._closeFrameReceived||U._receiver._writableState.errorEmitted||null===(J=U._socket.read())||U._receiver.write(J),U._receiver.end(),this[Vt]=void 0,clearTimeout(U._closeTimer),U._receiver._writableState.finished||U._receiver._writableState.errorEmitted?U.emitClose():(U._receiver.on("error",receiverOnFinish),U._receiver.on("finish",receiverOnFinish))}function socketOnData(U){this[Vt]._receiver.write(U)||this.pause()}function socketOnEnd(){const U=this[Vt];U._readyState=WebSocket.CLOSING,U._receiver.end(),this.end()}function socketOnError(){const U=this[Vt];this.removeListener("error",socketOnError),this.on("error",Ht),U&&(U._readyState=WebSocket.CLOSING,this.destroy())}Object.defineProperty(WebSocket,"CONNECTING",{enumerable:!0,value:nn.indexOf("CONNECTING")}),Object.defineProperty(WebSocket.prototype,"CONNECTING",{enumerable:!0,value:nn.indexOf("CONNECTING")}),Object.defineProperty(WebSocket,"OPEN",{enumerable:!0,value:nn.indexOf("OPEN")}),Object.defineProperty(WebSocket.prototype,"OPEN",{enumerable:!0,value:nn.indexOf("OPEN")}),Object.defineProperty(WebSocket,"CLOSING",{enumerable:!0,value:nn.indexOf("CLOSING")}),Object.defineProperty(WebSocket.prototype,"CLOSING",{enumerable:!0,value:nn.indexOf("CLOSING")}),Object.defineProperty(WebSocket,"CLOSED",{enumerable:!0,value:nn.indexOf("CLOSED")}),Object.defineProperty(WebSocket.prototype,"CLOSED",{enumerable:!0,value:nn.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((U=>{Object.defineProperty(WebSocket.prototype,U,{enumerable:!0})})),["open","error","close","message"].forEach((U=>{Object.defineProperty(WebSocket.prototype,`on${U}`,{enumerable:!0,get(){for(const J of this.listeners(U))if(J[_t])return J[gt];return null},set(J){for(const J of this.listeners(U))if(J[_t]){this.removeListener(U,J);break}"function"==typeof J&&this.addEventListener(U,J,{[_t]:!0})}})})),WebSocket.prototype.addEventListener=Yt,WebSocket.prototype.removeEventListener=Gt,U.exports=WebSocket},181:U=>{"use strict";U.exports=require("buffer")},6982:U=>{"use strict";U.exports=require("crypto")},4434:U=>{"use strict";U.exports=require("events")},9896:U=>{"use strict";U.exports=require("fs")},8611:U=>{"use strict";U.exports=require("http")},5692:U=>{"use strict";U.exports=require("https")},9278:U=>{"use strict";U.exports=require("net")},857:U=>{"use strict";U.exports=require("os")},6928:U=>{"use strict";U.exports=require("path")},2203:U=>{"use strict";U.exports=require("stream")},4756:U=>{"use strict";U.exports=require("tls")},7016:U=>{"use strict";U.exports=require("url")},3106:U=>{"use strict";U.exports=require("zlib")},4629:(U,J,ee)=>{"use strict";ee.r(J),ee.d(J,{__addDisposableResource:()=>__addDisposableResource,__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldIn:()=>__classPrivateFieldIn,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>Se,__decorate:()=>__decorate,__disposeResources:()=>__disposeResources,__esDecorate:()=>__esDecorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__propKey:()=>__propKey,__read:()=>__read,__rest:()=>__rest,__runInitializers:()=>__runInitializers,__setFunctionName:()=>__setFunctionName,__spread:()=>__spread,__spreadArray:()=>__spreadArray,__spreadArrays:()=>__spreadArrays,__values:()=>__values,default:()=>je});var extendStatics=function(U,J){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,J){U.__proto__=J}||function(U,J){for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(U[ee]=J[ee])},extendStatics(U,J)};function __extends(U,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function __(){this.constructor=U}extendStatics(U,J),U.prototype=null===J?Object.create(J):(__.prototype=J.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(U){for(var J,ee=1,Se=arguments.length;ee<Se;ee++)for(var we in J=arguments[ee])Object.prototype.hasOwnProperty.call(J,we)&&(U[we]=J[we]);return U},__assign.apply(this,arguments)};function __rest(U,J){var ee={};for(var Se in U)Object.prototype.hasOwnProperty.call(U,Se)&&J.indexOf(Se)<0&&(ee[Se]=U[Se]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(Se=Object.getOwnPropertySymbols(U);we<Se.length;we++)J.indexOf(Se[we])<0&&Object.prototype.propertyIsEnumerable.call(U,Se[we])&&(ee[Se[we]]=U[Se[we]])}return ee}function __decorate(U,J,ee,Se){var we,Ee=arguments.length,je=Ee<3?J:null===Se?Se=Object.getOwnPropertyDescriptor(J,ee):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(U,J,ee,Se);else for(var Ae=U.length-1;Ae>=0;Ae--)(we=U[Ae])&&(je=(Ee<3?we(je):Ee>3?we(J,ee,je):we(J,ee))||je);return Ee>3&&je&&Object.defineProperty(J,ee,je),je}function __param(U,J){return function(ee,Se){J(ee,Se,U)}}function __esDecorate(U,J,ee,Se,we,Ee){function accept(U){if(void 0!==U&&"function"!=typeof U)throw new TypeError("Function expected");return U}for(var je,Ae=Se.kind,Fe="getter"===Ae?"get":"setter"===Ae?"set":"value",xe=!J&&U?Se.static?U:U.prototype:null,Te=J||(xe?Object.getOwnPropertyDescriptor(xe,Se.name):{}),Ie=!1,ke=ee.length-1;ke>=0;ke--){var Ce={};for(var De in Se)Ce[De]="access"===De?{}:Se[De];for(var De in Se.access)Ce.access[De]=Se.access[De];Ce.addInitializer=function(U){if(Ie)throw new TypeError("Cannot add initializers after decoration has completed");Ee.push(accept(U||null))};var Re=(0,ee[ke])("accessor"===Ae?{get:Te.get,set:Te.set}:Te[Fe],Ce);if("accessor"===Ae){if(void 0===Re)continue;if(null===Re||"object"!=typeof Re)throw new TypeError("Object expected");(je=accept(Re.get))&&(Te.get=je),(je=accept(Re.set))&&(Te.set=je),(je=accept(Re.init))&&we.unshift(je)}else(je=accept(Re))&&("field"===Ae?we.unshift(je):Te[Fe]=je)}xe&&Object.defineProperty(xe,Se.name,Te),Ie=!0}function __runInitializers(U,J,ee){for(var Se=arguments.length>2,we=0;we<J.length;we++)ee=Se?J[we].call(U,ee):J[we].call(U);return Se?ee:void 0}function __propKey(U){return"symbol"==typeof U?U:"".concat(U)}function __setFunctionName(U,J,ee){return"symbol"==typeof J&&(J=J.description?"[".concat(J.description,"]"):""),Object.defineProperty(U,"name",{configurable:!0,value:ee?"".concat(ee," ",J):J})}function __metadata(U,J){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(U,J)}function __awaiter(U,J,ee,Se){return new(ee||(ee=Promise))((function(we,Ee){function fulfilled(U){try{step(Se.next(U))}catch(U){Ee(U)}}function rejected(U){try{step(Se.throw(U))}catch(U){Ee(U)}}function step(U){U.done?we(U.value):function adopt(U){return U instanceof ee?U:new ee((function(J){J(U)}))}(U.value).then(fulfilled,rejected)}step((Se=Se.apply(U,J||[])).next())}))}function __generator(U,J){var ee,Se,we,Ee,je={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return Ee={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function verb(Ae){return function(Fe){return function step(Ae){if(ee)throw new TypeError("Generator is already executing.");for(;Ee&&(Ee=0,Ae[0]&&(je=0)),je;)try{if(ee=1,Se&&(we=2&Ae[0]?Se.return:Ae[0]?Se.throw||((we=Se.return)&&we.call(Se),0):Se.next)&&!(we=we.call(Se,Ae[1])).done)return we;switch(Se=0,we&&(Ae=[2&Ae[0],we.value]),Ae[0]){case 0:case 1:we=Ae;break;case 4:return je.label++,{value:Ae[1],done:!1};case 5:je.label++,Se=Ae[1],Ae=[0];continue;case 7:Ae=je.ops.pop(),je.trys.pop();continue;default:if(!(we=je.trys,(we=we.length>0&&we[we.length-1])||6!==Ae[0]&&2!==Ae[0])){je=0;continue}if(3===Ae[0]&&(!we||Ae[1]>we[0]&&Ae[1]<we[3])){je.label=Ae[1];break}if(6===Ae[0]&&je.label<we[1]){je.label=we[1],we=Ae;break}if(we&&je.label<we[2]){je.label=we[2],je.ops.push(Ae);break}we[2]&&je.ops.pop(),je.trys.pop();continue}Ae=J.call(U,je)}catch(U){Ae=[6,U],Se=0}finally{ee=we=0}if(5&Ae[0])throw Ae[1];return{value:Ae[0]?Ae[1]:void 0,done:!0}}([Ae,Fe])}}}var Se=Object.create?function(U,J,ee,Se){void 0===Se&&(Se=ee);var we=Object.getOwnPropertyDescriptor(J,ee);we&&!("get"in we?!J.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return J[ee]}}),Object.defineProperty(U,Se,we)}:function(U,J,ee,Se){void 0===Se&&(Se=ee),U[Se]=J[ee]};function __exportStar(U,J){for(var ee in U)"default"===ee||Object.prototype.hasOwnProperty.call(J,ee)||Se(J,U,ee)}function __values(U){var J="function"==typeof Symbol&&Symbol.iterator,ee=J&&U[J],Se=0;if(ee)return ee.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(U,J){var ee="function"==typeof Symbol&&U[Symbol.iterator];if(!ee)return U;var Se,we,Ee=ee.call(U),je=[];try{for(;(void 0===J||J-- >0)&&!(Se=Ee.next()).done;)je.push(Se.value)}catch(U){we={error:U}}finally{try{Se&&!Se.done&&(ee=Ee.return)&&ee.call(Ee)}finally{if(we)throw we.error}}return je}function __spread(){for(var U=[],J=0;J<arguments.length;J++)U=U.concat(__read(arguments[J]));return U}function __spreadArrays(){for(var U=0,J=0,ee=arguments.length;J<ee;J++)U+=arguments[J].length;var Se=Array(U),we=0;for(J=0;J<ee;J++)for(var Ee=arguments[J],je=0,Ae=Ee.length;je<Ae;je++,we++)Se[we]=Ee[je];return Se}function __spreadArray(U,J,ee){if(ee||2===arguments.length)for(var Se,we=0,Ee=J.length;we<Ee;we++)!Se&&we in J||(Se||(Se=Array.prototype.slice.call(J,0,we)),Se[we]=J[we]);return U.concat(Se||Array.prototype.slice.call(J))}function __await(U){return this instanceof __await?(this.v=U,this):new __await(U)}function __asyncGenerator(U,J,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,we=ee.apply(U,J||[]),Ee=[];return Se={},verb("next"),verb("throw"),verb("return",(function awaitReturn(U){return function(J){return Promise.resolve(J).then(U,reject)}})),Se[Symbol.asyncIterator]=function(){return this},Se;function verb(U,J){we[U]&&(Se[U]=function(J){return new Promise((function(ee,Se){Ee.push([U,J,ee,Se])>1||resume(U,J)}))},J&&(Se[U]=J(Se[U])))}function resume(U,J){try{!function step(U){U.value instanceof __await?Promise.resolve(U.value.v).then(fulfill,reject):settle(Ee[0][2],U)}(we[U](J))}catch(U){settle(Ee[0][3],U)}}function fulfill(U){resume("next",U)}function reject(U){resume("throw",U)}function settle(U,J){U(J),Ee.shift(),Ee.length&&resume(Ee[0][0],Ee[0][1])}}function __asyncDelegator(U){var J,ee;return J={},verb("next"),verb("throw",(function(U){throw U})),verb("return"),J[Symbol.iterator]=function(){return this},J;function verb(Se,we){J[Se]=U[Se]?function(J){return(ee=!ee)?{value:__await(U[Se](J)),done:!1}:we?we(J):J}:we}}function __asyncValues(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,ee=U[Symbol.asyncIterator];return ee?ee.call(U):(U=__values(U),J={},verb("next"),verb("throw"),verb("return"),J[Symbol.asyncIterator]=function(){return this},J);function verb(ee){J[ee]=U[ee]&&function(J){return new Promise((function(Se,we){(function settle(U,J,ee,Se){Promise.resolve(Se).then((function(J){U({value:J,done:ee})}),J)})(Se,we,(J=U[ee](J)).done,J.value)}))}}}function __makeTemplateObject(U,J){return Object.defineProperty?Object.defineProperty(U,"raw",{value:J}):U.raw=J,U}var we=Object.create?function(U,J){Object.defineProperty(U,"default",{enumerable:!0,value:J})}:function(U,J){U.default=J};function __importStar(U){if(U&&U.__esModule)return U;var J={};if(null!=U)for(var ee in U)"default"!==ee&&Object.prototype.hasOwnProperty.call(U,ee)&&Se(J,U,ee);return we(J,U),J}function __importDefault(U){return U&&U.__esModule?U:{default:U}}function __classPrivateFieldGet(U,J,ee,Se){if("a"===ee&&!Se)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof J?U!==J||!Se:!J.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ee?Se:"a"===ee?Se.call(U):Se?Se.value:J.get(U)}function __classPrivateFieldSet(U,J,ee,Se,we){if("m"===Se)throw new TypeError("Private method is not writable");if("a"===Se&&!we)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof J?U!==J||!we:!J.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Se?we.call(U,ee):we?we.value=ee:J.set(U,ee),ee}function __classPrivateFieldIn(U,J){if(null===J||"object"!=typeof J&&"function"!=typeof J)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof U?J===U:U.has(J)}function __addDisposableResource(U,J,ee){if(null!=J){if("object"!=typeof J&&"function"!=typeof J)throw new TypeError("Object expected.");var Se,we;if(ee){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Se=J[Symbol.asyncDispose]}if(void 0===Se){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Se=J[Symbol.dispose],ee&&(we=Se)}if("function"!=typeof Se)throw new TypeError("Object not disposable.");we&&(Se=function(){try{we.call(this)}catch(U){return Promise.reject(U)}}),U.stack.push({value:J,dispose:Se,async:ee})}else ee&&U.stack.push({async:!0});return J}var Ee="function"==typeof SuppressedError?SuppressedError:function(U,J,ee){var Se=new Error(ee);return Se.name="SuppressedError",Se.error=U,Se.suppressed=J,Se};function __disposeResources(U){function fail(J){U.error=U.hasError?new Ee(J,U.error,"An error was suppressed during disposal."):J,U.hasError=!0}return function next(){for(;U.stack.length;){var J=U.stack.pop();try{var ee=J.dispose&&J.dispose.call(J.value);if(J.async)return Promise.resolve(ee).then(next,(function(U){return fail(U),next()}))}catch(U){fail(U)}}if(U.hasError)throw U.error}()}const je={__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__createBinding:Se,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources}}},J={};function __webpack_require__(ee){var Se=J[ee];if(void 0!==Se)return Se.exports;var we=J[ee]={exports:{}};return U[ee].call(we.exports,we,we.exports,__webpack_require__),we.exports}__webpack_require__.d=(U,J)=>{for(var ee in J)__webpack_require__.o(J,ee)&&!__webpack_require__.o(U,ee)&&Object.defineProperty(U,ee,{enumerable:!0,get:J[ee]})},__webpack_require__.o=(U,J)=>Object.prototype.hasOwnProperty.call(U,J),__webpack_require__.r=U=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var ee=__webpack_require__(6568),Se=exports;for(var we in ee)Se[we]=ee[we];ee.__esModule&&Object.defineProperty(Se,"__esModule",{value:!0})})();
//# sourceMappingURL=index.js.map